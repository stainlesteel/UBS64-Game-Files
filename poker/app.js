m3dcache.setup.apptype="";m3dcache.setup.apptype="ext1tri";m3dconf.setup.sn.sn=0;m3dconf.setup.sn.trio=!0;m3d.core.initAppDefaults();m3d.core.menuAddCore();m3d.lib.flashVarsGet();m3dcache.i.landfold="landscape";m3dcache.setup.aspect.swch=1;String.prototype.tofinance=function(){for(var a=this.length-1,b="",c=0;0<a;)b=this[a]+b,--a,c++,3==c&&(b=" "+b,c=0);return this[0]+b};hst="local";rndr=2;
var apVar={a1:0,ad:[160,600],thisPath:"index.htm",chlang:!1,loadedall:!1,initApp:!1,initWnd:!1,loadedLangCore:!1,passport:!0,mouse:0,mousedn:!1,menu:"far",canverr:0,vw:740,vh:680,vw2:370,vh2:340,startPlaneTv:0,landobjects:1,stats:0,shop:!1,book:!0,vdist:700,vdist1:50,vdist2:3E3,lightD:!1,idb:!1,blockinfo:!1,lng:"en",lngs:["","en","ru"],thm:"metal",thms:["","metal"],camerafOn:!1,loggingon:!1,init3Dstart:!1,init3Dfail:!1},intsApps=[],intsAppsCb=[],intsGames=[],intsGamesCb=[];mnButtonOver=0;
m3dcache.i.ads={w:124,h:600,tp:"canvas",side:"rt",t:1E4,i:0,t0:0,on:!1,content:[{img:"ban",x:0,y:0,w:120,h:600,lnk:function(){return""}},{img:"ban",x:120,y:0,w:120,h:600,lnk:function(){return"https://m3d.me/index.html?go=percylancaster"}},{img:"ban",x:360,y:0,w:120,h:600,lnk:function(){return"https://www.instagram.com/blazer_never_die/"}},{img:"ban",x:240,y:0,w:120,h:600,lnk:function(){return"https://m3d.me/index.html?go=cloud-tabs"}}]};
ap={sn:{fb:{id:"2555379748056278"},pathData:"d/data.php",signedRequest:"",userID:"",av:"",logged:0,tri:30,firstRun:!0},mnbk:{},aud:{},v:{dark:!1,timerRender:16.6,idbAval:!1},game:{recpg:1,recpgChanged:!0,rec:[],deck:{},v:{}},paths2D:"i/ m3dmenu_{lng}.png gmenu_{lng}.png cardst_{lng}.png cards.png bg.png common.png t_heart.png ban.jpg".split(" "),pathkeys2D:"m3dmenu gmenu cardst cards bg cardsm cardsh ban".split(" "),paths3D:["i/",""],pathkeys3D:[""],pathsa:"sounds/ click1. click2. card0. card1. chip1. coin1. theme1. theme2.".split(" "),
pathskeysa:"click1 click2 card0 card1 chip1 coin1 theme1 theme2".split(" "),er:"",defMoney:2E3,rate:[{},{games:0,wins:0,rate:0,money:2E3},{games:0,wins:0,rate:0,money:2E3},{games:0,wins:0,rate:0,money:2E3},{games:0,wins:0,rate:0,money:2E3},{games:0,wins:0,rate:0,money:2E3},{games:0,wins:0,rate:0,money:2E3},{games:0,wins:0,rate:0,money:2E3},{games:0,wins:0,rate:0,money:2E3},{games:0,wins:0,rate:0,money:2E3},{games:0,wins:0,rate:0,money:2E3}],newGVar:function(){ap.game.v.ratingsv=!0;ap.game.v.socialv=
!1;ap.game.v.onlinev=!1;ap.game.v.fullv=!1;ap.game.v.tri=30;1==m3dconf.setup.sn.trio&&m3d.lib.storageAdd("poker3bagsT",Date.now());if("ext1"==m3dcache.setup.apptype||"ext1tri"==m3dcache.setup.apptype)apVar.thisPath="index.html",m3dconf.htmlname="index.html";3==m3dconf.setup.sn.sn&&(apVar.thisPath="index_f.html",m3dconf.htmlname="index_f.html");2==m3dconf.setup.sn.sn&&(apVar.thisPath="index_v.html",m3dconf.htmlname="index_v.html");"desk"==m3dcache.setup.apptype&&(ap.sn.tri=-100,ap.game.v.tri=-100,
ap.game.v.fullv=!0);"ext1"==m3dcache.setup.apptype&&(m3d.lib.storageAdd("poker3bagsT",0),ap.sn.tri=-100,ap.game.v.tri=-100,ap.game.v.fullv=!0);"undefined"!==typeof m3dconf.setup.sn&&(2==m3dconf.setup.sn.sn&&(ap.sn.logged=2,ap.game.v.socialv=!0),3==m3dconf.setup.sn.sn&&(ap.sn.logged=3,ap.game.v.socialv=!0),4==m3dconf.setup.sn.sn&&(ap.sn.logged=4,ap.game.v.socialv=!0));ap.game.v.tri=ap.sn.tri;-100==ap.sn.tri&&(ap.game.v.fullv=!0);ap.game.v.openg=[1,1,1,1,1];0==ap.game.v.fullv&&(ap.game.v.openg=[1,1,
1,0,0]);ap.game.v.gameN=0;ap.game.v.gameToStart=0;ap.game.v.gameMP=0;ap.game.v.pls=2;ap.game.v.maxpls=2;ap.game.v.wa=!1;ap.game.v.mp=!1;ap.game.v.men=!0;ap.game.v.fchip=!0;ap.game.v.bet=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.betar=[];ap.game.v.betari=-1;ap.game.v.me=1;ap.game.v.ord=1;ap.game.v.mv=1;ap.game.v.pl=1;ap.game.v.de=1;ap.game.v.blind=1;ap.game.v.smallblind=1;ap.game.v.startmove=1;ap.game.v.endmove=1;ap.game.v.mode="preflop";ap.game.v.thistory="          ".split(" ");ap.game.v.thistory2="          ".split(" ");
ap.game.v.pdrop=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.praise=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.pcall=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.ktotal=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.ktotalready=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.kmax=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.kmaxready=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.score=0;ap.game.v.waiting=!1;ap.game.v.deck=[6,14];ap.game.v.deck52=[2,14];ap.game.v.tableCard=0;ap.game.v.selCardSaveY=0;ap.game.v.tstatus=function(){};ap.game.v.tact=function(){};ap.game.v.selCard=0;
ap.game.v.selCardCash=0;ap.game.v.parCash=0;ap.game.v.cashOpenCards=[];ap.game.v.cashOpened=0;ap.game.v.set.animCards=!0;ap.game.v.set.sound=!0;ap.game.v.set.setcpos=[[],[1,660,410,10,0],[2,550,-100,10,0]];ap.game.v.state={};ap.game.v.state.a="go";ap.game.v.state.a2="";ap.game.v.state.koz=1;ap.game.v.state.score=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.winner=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.winnerCards=[0,[],[],[],[]];ap.game.v.endlv=!1;ap.game.v.winnersumcards=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.winnerkicker=
[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.k=[];ap.game.v.ks=[];ap.game.v.serv="";ap.game.v.online={ar:[[]],p:0,f:0,checking:0,updtable:1,entergame:0,autocloset:0,autoclosetd:3E5,gid:-1,oid:-1,procshot:!1,nextstwait:!1,readyall:!1,endconfirm:!1,waitend:!1,readygot:!1,lastreqt:0,glowsh:0,rec:!1,recle:1,recpg:1};ap.game.v.gm={ar:[[]]};ap.game.v.pos={pb:[40,84,131,84,180,84,271,84,320,84,411,84,40,154,131,154,180,154,271,154,320,154,411,154,40,224,131,224,180,224,271,224,320,224,411,224,180,294,271,294],pf:[71,
53,211,53,351,53,71,123,211,123,351,123,71,193,211,193,351,193,211,263],std2:{i:[[],[105,350],[105,80],[],[],[],[],[],[],[]],p:[[],[358,468],[358,-82],[],[],[],[],[],[],[]],f:[[],[163,336],[163,76],[],[],[],[],[],[],[]]},poker:{i:[[],[],[],[],[],[],[],[],[],[]],p:[[],[],[],[],[],[],[],[],[],[]],f:[[],[],[],[],[],[],[],[],[],[]],d:[[],[],[],[],[],[],[],[],[],[]],h:[[],[],[],[],[],[],[],[],[],[]]},poker_var:[{},{},{i:[[],[215,350],[215,80],[],[],[],[],[],[],[]],p:[[],[358,468],[358,-82],[],[],[],[],
[],[],[]],f:[[],[232,488],[215,-80],[],[],[],[],[],[],[]],d:[[],[144,344],[144,74],[],[],[],[],[],[],[]],h:[[],[348,468],[348,-12],[],[],[],[],[],[],[]],w:[[],[52,421],[50,5],[],[],[],[],[],[],[]],c:[[],[506,513],[53,11],[],[],[],[],[],[],[]],av:[[],[20,430],[20,-72]]},{i:[[],[215,350],[215,80],[560,80],[],[],[],[],[],[]],p:[[],[358,468],[148,-82],[568,-82],[],[],[],[],[],[]],f:[[],[232,488],[291,-75],[472,-75],[],[],[],[],[],[]],d:[[],[144,344],[72,99],[689,99],[],[],[],[],[],[]],h:[[],[348,468],
[113,-12],[583,-12],[],[],[],[],[],[]],w:[[],[52,421],[50,5],[498,5],[],[],[],[],[],[]],c:[[],[506,513],[53,11],[501,11],[],[],[],[],[],[]],av:[[],[-90,430],[-84,-72],[191,-72]]},{i:[[],[215,350],[215,80],[560,80],[560,350],[],[],[],[],[]],p:[[],[198,468],[148,-82],[568,-82],[628,468],[],[],[],[],[]],f:[[],[346,488],[291,-75],[472,-75],[527,488],[],[],[],[],[]],d:[[],[144,344],[72,99],[689,99],[495,387],[],[],[],[],[]],h:[[],[173,468],[113,-12],[583,-12],[623,418],[],[],[],[],[]],w:[[],[50,421],[50,
5],[498,5],[498,421],[],[],[],[],[]],c:[[],[88,519],[53,11],[501,11],[501,431],[],[],[],[],[]],av:[[],[-90,430],[-84,-72],[191,-72],[185,430]]},{av:[[],[-90,430],[-84,-72],[191,-72],[440,15],[185,430]]},{av:[[],[-90,430],[-344,15],[-84,-72],[191,-72],[440,15],[185,430]]},{av:[[],[-90,430],[-344,15],[-84,-72],[191,-72],[440,15],[440,345],[185,430]]},{av:[[],[-90,430],[-344,345],[-344,15],[-84,-72],[191,-72],[440,15],[440,345],[185,430]]},{av:[[],[-90,430],[-344,345],[-364,180],[-344,15],[-84,-72],
[191,-72],[440,15],[440,345],[185,430]]},{av:[[],[-90,430],[-344,345],[-364,180],[-344,15],[-84,-72],[191,-72],[440,15],[460,180],[440,345],[185,430]]}]}},newMoney:function(){for(var a=[{},{s:0,t:1},{s:0,t:3},{s:0,t:3},{s:0,t:3},{s:0,t:3},{s:0,t:3},{s:0,t:3},{s:0,t:3},{s:0,t:3},{s:0,t:3}],b=1;b<ap.rate.length;b++)a[b].s=ap.rate[b].money;return a},resetMoney:function(){for(var a=1;11>a;a++)ap.game.v.money[a].s=ap.defMoney,ap.rate[a].money=ap.defMoney},resetMoneyByDef:function(){for(var a=1;11>a;a++)ap.rate[a].money=
ap.defMoney},menuAddMyLocation:function(){var a={cash_var:[[166,70,[166,70]],[0,0,0,0,0,0]],cash:[[166,70,[166,70]],[0,0,0,0,0,0],[2,4,2,4,2,4]],cash_bts:[[2,4,2,4],[552,4,552,4],[552,74,552,74],[552,144,552,144],[552,214,552,214],[552,544,552,544]],cashs_var:[[130,70,[130,70]],[0,0,0,0,0,0]],cashs:[[130,70,[130,70]],[0,0,0,0,0,0],[680,688,680,688]],cashs_bts:[[545,1145,545,1145,545,1145],[680,1145,680,1145,680,1145],[680,688,680,688,680,688],[545,688,545,688,545,688],[680,1220,680,1220,680,1220],
[815,688,815,688,815,688],[950,688,950,688,950,688]],cashs_btd:[[479,343,350,343,221,343],[285,343,415,343]],table:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],table_btd:[235,180,365,180,495,180,625,180],table_cash_btd:[105,180,235,180,365,180,495,180,625,180],table_1_5_btd:[200,180,309,180,418,180,527,180,636,180],player_var:[[100,140,[100,140]],[0,0,0,0,0,0]],player1:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],player2:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],
player3:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],player4:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],player5:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],player6:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],player7:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],player8:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],player9:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],player10:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],mn2_inf:[[100,140,[100,140]],[0,0,0,0,0,0],[0,0,0,0]],mn2_start:[[252,
56,[252,56]],[0,0,0,0,0,0],[821,1037,821,1037],[821,1097,821,1097],[821,1157,821,1157],[821,1217,821,1217],[821,1277,821,1277]],mn2_start2:[[252,56,[252,56]],[0,0,0,0,0,0],[271,321,271,321],[271,381,271,381],[271,441,271,441],[271,501,271,501],[271,561,271,561]],mn2_start_help:[[58,58,[58,58]],[60,662,60,662,60,662],[60,662,60,662]],mn2_start_help2:[[58,58,[58,58]],[0,662,0,662,0,662],[0,662,0,662]],mn2_start_top1:[[44,44,[44,44]],[364,1268,364,1268,364,1268],[364,1268,364,1268]],mn2_start_top2:[[44,
44,[44,44]],[314,1268,314,1268,314,1268],[314,1268,314,1268]],mn2_start_open:[[56,56,[56,56]],[0,0,0,0,0,0],[317,1203,317,1203],[317,1203,317,1203],[317,1203,317,1203],[317,1203,317,1203],[317,1203,317,1203]],mn2_start_open_btd1:[457,263,457,319,457,375,457,431,457,507],mn2_start_open2:[[56,56],[0,0,0,0,0,0],[729,59,729,59],[729,59,729,59],[729,59,729,59],[729,59,729,59],[729,59,729,59]],mn2_start_open_btd2:[457,213,457,269,457,325,457,381,457,457],lang_var:[[35,24,[35,24]],[0,0,0,0,0,0],[685,480,
685,480],[685,450,685,450]],lang:[[35,24,[35,24]],[0,0,0,0,0,0],[685,480,685,480]],mn2_soc1:[[42,42,[42,42]],[0,0,0,0,0,0],[668,854,668,854]],mn2_soc2:[[114,50,[114,50]],[0,0,0,0,0,0],[394,1152,394,1152],[394,1212,394,1212],[548,449,548,449]],mn2_soc22:[[114,50,[114,50]],[0,0,0,0,0,0],[548,332,548,332],[548,392,548,392],[548,449,548,449]],gmenu0:[[74,74,[74,74]],[0,0,0,0,0,0],[0,196,75,196,0,196],[150,196,225,196,150,196],[300,196,375,196,300,196]],mn2_game:[[252,56,[252,56]],[0,0,0,0,0,0],[271,81,
271,81],[271,141,271,141],[271,201,271,201],[271,261,271,261],[271,321,271,321]],mn2_game_cross:[[24,24,[24,24]],[695,745,695,745,695,745],[669,719,695,719],[669,797,695,797]],mn2_rules:[[530,450,[530,450]],[0,0,0,0,0,0],[0,0,0,0]],gmenu:[[100,100,[100,100],[50,50,50,50,50,50,50,50,100,100,100,100,100,100,100,100]],[0,0,0,0,0,0],[25,71,25,71,25,71],[115,71,115,71,115,71],[72,25,72,25,72,25],[72,115,72,115,72,115],[165,45,165,45,165,45],[270,45,270,45,270,45],[375,45,375,45,375,45],[480,45,480,45,
480,45]],mn2_k:[[132,50,[132,50]],[0,0,0,0,0,0],[276,708,276,708]],mn2_rec:[[132,50,[132,50],[132,50,98,50,98,50]],[0,0,0,0,0,0],[276,708,276,708],[416,1277,416,1277],[516,1277,516,1277]],mn2_newg:[[186,50,[186,50]],[1050,450,1050,450,1050,502],[4,990,192,990],[4,1042,192,1042]],mn2_newgp_var:[[38,62,[38,62]],[0,0,0,0,0,0]],mn2_newgp:[[38,62,[38,62]],[0,0,0,0,0,0],[736,184,736,184]],mn2_newgp_bts:[[736,184,736,184],[736,120,736,120]],mn2_newgpadd:[[56,56,[56,56]],[0,0,0,0,0,0],[660,332,660,332]],
mn2_newgpadd_var:[[56,56,[56,56]],[0,0,0,0,0,0]],mn2_newgpadd_bts:[[660,332,660,332]],mn2_onl:[[186,50,[186,50]],[0,0,0,0,0,0],[4,1146,4,1146]],mn2_onl_bts:[[4,1094,4,1094],[4,1146,4,1146]],mn2_dbig1:[[132,50,[132,50]],[0,0,0,0,0,0],[276,708,276,708]],mn2_dbig_yc:[[132,50,[132,50]],[0,0,0,0,0,0],[276,708,276,708],[392,1018,392,1018]],mn2_dbig_yp:[[132,50,[132,50]],[0,0,0,0,0,0],[276,708,276,708],[410,707,410,707]],payment:[[132,50,[132,50]],[0,0,0,0,0,0],[392,1018,392,1018]],paymentvar:[[172,216,
[172,216]],[0,0,0,0,0,0],[1080,2,1080,2],[1080,222,1080,222],[1080,442,1080,442]],paymentvar_btd:[122,120,264,105,406,120],paymentvar_btd_0:[122,120,264,105,406,120],his:[[132,62,[132,62]],[0,0,0,0,0,0]]},b;for(b in a)mnb[b]=a[b];a={cash:{sig:"custom",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2],set:[1],cb:[0],btd:[335,345],bts:mnb.cash,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},cashs:{sig:"custom",
sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2,3,4],set:[1,1,1,1,1,1],cb:[0,0,0,0,0,0],btd:mnb.cashs_btd,bts:mnb.cashs,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},table:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[5,5,5,5],cb:[0,0,0,0],btd:[235,180,365,180,495,297,625,180],bts:mnb.table,canv:!1,
cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1,i:0},player1:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!0,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player1,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},player2:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player2,canv:!1,
cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},player3:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player3,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},player4:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player4,canv:!1,cx:0,
cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},player5:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player5,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},player6:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player6,canv:!1,cx:0,cy:0,
btlabel:{},bvar:"",multitouch:!1,slide:!1},player7:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player7,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},player8:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player8,canv:!1,cx:0,cy:0,btlabel:{},
bvar:"",multitouch:!1,slide:!1},player9:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player9,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},player10:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player10,canv:!1,cx:0,cy:0,btlabel:{},
bvar:"",multitouch:!1,slide:!1},player99:{sig:"custom0",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cards"],bt:[],set:[],cb:[],btd:[],bts:mnb.player2,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},gmenu0:{sig:"custom",sxpos:0,sypos:0,x:0,y:0,sw:74,sh:74,sw2:37,sh2:37,fix:!1,on:!1,drawbk:!1,block:!0,outbk:!0,bk:2,bki:["bg","gmenu"],bt:[2,3,4],set:[1,1,1],cb:[0,0,0],btd:[0,0,0,0,0,0],bts:mnb.gmenu0,canv:!1,cx:0,cy:0,
btlabel:{},bvar:"",multitouch:!1,slide:!1},gmenu:{sig:"custom",sxpos:0,sypos:0,x:0,y:0,sw:610,sh:190,sw2:305,sh2:95,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,btbkclear:!1,btbk:!1,txbt:!1,bk:2,bki:["gmenu","gmenu"],bt:[2,3,4,5,6,7,8,9],set:[1,1,1,1,1,1,1,1],cb:[0,0,0,0,0,0,0,0],btd:[25,71,115,71,72,25,72,115,165,45,270,45,375,45,480,45],bts:mnb.gmenu,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_inf:{sig:"buttonscustom",sxpos:0,sypos:0,x:720,y:450,sw:320,sh:124,sw2:160,sh2:62,fix:!0,
on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[],set:[1],cb:[0],btd:[0,0],bts:mnb.mn2_inf,btt:[],bttxy:[],btw2:62,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_start:{sig:"custom",sxpos:0,sypos:0,x:904,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["cardsh","cardst"],bt:[2,3,4,5,6],set:[1,4,4,4,4],cb:[0,0,0,0,0],btd:[203,319,203,263,203,207,203,375,203,431],bts:mnb.mn2_start,btt:[],bttxy:[],btw2:59,canv:!1,cx:0,cy:0,btlabel:{},
bvar:"",multitouch:!1,slide:!1},mn2_start1:{sig:"custom",sxpos:0,sypos:0,x:904,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["cardsh","cardst"],bt:[2,3,4,5,6],set:[1,4,4,4,4],cb:[0,0,0,0,0],btd:[203,319,203,263,203,207,203,375,203,431],bts:mnb.mn2_start,btt:[],bttxy:[],btw2:59,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_start2:{sig:"custom",sxpos:0,sypos:0,x:0,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,
bki:["cardsh","cardst"],bt:[2,3,4,5,6],set:[1,4,4,4,4],cb:[0,0,0,0,0],btd:[203,269,203,213,203,157,203,325,203,381],bts:mnb.mn2_start2,btt:[],bttxy:[],btw2:59,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_start_open:{sig:"custom",sxpos:0,sypos:0,x:904,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["cardsh","cardst"],bt:[2,3,4,5,6],set:[1,1,1,1,1],cb:[0,0,0,0,0],btd:mnb.mn2_start_open_btd1,bts:mnb.mn2_start_open,btt:[],bttxy:[],btw2:62,canv:!1,
cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_start_open1:{sig:"custom",sxpos:0,sypos:0,x:904,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["cardsh","cardst"],bt:[2,3,4,5,6],set:[1,1,1,1,1],cb:[0,0,0,0,0],btd:mnb.mn2_start_open_btd1,bts:mnb.mn2_start_open,btt:[],bttxy:[],btw2:62,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_start_open2:{sig:"custom",sxpos:0,sypos:0,x:0,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,
outbk:!1,bk:2,bki:["cardsh","cardst"],bt:[2,3,4,5,6],set:[1,1,1,1,1],cb:[0,0,0,0,0],btd:mnb.mn2_start_open_btd2,bts:mnb.mn2_start_open,btt:[],bttxy:[],btw2:62,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_start_help:{sig:"custom",sxpos:0,sypos:0,x:904,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["cardsh","cardsh"],bt:[2],set:[1],cb:[0],btd:[560,370],bts:mnb.mn2_start_help,btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,
slide:!1},mn2_start_help1:{sig:"custom",sxpos:0,sypos:0,x:904,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["cardsh","cardsh"],bt:[2],set:[1],cb:[0],btd:[560,370],bts:mnb.mn2_start_help,btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_start_help2:{sig:"custom",sxpos:0,sypos:0,x:0,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["cardsh","cardsh"],bt:[2],set:[1],cb:[0],btd:[528,74],bts:mnb.mn2_start_help2,
btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_start_top:{sig:"custom",sxpos:0,sypos:0,x:904,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["cardsh","cardst"],bt:[2],set:[1],cb:[0],btd:[52,428],bts:mnb.mn2_start_top1,btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_start_top1:{sig:"custom",sxpos:0,sypos:0,x:904,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,
bk:2,bki:["cardsh","cardst"],bt:[2],set:[1],cb:[0],btd:[52,428],bts:mnb.mn2_start_top1,btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_start_top2:{sig:"custom",sxpos:0,sypos:0,x:0,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["cardsh","cardst"],bt:[2],set:[1],cb:[0],btd:[52,204],bts:mnb.mn2_start_top2,btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},lang:{sig:"custom",sxpos:0,sypos:0,
x:904,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["cardsh","cardsm"],bt:[2],set:[1],cb:[0],btd:[313,580],bts:mnb.lang,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},lang1:{sig:"custom",sxpos:0,sypos:0,x:904,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["cardsh","cardsm"],bt:[2],set:[1],cb:[0],btd:[313,580],bts:mnb.lang,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},lang2:{sig:"custom",sxpos:0,
sypos:0,x:0,y:0,sw:660,sh:660,sw2:330,sh2:330,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["cardsh","cardsm"],bt:[2],set:[1],cb:[0],btd:[313,536],bts:mnb.lang,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_soc1:{sig:"custom",sxpos:0,sypos:0,x:662,y:0,sw:240,sh:240,sw2:120,sh2:120,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["cardsh","cardsm"],bt:[2],set:[1],cb:[0],btd:[132,76],bts:mnb.mn2_soc1,btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,
slide:!1},mn2_soc2:{sig:"custom",sxpos:0,sypos:0,x:662,y:484,sw:240,sh:240,sw2:120,sh2:120,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["cardsh","cardst"],bt:[2,3],set:[1,1,1],cb:[0,0,0],btd:[62,64,62,112,64,202],bts:mnb.mn2_soc2,btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_soc21:{sig:"custom",sxpos:0,sypos:0,x:662,y:484,sw:240,sh:240,sw2:120,sh2:120,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["cardsh","cardst"],bt:[],set:[1,1,1],cb:[0,0,0],
btd:[63,64,63,112,64,202],bts:mnb.mn2_soc2,btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_soc22:{sig:"custom",sxpos:0,sypos:0,x:662,y:242,sw:240,sh:240,sw2:120,sh2:120,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["cardsh","cardst"],bt:[],set:[1,1,1],cb:[0,0,0],btd:[64,75,64,123,64,202],bts:mnb.mn2_soc22,btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_game:{sig:"custom",sxpos:0,sypos:0,x:840,y:600,sw:440,sh:440,
sw2:220,sh2:220,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2,3,4,5,6],set:[1,1,1,1,1],cb:[0,0,0,0,0],btd:[91,100,91,160,91,220,91,280],bts:mnb.mn2_game,btt:[],bttxy:[],btw2:59,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_game_cross:{sig:"custom",sxpos:0,sypos:0,x:2,y:2,sw:458,sh:328,sw2:230,sh2:164,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cardsm"],bt:[2],set:[1,1,1],cb:[0,0,0],btd:[386,29,344,29],bts:mnb.mn2_game_cross,btt:[],bttxy:[],
btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_rules:{sig:"custom",sxpos:0,sypos:0,x:0,y:0,sw:530,sh:450,sw2:265,sh2:225,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2],set:[1],cb:[0],btd:[0,0],bts:mnb.mn2_rules,btt:[],bttxy:[],btw2:0,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_k:{sig:"custom",sxpos:0,sypos:0,x:0,y:0,sw:710,sh:590,sw2:355,sh2:295,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2],set:[1],
cb:[0],btd:[288,515],bts:mnb.mn2_k,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_rec:{sig:"custom",sxpos:0,sypos:0,x:0,y:0,sw:710,sh:590,sw2:355,sh2:295,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2,3,4],set:[1,1,1],cb:[0],btd:[288,515,192,515,418,515],bts:mnb.mn2_rec,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_his:{sig:"custom",sxpos:135,sypos:90,x:0,y:600,sw:830,sh:500,sw2:415,sh2:250,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,
bki:["bg","cardst"],bt:[],set:[],cb:[],btd:[],bts:mnb.his,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_newg:{sig:"buttonscustom",sxpos:0,sypos:0,x:720,y:0,sw:700,sh:440,sw2:350,sh2:220,fix:!0,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2,3],set:[3,1],cb:[0,0],btd:[31,50,31,98],bts:mnb.mn2_newg,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_newgp:{sig:"custom0",sxpos:0,sypos:0,x:720,y:0,sw:700,sh:440,sw2:350,sh2:220,fix:!1,on:!1,drawbk:!1,block:!1,
outbk:!1,bk:2,bki:["bg","cardst"],bt:[],set:[],cb:[],btd:[],bts:mnb.mn2_newgp,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_newgpadd:{sig:"custom0",sxpos:0,sypos:0,x:720,y:0,sw:700,sh:440,sw2:350,sh2:220,fix:!1,on:!1,drawbk:!1,block:!1,outbk:!1,bk:2,bki:["bg","cardsm"],bt:[],set:[],cb:[],btd:[],bts:mnb.mn2_newgpadd,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_onl:{sig:"custom",sxpos:0,sypos:0,x:720,y:0,sw:700,sh:440,sw2:350,sh2:220,fix:!0,on:!1,drawbk:!1,block:!1,
outbk:!1,bk:2,bki:["bg","cardst"],bt:[2],set:[1],cb:[0],btd:[31,146],bts:mnb.mn2_onl,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_dbig1:{sig:"custom",sxpos:0,sypos:0,x:720,y:0,sw:700,sh:440,sw2:350,sh2:220,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2],set:[1],cb:[0],btd:[284,365],bts:mnb.mn2_dbig1,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_dbig_yc:{sig:"custom",sxpos:0,sypos:0,x:720,y:0,sw:700,sh:440,sw2:350,sh2:220,fix:!1,on:!1,
drawbk:!0,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2,3],set:[1,1],cb:[0,0],btd:[216,365,352,365],bts:mnb.mn2_dbig_yc,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},mn2_dbig_yp:{sig:"custom",sxpos:0,sypos:0,x:720,y:0,sw:700,sh:440,sw2:350,sh2:220,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2,3],set:[1,1],cb:[0,0],btd:[216,365,352,365],bts:mnb.mn2_dbig_yp,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},payment:{sig:"custom",sxpos:0,sypos:0,
x:720,y:0,sw:700,sh:440,sw2:350,sh2:220,fix:!1,on:!1,drawbk:!0,block:!1,outbk:!1,bk:2,bki:["bg","cardst"],bt:[2],set:[1],cb:[0],btd:[284,365],bts:mnb.payment,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",multitouch:!1,slide:!1},paymentvar:{sig:"custom",sxpos:0,sypos:0,x:720,y:0,sw:700,sh:440,sw2:350,sh2:220,fix:!0,on:!1,drawbk:!1,block:!1,outbk:!1,btbkclear:!1,btbk:!1,txbt:!0,bk:2,bki:["bg","cardst"],bt:[2,3,4],set:[1,1,1],cb:[0,0,0],btd:mnb.paymentvar_btd,bts:mnb.paymentvar,canv:!1,cx:0,cy:0,btlabel:{},bvar:"",
multitouch:!1,slide:!1,blockstyle:1}};for(b in a)mn[b]=a[b];mn_index=mn_index.concat("cash cashs table player1 player2 player3 player4 player5 player6 player7 player8 player9 player10 player99 mn2_start mn2_start_open mn2_start_help mn2_start_top lang mn2_his mn2_k mn2_game mn2_game_cross mn2_soc1 mn2_soc2 mn2_dbig1 mn2_dbig_yc mn2_dbig_yp payment paymentvar mn2_newg mn2_onl mn2_newgp mn2_newgpadd mn2_rec mn2_inf gmenu0 gmenu".split(" "))},menuSetPosMyLocation:function(){1==ap.game.v.set.theme?(mn.mn2_start.sxpos=
m3dcache.v.vw2-mn.mn2_start.w2,mn.mn2_start.sypos=m3dcache.v.vh2-mn.mn2_start.h2-8,mn.mn2_start_help.sxpos=mn.mn2_start.sxpos,mn.mn2_start_help.sypos=mn.mn2_start.sypos,mn.mn2_start_top.sxpos=mn.mn2_start.sxpos,mn.mn2_start_top.sypos=mn.mn2_start.sypos,mn.mn2_start_open.sxpos=mn.mn2_start.sxpos,mn.mn2_start_open.sypos=mn.mn2_start.sypos,mn.mn2_soc1.sxpos=mn.mn2_start.sxpos+mn.mn2_start.w2-370,mn.mn2_soc1.sypos=mn.mn2_start.sypos+6,mn.mn2_soc2.sxpos=mn.mn2_start.sxpos+mn.mn2_start.w2+370-mn.mn2_soc2.w-
5,mn.mn2_soc2.sypos=mn.mn2_start.sypos+6):(mn.mn2_start.sxpos=m3dcache.v.vw2-mn.mn2_start.w2,mn.mn2_start.sypos=m3dcache.v.vh2-mn.mn2_start.h2+8,mn.mn2_start_help.sxpos=mn.mn2_start.sxpos,mn.mn2_start_help.sypos=mn.mn2_start.sypos,mn.mn2_start_top.sxpos=mn.mn2_start.sxpos,mn.mn2_start_top.sypos=mn.mn2_start.sypos,mn.mn2_start_open.sxpos=mn.mn2_start.sxpos,mn.mn2_start_open.sypos=mn.mn2_start.sypos,mn.mn2_soc1.sxpos=mn.mn2_start.sxpos+mn.mn2_start.w2-370,mn.mn2_soc1.sypos=mn.mn2_start.sypos+mn.mn2_start.h-
mn.mn2_soc1.h-20,mn.mn2_soc2.sxpos=mn.mn2_start.sxpos+mn.mn2_start.w2+370-mn.mn2_soc2.w-5,mn.mn2_soc2.sypos=mn.mn2_start.sypos+mn.mn2_start.h-mn.mn2_soc2.h-20);mn.lang.sxpos=mn.mn2_start.sxpos;mn.lang.sypos=mn.mn2_start.sypos;mnb.lang[2]=mnb.lang_var[2];"ru"==m3dcache.v.lng&&(mnb.lang[2]=mnb.lang_var[3]);mn.mn2_game.sxpos=m3dcache.v.vw2-mn.mn2_game.w2;mn.mn2_game.sypos=m3dcache.v.vh2-mn.mn2_game.h2;mn.mn2_game_cross.sxpos=mn.mn2_game.sxpos;mn.mn2_game_cross.sypos=mn.mn2_game.sypos;mn.mn2_inf.sxpos=
m3dcache.v.vw2-mn.mn2_inf.w2;mn.mn2_inf.sypos=m3dcache.v.vh2-mn.mn2_inf.h2-10;mn.mn2_inf.ctx=apctx;mn.mn2_rules.sxpos=m3dcache.v.vw2-mn.mn2_rules.w2;mn.mn2_rules.sypos=m3dcache.v.vh2-mn.mn2_rules.h2;mn.cash.sxpos=m3dcache.v.vw2-mn.cash.w2;mn.cash.sypos=m3dcache.v.vh2-mn.cash.h2;mn.cash.ctx=m3d.ui.layers.canvbk.ctx;mn.player99.sxpos=mn.cash.sxpos;mn.player99.sypos=mn.cash.sypos;mn.player99.ctx=m3d.ui.layers.canvbk.ctx;mn.player1.ctx=m3d.ui.layers.canvbk.ctx;mn.player2.ctx=m3d.ui.layers.canvbk.ctx;
mn.player3.ctx=m3d.ui.layers.canvbk.ctx;mn.player4.ctx=m3d.ui.layers.canvbk.ctx;mn.player5.ctx=m3d.ui.layers.canvbk.ctx;mn.player6.ctx=m3d.ui.layers.canvbk.ctx;mn.player7.ctx=m3d.ui.layers.canvbk.ctx;mn.player8.ctx=m3d.ui.layers.canvbk.ctx;mn.player9.ctx=m3d.ui.layers.canvbk.ctx;mn.player10.ctx=m3d.ui.layers.canvbk.ctx;mn.player1.bbot=ap.mnPlayer1BotGames;mn.player1.bbot=ap.mnPlayer1BotGames;mn.player2.bbot=ap.mnPlayer2BotGames;mn.player3.bbot=ap.mnPlayer3BotGames;mn.player4.bbot=ap.mnPlayer4BotGames;
mn.player5.bbot=ap.mnPlayer5BotGames;mn.player6.bbot=ap.mnPlayer6BotGames;mn.player7.bbot=ap.mnPlayer7BotGames;mn.player8.bbot=ap.mnPlayer8BotGames;mn.player9.bbot=ap.mnPlayer9BotGames;mn.player10.bbot=ap.mnPlayer10BotGames;mn.player99.bbot=mnPlayer1Bot;mn.player1.bbot0=ap.mnPlayer1Bot0Games;mn.player2.bbot0=ap.mnPlayer2Bot0Games;mn.player3.bbot0=ap.mnPlayer3Bot0Games;mn.player4.bbot0=ap.mnPlayer4Bot0Games;mn.player5.bbot0=ap.mnPlayer5Bot0Games;mn.player6.bbot0=ap.mnPlayer6Bot0Games;mn.player7.bbot0=
ap.mnPlayer7Bot0Games;mn.player8.bbot0=ap.mnPlayer8Bot0Games;mn.player9.bbot0=ap.mnPlayer9Bot0Games;mn.player10.bbot0=ap.mnPlayer10Bot0Games;mn.cashs.sxpos=m3dcache.v.vw2-mn.cashs.w2;mn.cashs.sypos=m3dcache.v.vh2-mn.cashs.h2;mn.mn2_his.sxpos=m3dcache.v.vw2-mn.mn2_his.w2;mn.mn2_his.sypos=m3dcache.v.vh2-mn.mn2_his.h2;mn.table.ctx=m3d.ui.layers.canvbk.ctx;mn.cashs.ctx=m3d.ui.layers.canvbk.ctx;mn.gmenu0.sxpos=mn.cash.sxpos-3;mn.gmenu0.sypos=mn.cash.sypos-116;mn.gmenu0.btd=[mn.cash.w+62,27,mn.cash.w+62-
75,27,mn.cash.w-960,27];mn.gmenu.sxpos=mn.cash.sxpos+mn.cash.w2-mn.gmenu.w2;mn.gmenu.sypos=mn.cash.sypos+mn.cash.h2-mn.gmenu.h2;mn.mn2_k.sxpos=m3dcache.v.vw2-mn.mn2_k.w2;mn.mn2_k.sypos=m3dcache.v.vh2-mn.mn2_k.h2;mn.mn2_rec.sxpos=m3dcache.v.vw2-mn.mn2_rec.w2;mn.mn2_rec.sypos=m3dcache.v.vh2-mn.mn2_rec.h2;mn.mn2_newg.sxpos=m3dcache.v.vw2-mn.mn2_newg.w2;mn.mn2_newg.sypos=m3dcache.v.vh2-mn.mn2_newg.h2;mn.mn2_newgp.sxpos=m3dcache.v.vw2-mn.mn2_newgp.w2;mn.mn2_newgp.sypos=m3dcache.v.vh2-mn.mn2_newgp.h2;mn.mn2_newgpadd.sxpos=
m3dcache.v.vw2-mn.mn2_newgpadd.w2;mn.mn2_newgpadd.sypos=m3dcache.v.vh2-mn.mn2_newgpadd.h2;mn.mn2_onl.sxpos=m3dcache.v.vw2-mn.mn2_onl.w2;mn.mn2_onl.sypos=m3dcache.v.vh2-mn.mn2_onl.h2;mn.mn2_dbig1.sxpos=m3dcache.v.vw2-mn.mn2_dbig1.w2;mn.mn2_dbig1.sypos=m3dcache.v.vh2-mn.mn2_dbig1.h2-6;mn.mn2_dbig_yc.sxpos=m3dcache.v.vw2-mn.mn2_dbig_yc.w2;mn.mn2_dbig_yc.sypos=m3dcache.v.vh2-mn.mn2_dbig_yc.h2-6;mn.mn2_dbig_yp.sxpos=m3dcache.v.vw2-mn.mn2_dbig_yp.w2;mn.mn2_dbig_yp.sypos=m3dcache.v.vh2-mn.mn2_dbig_yp.h2-
6;mn.payment.sxpos=m3dcache.v.vw2-mn.payment.w2;mn.payment.sypos=m3dcache.v.vh2-mn.payment.h2-6;mn.paymentvar.sxpos=m3dcache.v.vw2-mn.paymentvar.w2;mn.paymentvar.sypos=m3dcache.v.vh2-mn.paymentvar.h2-6;ap.menuSetPosMyLocationGame();1!=mn.mn2_start.on&&0!=ap.game.v.gameN||ap.menuSetPosMyLocationStart()},menuInitMyLocation:function(){m3d.ui.mnSetCb("lang",1,function(){btLangCl(1)});m3d.ui.mnSetCustomM("mn2_start",ap.mnStartCustom);mn.mn2_start.btop=ap.mnStartBTop;m3d.ui.mnSetBotM("mn2_start",ap.mnStartBot);
m3d.ui.mnSetCb("mn2_start",1,function(){ap.mnStartI(1)});m3d.ui.mnSetCb("mn2_start",2,function(){ap.mnStartI(2)});m3d.ui.mnSetCb("mn2_start",3,function(){ap.mnStartI(3)});m3d.ui.mnSetCb("mn2_start",4,function(){ap.mnStartI(4)});m3d.ui.mnSetCb("mn2_start",5,function(){ap.mnStartI(5)});m3d.ui.mnSetCb("mn2_start_help",1,function(){ap.gswTheme()});m3d.ui.mnSetCb("mn2_start_top",1,function(){ap.mnStartTop()});m3d.ui.mnSetCb("mn2_start_open",1,function(){ap.mnStartOpen()});m3d.ui.mnSetCb("mn2_start_open",
2,function(){ap.mnStartOpen()});m3d.ui.mnSetCb("mn2_start_open",3,function(){ap.mnStartOpen()});m3d.ui.mnSetCb("mn2_soc1",1,function(){mnShop()});m3d.ui.mnSetCustomM("mn2_soc1",ap.mnSoc1Custom);m3d.ui.mnSetCb("mn2_soc2",1,function(){mnSoc2(1)});m3d.ui.mnSetCb("mn2_soc2",2,function(){mnSoc2(2)});m3d.ui.mnSetCustomM("mn2_soc2",ap.mnSoc2Custom);m3d.ui.mnSetCb("gmenu0",1,function(){mnGmenuSmallCl()});m3d.ui.mnSetCb("gmenu0",2,function(){mnGmenuCl(1)});m3d.ui.mnSetCb("gmenu0",3,function(){mnGameKomb()});
m3d.ui.mnSetCb("gmenu",1,function(){mnGmenuCl(1)});m3d.ui.mnSetCb("gmenu",2,function(){mnGmenuCl(2)});m3d.ui.mnSetCb("gmenu",3,function(){mnGmenuCl(3)});m3d.ui.mnSetCb("gmenu",4,function(){mnGmenuCl(4)});m3d.ui.mnSetCb("gmenu",5,function(){mnGmenuCl(5)});m3d.ui.mnSetCb("gmenu",6,function(){mnGmenuCl(6)});m3d.ui.mnSetCb("gmenu",7,function(){mnGmenuCl(7)});m3d.ui.mnSetCb("gmenu",8,function(){mnGmenuCl(8)});m3d.ui.mnSetCb("mn2_k",1,function(){mnGameKombClose()});m3d.ui.mnSetCustomM("mn2_k",mnGameKombCustom);
m3d.ui.mnSetCb("mn2_rec",1,function(){ap.mnRecClose()});m3d.ui.mnSetCb("mn2_rec",2,function(){ap.mnRecLt()});m3d.ui.mnSetCb("mn2_rec",3,function(){ap.mnRecRt()});m3d.ui.mnSetCustomM("mn2_rec",ap.mnRecCustom);mn.mn2_game.btop=mnGameBTop;m3d.ui.mnSetCustomM("mn2_game",mnGameCustom);m3d.ui.mnSetCb("mn2_game",1,function(){mnGameI(1)});m3d.ui.mnSetCb("mn2_game",2,function(){mnGameI(2)});m3d.ui.mnSetCb("mn2_game",3,function(){mnGameI(3)});m3d.ui.mnSetCb("mn2_game",4,function(){mnGameI(4)});m3d.ui.mnSetCb("mn2_game_cross",
1,function(){mnGameClose()});m3d.ui.mnSetCb("mn2_game_cross",2,m3d.lib.nullFunc);m3d.ui.mnSetCustomM("mn2_inf",ap.mnInfCustom);m3d.ui.mnSetCustomM("mn2_newg",mnNewgCustom);m3d.ui.mnSetCb("mn2_newg",1,function(){mnNewg(1)});m3d.ui.mnSetCb("mn2_newg",2,function(){mnNewg(2)});m3d.ui.mnSetCustomM("mn2_onl",ap.onlSwCustom);m3d.ui.mnSetCb("mn2_onl",1,function(){ap.onlSw("")});m3d.ui.mnSetCb("mn2_dbig_yc",1,function(){mnNewgEnterGame()});m3d.ui.mnSetCb("mn2_dbig_yc",2,function(){ap.mnNewgClose()});mn.table.bbot=
function(){};mn.table.btop=function(){};m3d.ui.mnSetCustomM("table",m3d.lib.nullFunc);m3d.ui.mnSetCustomM("player1",mnPlayer1CustomStart);m3d.ui.mnSetCustomM("mn2_his",mnHisCustomPoker);m3d.ui.mnSetCustomM("payment",ap.purchaseCustom);m3d.ui.mnSetCb("payment",1,function(){ap.purchaseClose()});m3d.ui.mnSetCb("paymentvar",1,function(){ap.gamePayments(1)});m3d.ui.mnSetCb("paymentvar",2,function(){ap.gamePayments(2)});m3d.ui.mnSetCb("paymentvar",3,function(){ap.gamePayments(3)})},loadLocationMyLocation:function(){ap.loadLocation3bags()},
loadLocation3bags:function(){ap.menuSetPosMyLocationGame=function(){};ap.game.v.set={};ap.newGVar();ap.game.v.fStart=!0;ap.game.v.set.theme=1;ap.game.v.set.onl=!0;"ok"==m3d.lib.storageIsKey("setlang")&&(m3dcache.v.lng=localStorage.setlang);for(var a=0;a<ap.paths2D.length;a++)ap.paths2D[a]=ap.paths2D[a].split("{lng}").join(m3dcache.v.lng);for(a=0;a<ap.paths3D.length;a++)ap.paths3D[a]=ap.paths3D[a].split("{lng}").join(m3dcache.v.lng);ap.game.v.money=ap.newMoney();ap.resetMoneyByDef();ap.loadLocation3bags2()},
themeLoopOn:function(a){ap.themeLoop=ap.themeLoopF;m3d.audio.stopa(ap.aud.theme1);m3d.audio.stopa(ap.aud.theme2);1==a?m3d.audio.playa(ap.aud.theme1):m3d.audio.playa(ap.aud.theme2)},themeLoopOff:function(){ap.themeLoop=function(){};m3d.audio.stopa(ap.aud.theme1);m3d.audio.stopa(ap.aud.theme2)},themeLoop:function(a){},themeLoopF:function(a){m3d.audio.playa(a)},loadLocation3bags2:function(){m3d.audio.initAudio();m3d.audio.loadAudioAsyncList(ap.pathsa,ap.aud,ap.pathskeysa,m3d.lib.nullFunc,0,function(){ap.aud.theme1.addEventListener("ended",
function(){ap.aud.theme1.currentTime=0;ap.themeLoop(ap.aud.theme2)},!1);ap.aud.theme2.addEventListener("ended",function(){ap.aud.theme2.currentTime=0;ap.themeLoop(ap.aud.theme1)},!1);m3d.lib.loadImagesAsyncList(ap.paths2D,ap.mnbk,ap.pathkeys2D,m3d.lib.nullFunc,0,function(){m3d.core.mnbk.m3dmenu=ap.mnbk.m3dmenu;ap.initHtml();ap.menuAddMyLocation();m3d.core.menuBuild();ap.enter2Dinit();m3d.core.menuSetPos();m3d.core.menuInit();m3d.ui.initDefaults(mn);ap.storageSaveGet();"undefined"==typeof m3dcache.v.commandVars.go&&
(m3dcache.v.commandVars.go=0);ap.langSetNamesMyLocation()})})},initHtml:function(){"ext1"==m3dcache.setup.apptype||"ext1tri"==m3dcache.setup.apptype?m3d.ui.initHtml([m3d.ui.htmlCanvas("canvbk"),m3d.ui.htmlControlsHand(),m3d.ui.htmlDivControls("m3d_mexitvar",mn.m3d_mexitvar.sw,mn.m3d_mexitvar.sh),m3d.ui.htmlDiv("links",0,0),m3d.ui.htmlCanvas("canvblack")]):m3d.ui.initHtml([m3d.ui.htmlCanvas("canvbk"),m3d.ui.htmlControls(),m3d.ui.htmlDivControls("m3d_mexitvar",mn.m3d_mexitvar.sw,mn.m3d_mexitvar.sh),
m3d.ui.htmlDiv("links",0,0),m3d.ui.htmlCanvas("canvblack")])},enter2Dinit:function(){m3d.ui.elementOn("divcanvbk");ap.v.dark=!0;apscene.scene="";m3dcache.curLoc="3bags";m3d.core.initGraph2D();m3d.contr.initStartFunctions();m3d.contr.controlsInit(0,0,0,.001,.1);contr.controlsMode=4;contr.collisionDetectorF=m3d.contr.controlsCollisionDetectorSkip;contr.mousetd_frame=ap.v.timerRender;contr.liveFlagAnim=!1;apcontrolsRenderStart()},storageSaveGet:function(){},langSetNamesMyLocation:function(){m3d.core.initEvents();
ap.enter2D_2()},enter2D:function(){ap.enter2Dinit();ap.ref();ap.enter2D_2()},enter2D_2:function(){m3d.ui.layersDiv.m3d_mexitvar.div.style.display="none";m3d.ui.reScale(mn);ap.ref();m3d.lib.postMessageInit(m3dcache.i.corehost,ap.postMessage);m3d.ui.elementOn("divcanv");m3d.ui.mnOffAll();m3d.resize.mnMainFullScreenExit();m3dcache.curLoc="3bags";m3dcache.v.apname="Three Bags";m3dcache.v.aptype=6;document.getElementById("divrndrii").style.display="none";ap.initHtmlHelp();ap.game.deck=newDeck();ap.gameNewPlayer();
ap.gameNewPlayerNames();ap.aspectStart();m3d.core.onWindowResize(0);ap.ref();apVar.landobjects=1;ap.enterGameMyLocation()},blackClear:function(a){m3d.ui.elementOn("divcanvblack");m3d.ui.layers.canvblack.ctx.globalAlpha=1;ap.blackClear2(1,a)},blackClear2:function(a,b){0<a?(a-=.02,m3d.ui.layers.canvblack.ctx.globalAlpha=a,m3d.ui.layers.canvblack.ctx.fillStyle="#000000",m3d.ui.layers.canvblack.ctx.clearRect(0,0,m3dcache.v.vw,m3dcache.v.vh),m3d.ui.layers.canvblack.ctx.fillRect(0,0,m3dcache.v.vw,m3dcache.v.vh),
setTimeout(function(){ap.blackClear2(a,b)},10)):(m3d.ui.layers.canvblack.ctx.globalAlpha=1,m3d.ui.elementOff("divcanvblack"),b())},blackMake:function(a){m3d.ui.elementOn("divcanvblack");m3d.ui.layers.canvblack.ctx.globalAlpha=0;ap.blackMake2(0,a)},blackMake2:function(a,b){1>a?(a+=.02,m3d.ui.layers.canvblack.ctx.globalAlpha=a,m3d.ui.layers.canvblack.ctx.fillStyle="#000000",m3d.ui.layers.canvblack.ctx.clearRect(0,0,m3dcache.v.vw,m3dcache.v.vh),m3d.ui.layers.canvblack.ctx.fillRect(0,0,m3dcache.v.vw,
m3dcache.v.vh),setTimeout(function(){ap.blackMake2(a,b)},5)):(m3d.ui.layers.canvblack.ctx.globalAlpha=1,ap.ref(),b())},ref:function(){m3d.ui.layers.canvbk.ctx.clearRect(0,0,m3dcache.v.vw,m3dcache.v.vh);m3d.ui.layers.canvblack.ctx.fillStyle="#000000";m3d.ui.layers.canvblack.ctx.fillRect(0,0,m3dcache.v.vw,m3dcache.v.vh);apctx.clearRect(0,0,m3dcache.v.vw,m3dcache.v.vh);m3d.ui.ref()},initHtmlHelp:function(){m3d.ui.layersDiv.links.div.innerHTML='<div id="gamerules" class="cgamerules"><div style="height:26px;"><table style="width:100%; margin-top:0px;"><tr><td style="text-align:right; cursor:pointer"><div id="helpCloseDiv" style="font-family:Verdana, Arial, Helvetica, sans-serif; font-size:16px; line-height:24px; font-weight:bold; color:#CCCCCC; width:100%;" >&nbsp;X&nbsp;</div></td></tr></table></div><div id="gamerulesin" class="cgamerulesin"><div id="gamerulest" style="margin-top:0px; margin-left:8px; padding-right:12px; margin-right:0px; margin-bottom:0px;"></div></div></div>';
m3d.ui.layersDiv.links.div.style.overflowY="scroll";m3d.ui.layersDiv.links.div.style.width="0px";m3d.ui.layersDiv.links.div.style.height="0px";m3d.ui.layersDiv.links.div.style.display="block";m3d.ui.layersDiv.links.div.style.position="initial";var a=document.getElementById("helpCloseDiv");m3d.lib.addListner(a,"click",function(){mnRulesClose()});m3d.lib.addListner(a,"touchend",function(){mnRulesClose()})},btSiteCl:function(a){"undefined"!==typeof window.require?(ap.nw.gui=require("nw.gui"),ap.nw.gui.Shell.openExternal(a)):
window.open(a)},startAds:function(){m3dcache.v.ads.on=!0;m3d.ui.layers.Ads.divcanv.style.display="block";m3d.core.onWindowResize(0);m3d.lib.addListner(m3d.ui.layers.Ads.divcanv,"mouseup",function(){var a=m3dcache.v.ads.content[m3dcache.v.ads.i].lnk();""!=a&&ap.btSiteCl(a)});m3d.lib.addListner(m3d.ui.layers.Ads.divcanv,"mousemove",function(){""!=m3dcache.v.ads.content[m3dcache.v.ads.i].lnk()&&(m3d.ui.layers.Ads.divcanv.style.cursor="pointer")});m3dcache.v.ads.interval=setInterval(function(){m3dcache.v.ads.i>
m3dcache.v.ads.content.length-1&&(m3dcache.v.ads.i=0);var a=m3dcache.v.ads.content[m3dcache.v.ads.i];m3d.ui.layers.Ads.ctx.drawImage(ap.mnbk[a.img],a.x,a.y,a.w,a.h,2,0,m3dcache.v.ads.w-4,m3dcache.v.ads.h)},m3dcache.v.ads.t);m3d.core.onWindowResize(0);ap.ref()},updateAds:function(){if(1==m3dcache.v.ads.on){var a=m3dcache.v.ads.content[m3dcache.v.ads.i];m3d.ui.layers.Ads.ctx.drawImage(ap.mnbk[a.img],a.x,a.y,a.w,a.h,2,0,m3dcache.v.ads.w-4,m3dcache.v.ads.h)}},enterGameMyLocation:function(){m3d.resize.onWindowResizeCustom2=
function(){ap.menuSetPos();ap.updateAds()};ap.menuSetPos();ap.game.v.set.theme=m3d.lib.randInt(1,2);if(2==ap.game.v.set.theme){var a=ap.game.v.set.theme.toString();mn.mn2_start=mn["mn2_start"+a];mn.mn2_start_help=mn["mn2_start_help"+a];mn.mn2_start_top=mn["mn2_start_top"+a];mn.mn2_soc2=mn["mn2_soc2"+a];mn.lang=mn["lang"+a];mn.mn2_start_open=mn["mn2_start_open"+a];ap.ref()}setTimeout(function(){setTimeout(function(){loc.loaded=!0;loc.intersLoading=!1;setTimeout(function(){apVar.loadedall=!0;1==apVar.chlang?
btLangClGo():apVar.mouse=0;ap.mnStart()},0)},0)},0)},tstatus:{mctx:function(){return m3d.ui.layers.canvbk.ctx},yourmove:function(a,b){ap.tstatus.mctx().drawImage(ap.mnbk.cardst,3,80,264,25,a,b,264,25)},aimove:function(a,b){ap.tstatus.mctx().drawImage(ap.mnbk.cardst,3,110,264,25,a,b,264,25)},opmove:function(a,b){var c=ap.tstatus.mctx();m3d.lib.Tex2Canvas(c,lng.loc[6]+" "+playerName[ap.game.v.mv],"normal 16px Arial",20,"#00FF00",a,b+18,264,0,"center","top")},cashopen:function(a,b){ap.tstatus.mctx().drawImage(ap.mnbk.cardst,
3,140,264,25,a,b,264,25)},cashopencard:function(a,b){ap.tstatus.mctx().drawImage(ap.mnbk.cardst,3,310,264,45,a,b-10,264,45)},cashtakes:function(a,b){var c=ap.tstatus.mctx();c.drawImage(ap.mnbk.cardst,3,200,264,25,a,b-10,264,25);m3d.lib.Tex2Canvas(c,lng.loc[3],"normal 14px Arial",20,"#FFFF00",a,b+26,264,0,"center","top")},cashtakeyou:function(a,b){ap.tstatus.mctx().drawImage(ap.mnbk.cardst,3,170,264,25,a,b,264,25)},cashtakesno:function(a,b){ap.tstatus.mctx().drawImage(ap.mnbk.cardst,3,410,264,45,a,
b-10,264,45)},gameover:function(a,b){var c=ap.tstatus.mctx();c.drawImage(ap.mnbk.cardst,3,360,264,45,a+150,b+90,264,45);var e=lng.loc[4];2==ap.game.v.winner[0]&&(e=lng.loc[3]);m3d.lib.Tex2Canvas(c,e,"normal 18px Arial",20,"#FFFF00",a+150,b+90+70,264,0,"center","top")},gameoverp:function(a,b){var c=ap.tstatus.mctx();c.drawImage(ap.mnbk.cardst,3,360,264,45,a+150,b+10-16,264,45);var e=lng.loc[10];0!=ap.game.v.winner[0]&&(e=ap.game.v.winnerNames);m3d.lib.Tex2Canvas(c,e,"normal 14px Arial",14,"#FFFF00",
a+150,b+10+64-16,264,0,"center","top")},rtakes:function(a,b){var c=ap.tstatus.mctx();c.drawImage(ap.mnbk.cardst,3,650,264,25,a,b-10,264,25);m3d.lib.Tex2Canvas(c,lng.loc[3],"normal 14px Arial",20,"#FFFF00",a,b+26,264,0,"center","top")},rtakeyou:function(a,b){ap.tstatus.mctx().drawImage(ap.mnbk.cardst,3,680,264,25,a,b,264,25)},rtakesno:function(a,b){ap.tstatus.mctx().drawImage(ap.mnbk.cardst,3,710,264,45,a,b-10,264,45)}},tact:{act:function(a,b){},take:function(a,b){var c=ap.tstatus.mctx();ap.tact.act(a,
b);c.drawImage(ap.mnbk.cardst,3,482,264,20,a,b+18+205,264,20)},drop:function(a,b){var c=ap.tstatus.mctx();ap.tact.act(a,b);c.drawImage(ap.mnbk.cardst,3,502,264,20,a,b+18+205,264,20)},takedrop:function(a,b){var c=ap.tstatus.mctx();ap.tact.act(a,b);c.drawImage(ap.mnbk.cardst,3,522,264,20,a,b+18+205,264,20)},add:function(a,b){var c=ap.tstatus.mctx();ap.tact.act(a,b);c.drawImage(ap.mnbk.cardst,3,582,264,20,a,b+18+205,264,20)},cantdrop:function(a,b){var c=ap.tstatus.mctx();ap.tact.act(a,b);c.drawImage(ap.mnbk.cardst,
3,602,264,20,a,b+18+205,264,20)},change:function(a,b){var c=ap.tstatus.mctx();ap.tact.act(a,b);c.drawImage(ap.mnbk.cardst,548,612,264,20,a,b+18+205,264,20)}},langSetNamesCore:function(){var a="-470px -326px";mnb.lang[2]=mnb.lang_var[2];"ru"==m3dcache.v.lng&&(a="-470px -306px",mnb.lang[2]=mnb.lang_var[3]);document.getElementById("divlng").style.backgroundPosition=a;locd_world_dion_keys=[]},menuSetPos:function(){var a=document.getElementById("gamerules");null!=a&&(a.style.marginLeft=m3dcache.v.vw2-
293-8+"px",a.style.marginTop=m3dcache.v.vh2-300-13+"px",a.style.width="586px",a.style.height="600px",document.getElementById("gamerulest").style.height="575px")},aspectStart:function(){m3dcache.v.vw=window.innerWidth;m3dcache.v.vh=window.innerHeight;var a=m3d.lib.inBlock(0,0,m3dcache.setup.aspect.w,m3dcache.setup.aspect.h,0,0,m3dcache.v.vw,m3dcache.v.vh,"center","center","resize");1>a.scale&&(m3dcache.setup.aspect.scale=a.scale,document.body.style.webkitTransform=document.body.style.msTransform=document.body.style.transform=
"scale("+m3dcache.setup.aspect.scale+")");m3d.core.onWindowResize(0)},onlSw:function(a){""==a&&(a=0==ap.game.v.set.onl?"on":"off");"on"==a?(ap.game.v.set.onl=!0,mn.mn2_onl.bts[2]=mnb.mn2_onl_bts[1],ap.game.v.mp=!0):"off"==a&&(ap.game.v.set.onl=!1,mn.mn2_onl.bts[2]=mnb.mn2_onl_bts[0],ap.game.v.mp=!1,ap.resetPlayerNames());ap.ref()},onlSwCustom:function(a){apctx.drawImage(ap.mnbk.cardst,194,1096,184,86,mn.mn2_onl.xpos+34,mn.mn2_onl.ypos+194,184,86)},menuSetPosMyLocationStart:function(){mn.player1.sxpos=
mn.cash.sxpos;mn.player1.sypos=mn.cash.sypos;mn.player1.ctx=apctx;mn.player1.bbot=ap.mnPlayer1BotGamesStart;mn.player1.bbot0=function(){}},gswTheme:function(){ap.game.v.set.theme=1==ap.game.v.set.theme?2:1;m3d.ui.mnUnBlock(["cash","cashs","mn2_start","mn2_start2"]);var a=ap.game.v.set.theme.toString();mn.mn2_start=mn["mn2_start"+a];mn.mn2_start_help=mn["mn2_start_help"+a];mn.mn2_start_top=mn["mn2_start_top"+a];mn.mn2_soc2=mn["mn2_soc2"+a];mn.lang=mn["lang"+a];mn.mn2_start_open=mn["mn2_start_open"+
a];mn.mn2_start.on=!0;mn.mn2_start_help.on=!0;1==ap.game.v.ratingsv&&(mn.mn2_start_top.on=!0);mn.mn2_soc2.on=!0;mn.lang.on=!0;ap.menuSetPosMyLocation();ap.menuInitMyLocation();ap.formOpenGamesMenu();m3d.core.onWindowResize(0);ap.ref()},shuffle:function(a){for(var b=a.length;0<--b;){var c=Math.floor(Math.random()*(b+1)),e=a[c];a[c]=a[b];a[b]=e}return a},in_arr_card:function(a,b){for(var c=[],e=0;e<a.length;e++)a[e][0]==b[0]&a[e][1]==b[1]&&c.push(e);return c},in_arr_card0:function(a,b){for(var c=[],
e=0;e<a.length;e++)a[e][0]==b[0]&&c.push(e);return c},in_arr_card1:function(a,b){for(var c=[],e=0;e<a.length;e++)a[e][1]==b[1]&&c.push(e);return c},sortByi0:function(a,b){return a[0]>b[0]?1:a[0]<b[0]?-1:0},sortByi0_back:function(a,b){return a[0]>b[0]?-1:a[0]<b[0]?1:0},sortByi0k:function(a,b){return a[0]<b[0]?a[1]==ap.game.v.state.koz[1]?b[1]==ap.game.v.state.koz[1]?-1:1:-1:a[0]>b[0]?a[1]==ap.game.v.state.koz[1]?1:b[1]==ap.game.v.state.koz[1]?-1:1:a[1]==ap.game.v.state.koz[1]?1:b[1]==ap.game.v.state.koz[1]?
-1:a[1]<b[1]?-1:a[1]>b[1]?1:0},sortByi1:function(a,b){return a[1]>b[1]?1:a[1]<b[1]?-1:0},sortByi1_i0:function(a,b){return a[1]<b[1]?-1:a[1]>b[1]?1:a[0]<b[0]?-1:a[0]>b[0]?1:0},sortByKS:function(a,b){return a.ks>b.ks?1:a.ks<b.ks?-1:0},sortByKS_max0:function(a,b){return a.ks>b.ks?1:a.ks<b.ks?-1:a.k[0][0]<b.k[0][0]?1:a.k[0][0]>b.k[0][0]?-1:0},mnPlayerBot0GamesCustom:function(a,b,c,e,f,g,h){},mnPlayer1Bot0Games:function(a,b,c,e,f){var g=m3d.ui.layers.canvbk.ctx;ap.mnPlayerBot0GamesCustom(a,b,c,e,f,g,1);
ap.mnPlayerBot0GamesCommon(a,b,c,e,f,g,1)},mnPlayer2Bot0Games:function(a,b,c,e,f){var g=m3d.ui.layers.canvbk.ctx;ap.mnPlayerBot0GamesCustom(a,b,c,e,f,g,2);ap.mnPlayerBot0GamesCommon(a,b,c,e,f,g,2)},mnPlayer3Bot0Games:function(a,b,c,e,f){var g=m3d.ui.layers.canvbk.ctx;ap.mnPlayerBot0GamesCustom(a,b,c,e,f,g,3);ap.mnPlayerBot0GamesCommon(a,b,c,e,f,g,3)},mnPlayer4Bot0Games:function(a,b,c,e,f){var g=m3d.ui.layers.canvbk.ctx;ap.mnPlayerBot0GamesCustom(a,b,c,e,f,g,4);ap.mnPlayerBot0GamesCommon(a,b,c,e,f,
g,4)},mnPlayer5Bot0Games:function(a,b,c,e,f){var g=m3d.ui.layers.canvbk.ctx;ap.mnPlayerBot0GamesCustom(a,b,c,e,f,g,5);ap.mnPlayerBot0GamesCommon(a,b,c,e,f,g,5)},mnPlayer6Bot0Games:function(a,b,c,e,f){var g=m3d.ui.layers.canvbk.ctx;ap.mnPlayerBot0GamesCustom(a,b,c,e,f,g,6);ap.mnPlayerBot0GamesCommon(a,b,c,e,f,g,6)},mnPlayer7Bot0Games:function(a,b,c,e,f){var g=m3d.ui.layers.canvbk.ctx;ap.mnPlayerBot0GamesCustom(a,b,c,e,f,g,7);ap.mnPlayerBot0GamesCommon(a,b,c,e,f,g,7)},mnPlayer8Bot0Games:function(a,
b,c,e,f){var g=m3d.ui.layers.canvbk.ctx;ap.mnPlayerBot0GamesCustom(a,b,c,e,f,g,8);ap.mnPlayerBot0GamesCommon(a,b,c,e,f,g,8)},mnPlayer9Bot0Games:function(a,b,c,e,f){var g=m3d.ui.layers.canvbk.ctx;ap.mnPlayerBot0GamesCustom(a,b,c,e,f,g,9);ap.mnPlayerBot0GamesCommon(a,b,c,e,f,g,9)},mnPlayer10Bot0Games:function(a,b,c,e,f){var g=m3d.ui.layers.canvbk.ctx;ap.mnPlayerBot0GamesCustom(a,b,c,e,f,g,10);ap.mnPlayerBot0GamesCommon(a,b,c,e,f,g,10)},mnPlayer1BotGamesStart:function(a,b,c,e,f){apctx.drawImage(ap.mnbk.cardsm,
1,450,105,145,e-5,f,105,145)},mnPlayer1BotGames:function(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)},mnPlayer2BotGames:function(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)},mnPlayer3BotGames:function(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)},mnPlayer4BotGames:function(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)},
mnPlayer5BotGames:function(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)},mnPlayer6BotGames:function(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)},mnPlayer7BotGames:function(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)},mnPlayer8BotGames:function(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)},mnPlayer9BotGames:function(a,
b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)},mnPlayer10BotGames:function(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)},mnPlayerBot0GamesCommon:function(a,b,c,e,f,g,h){1==b&&(a=608,1!=h&&(a=693),g.drawImage(ap.mnbk.cardsm,363,a,84,84,e-44-42,f-0,84,84),1==h&&""!=ap.sn.av&&g.drawImage(ap.sn.av,e-44-42+7,f-0+7,70,70),a=betExchange(ap.game.v.money[h].s),0<a.length&&(a=betChipSpos(a[0]),m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,
a[0],a[1],90,90,e-44-45,f+52,90,90)),g.globalAlpha=.75,g.drawImage(ap.mnbk.cardsm,550,528,110,66,e-44-55,f+86,110,66),g.globalAlpha=1,g.font="normal 12px Arial",g.fillStyle="#DFDFBF",a=playerName[h],b=Math.floor(g.measureText(a).width/2),55<b&&(b=55),g.fillText(a,e-b-44,f+119,2*b),drawAssets2(h,e-44,f+138))},gTimer:{sx:1130,sy:1060,w:90,h:90,x:0,y:0,start:30,t:0,on:!1,cb:function(){}},infoCenterTimer:function(){0==ap.gTimer.on&&(ap.gTimer.x=m3dcache.v.vw2-45,ap.gTimer.y=m3dcache.v.vh2+6,ap.gTimer.on=
!0,ap.gTimer.t=ap.gTimer.start,ap.infoCenterTimerTick())},infoCenterTimerStop:function(){ap.gTimer.on=!1},infoCenterTimerReset:function(){ap.gTimer.t=ap.gTimer.start},infoCenterTimerCustom:function(){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,ap.gTimer.sx,ap.gTimer.sy,ap.gTimer.w,ap.gTimer.h,ap.gTimer.x,ap.gTimer.y,ap.gTimer.w,ap.gTimer.h);var a=ap.gTimer.t.toString();m3d.ui.layers.canvbk.ctx.font="bold 25px Arial";tw=Math.floor(m3d.ui.layers.canvbk.ctx.measureText(a).width/2);m3d.ui.layers.canvbk.ctx.fillText(a,
ap.gTimer.x+45-tw,ap.gTimer.y+54)},infoCenterTimerTick:function(){m3d.ui.layers.canvbk.ctx.clearRect(ap.gTimer.x,ap.gTimer.y,ap.gTimer.w,ap.gTimer.h);ap.infoCenterTimerCustom();setTimeout(function(){ap.gTimer.t--;0>ap.gTimer.t?(ap.gTimer.on=!1,m3d.ui.layers.canvbk.ctx.clearRect(ap.gTimer.x,ap.gTimer.y,ap.gTimer.w,ap.gTimer.h),ap.gTimer.cb()):1==ap.gTimer.on?ap.infoCenterTimerTick():m3d.ui.layers.canvbk.ctx.clearRect(ap.gTimer.x,ap.gTimer.y,ap.gTimer.w,ap.gTimer.h)},1E3)},drawV:function(){var a=!1;
if(m3dcache.v.vw>m3dcache.setup.aspect.w+172||m3dcache.v.vh>m3dcache.setup.aspect.h+160)a=!0;0==a&&m3dcache.v.vw>m3dcache.setup.aspect.w+76&m3dcache.v.vh>m3dcache.setup.aspect.h+76&&(a=!0);1==a&&(apctx.drawImage(ap.mnbk.cardsm,454,850,86,80,0,0,86,80),apctx.drawImage(ap.mnbk.cardsm,542,850,86,80,m3dcache.v.vw-86,0,86,80),apctx.drawImage(ap.mnbk.cardsm,454,932,86,80,0,m3dcache.v.vh-80,86,80),apctx.drawImage(ap.mnbk.cardsm,542,932,86,80,m3dcache.v.vw-86,m3dcache.v.vh-80,86,80));m3dcache.v.vh>m3dcache.setup.aspect.h+
40&&m3d.lib.Tex2Canvas(apctx,lng.about[0],"bold 10px Arial",20,"#DDDDDD",m3dcache.v.vw2-100,m3dcache.v.vh-8,200,0,"center","top")},mnInfCustom:function(){apctx.drawImage(ap.mnbk.cardst,6,1282,268,20,mn.mn2_inf.xpos+mn.mn2_inf.w2-134,mn.mn2_inf.ypos+52,268,20)},mnStart0:function(){ap.themeLoopOff();setTimeout(function(){ap.themeLoopOn(2)},20);ap.mnStart()},mnStart:function(){m3d.lib.anim.astopAll();ap.blackMake(function(){ap.mnStart2()})},mnStart2:function(){ap.infoCenterTimerStop();ap.gswTheme();
mn.gmenu0.bt=[2,3];ap.game.v.gameN=0;ap.aspectStart();ap.game.v.score=0;m3d.ui.mnOff(["gmenu","mn2_game","mn2_game_cross"]);m3d.ui.mnUnBlock(["cash","cashs","mn2_start","mn2_start2"]);mn.cashs.on=!1;mn.mn2_his.on=!1;ap.newGVar();ap.formOpenGamesMenu();m3d.ui.mnOff("gmenu0 cash table player1 player2 player3 player4 player5 player6 player7 player8 player9 player10 player99 mn2_start mn2_start_help mn2_start_top mn2_game mn2_game_cross mn2_soc1 mn2_soc2 mn2_soc21 mn2_soc22".split(" "));ap.menuInitMyLocation();
ap.game.deck=newDeck();ap.gameNewPlayer();ap.gameNewPlayerNames();ap.menuInitMyLocation();ap.formOpenGamesMenu();ap.menuSetPosMyLocation();ap.menuSetPosMyLocationStart();m3d.core.onWindowResize(0);ap.ref();giveCards(1,36);mn.player1.on=!0;mn.player1.ctx=apctx;mn.player99.ctx=apctx;mn.player1.btop=function(){};mn.player2.btop=function(){};mn.player3.btop=function(){};mn.player4.btop=function(){};mn.player5.btop=function(){};mn.player6.btop=function(){};mn.player7.btop=function(){};mn.player8.btop=
function(){};mn.player9.btop=function(){};mn.player10.btop=function(){};ap.mnPlayerBot0GamesCustom=function(){};mnPlayer1Cb=function(){};player[1].sort(ap.sortByi1_i0);setMenuPlayerCards(1,178,0,0,406,460,0,mnPlayer1Cb);mn.player1.on=!0;mn.lang.on=!1;mn.player1.on=!1;mn.player2.on=!1;mn.player3.on=!1;mn.player4.on=!1;mn.player5.on=!1;mn.player6.on=!1;mn.player7.on=!1;mn.player8.on=!1;mn.player9.on=!1;mn.player10.on=!1;ap.menuSetPosMyLocationGame=function(){};for(var a=0;a<mn.player1.set.length;a++)mn.player1.set[a]=
6;mn.player1.on=!0;ap.ref();mnPlayer1CustomStartBk(!0);ap.mnStartBot();ap.drawLogo();m3d.ui.layers.canvbk.ctx.clearRect(0,0,m3dcache.v.vw,m3dcache.v.vh);m3dcache.v.mouse=1;apcontrolsRenderStart();ap.blackClear(function(){setTimeout(function(){showCardsAnimSet(1,mn.player1.set,30,function(){setTimeout(function(){mn.mn2_start.on=!0;mn.mn2_soc1.on=!0;mn.mn2_soc2.on=!0;mn.mn2_start_help.on=!0;mn.gmenu0.on=!0;1==ap.game.v.ratingsv&&(mn.mn2_start_top.on=!0);mn.player1.on=!0;mn.lang.on=!0;apVar.mouse=1;
1==ap.game.v.fStart&&(apVar.mouse=0,ap.game.v.fStart=!1,m3d.ui.mnSetCustomM("mn2_dbig_yp",ap.mnDStartCustom),m3d.ui.mnSetCb("mn2_dbig_yp",1,function(){ap.menuMainUnBlock();mn.mn2_dbig_yp.on=!1;ap.ref();ap.themeLoopOn(1)}),m3d.ui.mnSetCb("mn2_dbig_yp",2,function(){ap.purchase();ap.themeLoopOn(1)}),0==ap.game.v.fullv&&1>ap.game.v.tri&&(mn.mn2_dbig_yp.set[0]=4),1==m3dconf.setup.sn.trio&&(mn.mn2_dbig_yp.set[1]=4),setTimeout(function(){ap.menuMainBlock();mn.mn2_dbig_yp.on=!0;mn.lang.block=!1;apVar.mouse=
1;if(0!=ap.sn.logged)m3d.http.init(),ap.snLogin();else if(0==ap.game.v.socialv&&(ap.v.idbAval=!0),1==ap.v.idbAval){var a="poker3bags";"ok"==m3d.lib.storageIsKey(a)&&(ap.rate=JSON.parse(localStorage[a]));if(0==ap.game.v.fullv){var a="poker3bagsT",c=Date.now();"ok"==m3d.lib.storageIsKey(a)?c=localStorage[a]:m3d.lib.storageAdd(a,c);ap.sn.tri=30-Math.floor((Date.now()-1*parseInt(c))/1E3/60/60/24);ap.game.v.tri=ap.sn.tri;0==parseInt(c)?(ap.sn.tri=-100,ap.game.tri=-100,ap.game.v.fullv=!0,ap.game.v.openg=
[1,1,1,1,1],ap.formOpenGamesMenu(),m3d.core.onWindowResize(0),ap.ref()):(1>ap.sn.tri&-100!=ap.sn.tri&&(mn.mn2_dbig_yp.set[0]=4,ap.ref()),ap.startAds())}for(a=1;11>a;a++)ap.game.v.money[a].s=ap.rate[a].money}m3d.core.onWindowResize(0);ap.ref()},200));ap.ref()},100)})},100)})},initSN:function(a,b,c,e,f){if("web"==b)if(0==a)apVar.initSN=!0,apVar.mp=!1;else if(1==a)apVar.initSN=!0,apVar.mp=!1;else if(2==a)if("if"==c){var g=function(){VK.init(function(){f("")})},h=function(){"undefined"===typeof VK?setTimeout(function(){h()},
100):g()};setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="//vk.com/js/api/xd_connection.js?2";a.async=!0;document.getElementById("vk_api_transport").appendChild(a);h()},0)}else{if("oa"==c){var l=function(a){a.session&&f(a.session.mid)},k=function(){"undefined"===typeof VK.Auth._loadState?setTimeout(function(){k()},100):VK.Auth.getLoginStatus(l)},p=function(){"undefined"===typeof VK?setTimeout(function(){p()},100):k()};window.vkAsyncInit=function(){VK.init({apiId:e})};
setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="//vk.com/js/api/openapi.js";a.async=!0;document.getElementById("vk_api_transport").appendChild(a);p()},0)}}else{if(3==a){var q=function(a,b){FB.Canvas.setAutoGrow(!1);f(a,b)},n=function(a){0==t?setTimeout(function(){n(m)},100):a()},m=function(){FB.getLoginStatus(function(a){"connected"!=a.status?FB.login(function(a){a.authResponse?q(a.authResponse.signedRequest,a.authResponse.userID):alert("Login failed!")},
{}):q(a.authResponse.signedRequest,a.authResponse.userID)})},t=!1;window.fbAsyncInit=function(){FB.init({appId:e,autoLogAppEvents:!0,xfbml:!0,version:"v6.0",cookie:!0,oauth:!0});FB.getLoginStatus(function(a){t=!0})};(function(a){var b;a.getElementById("facebook-jssdk")||(b=a.createElement("script"),b.id="facebook-jssdk",b.async=!0,b.src="https://connect.facebook.net/en_US/sdk.js",a.getElementsByTagName("head")[0].appendChild(b))})(document);n(m)}}else f()},snLogin:function(){1==ap.sn.firstRun&&(ap.sn.firstRun=
!1,0!=ap.sn.logged&&(m3d.ui.mnBlock(["cash","cashs","mn2_start","mn2_start2","mn2_dbig_yp"]),m3d.ui.mnOn(["mn2_inf"]),2!=ap.sn.logged&&(3==ap.sn.logged?ap.initSN(3,"web","if",ap.sn.fb.id,function(a,b){ap.sn.logged=3;ap.sn.signedRequest=a;ap.sn.userID=b;FB.api("/"+ap.sn.userID+"/picture","GET",{redirect:"false",type:"square",width:"100",height:"100"},function(a){ap.sn.av=new Image;ap.sn.av.onload=function(){ap.ref()};ap.sn.av.src=a.data.url});ap.httpSendFirst(function(){m3d.ui.mnUnBlock(["mn2_dbig_yp"]);
m3d.ui.mnOff(["mn2_inf"]);ap.ref()})}):4==ap.sn.logged&&(ap.sn.logged=4,ap.sn.signedRequest="1",ap.sn.userID="1",ap.httpSendFirst(function(){m3d.ui.mnUnBlock(["mn2_dbig_yp"]);m3d.ui.mnOff(["mn2_inf"]);ap.ref()})))))},httpSendFirst:function(a){m3d.http.send("POST",ap.sn.pathData,"a=~d~first&vi="+ap.sn.userID+"&ho=if&sn="+ap.sn.logged+"&ak="+ap.sn.signedRequest,[["Content-Type","application/x-www-form-urlencoded; charset=utf-8"]],function(b){b=b.responseText.split("~d~");for(var c=0;c<b.length;c++)b[c]=
b[c].split("~el~");c=!1;try{ap.rate=JSON.parse(b[0][4])}catch(e){c=!0}1==c?(ap.sn.tri=30,b=[1]):ap.sn.tri=30-Math.floor((Date.now()-1E3*parseInt(b[0][3]))/1E3/60/60/24);ap.game.v.tri=ap.sn.tri;0==parseInt(b[0][3])?(ap.sn.tri=-100,ap.game.tri=-100,ap.game.v.fullv=!0,ap.game.v.openg=[1,1,1,1,1],ap.formOpenGamesMenu(),m3d.core.onWindowResize(0),ap.ref()):(1>ap.sn.tri&-100!=ap.sn.tri&&(mn.mn2_dbig_yp.set[0]=4,ap.ref()),ap.startAds());for(c=1;11>c;c++)ap.game.v.money[c].s=ap.rate[c].money;a()})},httpSendSave:function(a){ap.game.recpgChanged=
!0;var b=ap.sn.pathData,c="a=~d~save|"+JSON.stringify(ap.rate)+"|"+ap.rate[1].wins.toString()+"|"+ap.rate[1].games.toString()+"&vi="+ap.sn.userID+"&ho=if&sn="+ap.sn.logged+"&ak="+ap.sn.signedRequest;m3d.http.send("POST",b,c,[["Content-Type","application/x-www-form-urlencoded; charset=utf-8"]],function(b){a()})},formOpenGamesMenu:function(){mn.mn2_start_open.btd=[];mn.mn2_start_open.bt=[];for(var a="mn2_start_open_btd"+ap.game.v.set.theme.toString(),b=2,c=0;5>c;c++)1==ap.game.v.openg[c]?mn.mn2_start.set[c]=
1:(mn.mn2_start.set[c]=4,mn.mn2_start_open.bt.push(b),mn.mn2_start_open.btd.push(mnb[a][2*c-2]),mn.mn2_start_open.btd.push(mnb[a][2*c+1-2]),b++)},mnStartBot:function(){apctx.globalAlpha=.3;apctx.fillStyle="#000000";apctx.fillRect(0,0,m3dcache.v.vw,m3dcache.v.vh);apctx.globalAlpha=1},mnDStartCustom:function(){var a=mn.mn2_dbig_yp.xpos+mn.mn2_dbig_yp.w2-257,b=mn.mn2_dbig_yp.ypos+27+48-36;apctx.drawImage(ap.mnbk.cardst,559,763,514,262,a,b,514,262);0==m3dconf.setup.sn.trio&&apctx.drawImage(ap.mnbk.cardst,
559,1339,514,60,a,b+262,514,60);if(0==ap.game.v.fullv){var c=0<ap.game.v.tri?ap.game.v.tri.toString():"0";0==m3dconf.setup.sn.trio&&(apctx.font="bold 24px Arial",apctx.fillStyle="#DDDDAA",apctx.fillText(c,a+522,b+298))}},mnStartCustom:function(){var a=mn.mn2_start.xpos+mn.mn2_start.w2,b=mn.mn2_start.ypos,c=0;1==ap.game.v.set.theme&&(c=50);apctx.drawImage(ap.mnbk.cardst,274,622,266,23,a-133,b+388+56+c,266,23);apctx.drawImage(ap.mnbk.cardst,824,652,170,36,a-85,b+488+c,170,36);apctx.font="normal 12px Arial";
apctx.fillStyle="#DDDDAA";var e=playerName[1];tw=Math.floor(apctx.measureText(e).width/2);1==ap.game.v.set.theme?(apctx.drawImage(ap.mnbk.cardsm,788,426,66,66,a-33,b+68,66,66),""!=ap.sn.av&&apctx.drawImage(ap.sn.av,a-33+8,b+68+8,50,50),apctx.drawImage(ap.mnbk.cardst,667,369,114,32,a-57,b+68+66+20,114,32),apctx.fillText(e,a-tw,b+68+66+10)):(apctx.drawImage(ap.mnbk.cardsm,788,426,66,66,a+28-260,b+68,66,66),""!=ap.sn.av&&apctx.drawImage(ap.sn.av,a+28-260+8,b+68+8,50,50),apctx.drawImage(ap.mnbk.cardst,
667,369,114,32,a+28-260+68,b+68+66-32,114,32),apctx.fillText(e,a+28-260+72,b+68+66-32-20+8));if(1==ap.game.v.ratingsv){a=mn.mn2_start.xpos+80-30+407;b=mn.mn2_start.ypos+91+74;e=lng.loc[8];m3d.lib.Tex2Canvas(apctx,e,"bold 10px Arial",20,"#DDDDDD",a-1,b+48-58+c,62,0,"center","top");for(var f=-1,g=0;1>g;g++)1==ap.game.v.openg[g]&&(f=g,b=56*g+mn.mn2_start.ypos+81+76+c,1!=mn.mn2_start.set[g]&&(apctx.globalAlpha=.5),e=ap.rate[1].wins+"/"+ap.rate[1].games,m3d.lib.Tex2Canvas(apctx,e,"bold 12px Arial",20,
"#DDDDBB",a+1,b+48-15,62,0,"center","top"),apctx.globalAlpha=1);a+=4;b=mn.mn2_start.ypos+81+60+68+c;f++;apctx.drawImage(ap.mnbk.cardsm,1536,604,44,60*f,a-305,b-65+5,44,60*f);0<300-60*f&&(apctx.globalAlpha=.5,apctx.drawImage(ap.mnbk.cardsm,1536,604+60*f,44,300-60*f,a-305,b-65+5+60*f,44,300-60*f),apctx.globalAlpha=1)}},mnStartBTop:function(a,b,c){},drawLogo:function(){apctx.drawImage(ap.mnbk.cardst,378,6,170,24,m3dcache.v.vw2-85,m3dcache.v.vh2-14,170,24)},mnSoc1Custom:function(){var a=mn.mn2_soc1.xpos,
b=mn.mn2_soc1.ypos,c=ap.game.v.money[1].s;apctx.drawImage(ap.mnbk.cardsm,630,897,82,70,a+78,b+124,82,70);c=c.toString().tofinance();m3d.lib.Tex2Canvas(apctx,c,"bold 16px Arial",20,"#FFFF00",a+66,b+132,114,0,"center","top");apctx.drawImage(ap.mnbk.cardst,564,510,71,18,a+58,b+88,71,18)},mnSoc2Custom:function(){var a=mn.mn2_soc2.xpos,b=mn.mn2_soc2.ypos;1==ap.game.v.set.theme?apctx.drawImage(ap.mnbk.cardst,382,1102,144,40,a+50,b+98,144,40):apctx.drawImage(ap.mnbk.cardst,382,1102,144,40,a+50,b+108,144,
40)},gameNewPlayerCommon:function(){for(var a="",b=1;b<ap.game.v.winner.length;b++)a="player"+b.toString(),mn[a].bt=[];for(b=1;b<ap.game.v.pls+1;b++)a="player"+b.toString(),mn[a].block=!1;playerCash=[];mn.cash.data={win:[]};mn.cash.block=!1;mn.player99.bt=[]},gameNewPlayerNames:function(){playerName=["",lng.loc[2],lng.loc[3]]},excludeWinFromDeck:function(){for(var a=0,b=0,c=1;c<ap.game.v.winnerCards.length;c++)for(var e=0;e<ap.game.v.winnerCards[c].length;e++)for(a=0,b=ap.game.deck.length;a<b;)ap.game.deck[a][0]==
ap.game.v.winnerCards[c][e][0]&ap.game.deck[a][1]==ap.game.v.winnerCards[c][e][1]&&(ap.game.deck.splice(a,1),a=b),a++},mnStartHelp:function(){var a=document.getElementById("gamerules");document.getElementById("gamerulest").innerHTML=1==ap.game.v.onlinev?lng.rules[0]+lng.rules[1]+lng.rules[2]+lng.rules[3]+lng.rules[4]+lng.rules[5]:lng.single[0]+lng.rules[1]+lng.rules[2]+lng.rules[3]+lng.rules[4]+lng.rules[5];a.style.display="block";document.getElementById("gamerulesin").scrollTop=0;ap.ref();setTimeout(function(){m3d.audio.playa(ap.aud.click2)},
0)},mnStartOpen:function(){var a=document.getElementById("gamerules");document.getElementById("gamerulest").innerHTML=lng.rules[0]+lng.rules[1]+lng.rules[2]+lng.rules[3]+lng.rules[4]+lng.rules[5];a.style.display="block";document.getElementById("gamerulesin").scrollTop=0;ap.ref();setTimeout(function(){m3d.audio.playa(ap.aud.click2)},0)},gameNewPlayer:function(){player=[[],[],[]];ap.gameNewPlayerCommon();playerTable=[[],[],[]];playerTableDrop=[[],[],[]];mnPlayer1Cb=mnPlayer1;mn.cash.bt=[2];mn.table.btop=
mnTableTop;mn.table.bt=[]},menuMainBlock:function(){m3d.ui.mnBlock("lang mn2_start mn2_start_open mn2_start_help mn2_start_top mn2_soc1 mn2_soc2 gmenu0".split(" "))},menuMainUnBlock:function(){m3d.ui.mnUnBlock("lang mn2_start mn2_start_open mn2_start_help mn2_start_top mn2_soc1 mn2_soc2 gmenu0".split(" "))},menuNewgBlock:function(){m3d.ui.mnBlock(["mn2_newg","mn2_newgp","mn2_newgpadd","mn2_dbig_yc"])},menuNewgUnBlock:function(){m3d.ui.mnUnBlock(["mn2_newg","mn2_newgp","mn2_newgpadd","mn2_dbig_yc"])},
setMaxPls:function(){ap.game.v.pls=2;ap.game.v.maxpls=2;3==ap.game.v.gameN&&(ap.game.v.pls=8,ap.game.v.maxpls=10)},resetPlayerNames:function(){ap.game.v.money[1].t=1;for(var a=2;a<ap.game.v.money.length;a++)ap.game.v.money[a].t=3;ap.setPlayerNames()},setPlayerNames:function(){playerName=[""];for(var a=0,b=0,c=1;c<ap.game.v.money.length;c++)1==ap.game.v.money[c].t?playerName.push(lng.loc[16]):2==ap.game.v.money[c].t?(a++,playerName.push(lng.loc[2]+" "+a.toString())):3==ap.game.v.money[c].t&&(b++,playerName.push(lng.loc[3]+
" "+b.toString()))},addPlayer:function(a){ap.game.v.money[a].t=3;ap.setPlayerNames()},mnStartI:function(a){ap.game.v.gameN=a;ap.game.v.gameToStart=a;ap.setMaxPls();ap.resetPlayerNames();ap.mnNewgOpen()},mnNewgOpen:function(){ap.menuMainBlock();mn.mn2_dbig_yc.on=!0;mn.mn2_newg.on=!0;mn.mn2_newgp.on=!0;mn.mn2_newgpadd.on=!0;mn.mn2_onl.on=!0;mn.mn2_onl.block=!1;0==ap.game.v.mp&&(mn.mn2_newg.set=[1,3]);apVar.mouse=1;if(0==ap.game.v.mp)ap.onlSw("off"),mnNewg(2);else{if(1==ap.game.v.set.onl)ap.onlSw("on");
else ap.onlSw("off");1==mn.mn2_newg.set[1]?mnNewg(1):mnNewg(2)}},mnNewgClose:function(){1==ap.game.v.mp&&(gameChOnlineStop(),ap.game.v.me=0,ap.game.v.online.oid=-1,servcall=[["new",0,0,-1,1,ap.game.v.gameN,ap.game.v.online.oid,ap.game.v.me,""]],ap.game.v.serv="online");ap.menuMainUnBlock();mn.mn2_dbig_yc.on=!1;mn.mn2_newg.on=!1;mn.mn2_newgp.on=!1;mn.mn2_newgpadd.on=!1;mn.mn2_onl.on=!1;apVar.mouse=1;ap.game.v.gameN=0;ap.ref()},newGamePlayersMenuClear:function(){mn.mn2_newgp.bt=[];mn.mn2_newgp.set=
[];mn.mn2_newgp.cb=[];mn.mn2_newgp.btd=[];mn.mn2_newgpadd.bt=[];mn.mn2_newgpadd.set=[];mn.mn2_newgpadd.cb=[];mn.mn2_newgpadd.btd=[]},newGamePlayersMenuCreate:function(){var a=200,b=0,c=ap.game.v.pos.pb,e=ap.game.v.pos.pf;ap.game.v.men=1;var f=ap.game.v.pls,g=ap.game.v.maxpls;m3d.ui.mnSetCustomM("mn2_newgp",mnNewgpCustom);mn.mn2_newgp.bts=[];mn.mn2_newgp.bts=mn.mn2_newgp.bts.concat(mnb.mn2_newgp_var);mn.mn2_newgp.bt=[];mn.mn2_newgp.set=[];mn.mn2_newgp.cb=[];mn.mn2_newgp.btd=[];for(var h=0;h<f;h++)mn.mn2_newgp.bts.push(mnb.mn2_newgp_bts[0].slice()),
mn.mn2_newgp.bts.push(mnb.mn2_newgp_bts[1].slice()),mn.mn2_newgp.bt.push(2*h+2),mn.mn2_newgp.bt.push(2*h+3),mn.mn2_newgp.set.push(1),mn.mn2_newgp.set.push(1),mn.mn2_newgp.cb.push(function(a){mnNewgp(a)}),mn.mn2_newgp.cb.push(function(a){mnNewgp(a)}),mn.mn2_newgp.btd.push(c[4*h]+a),mn.mn2_newgp.btd.push(c[4*h+1]+b),mn.mn2_newgp.btd.push(c[4*h+2]+a),mn.mn2_newgp.btd.push(c[4*h+3]+b);a+=6;b+=35;mn.mn2_newgpadd.bts=[];mn.mn2_newgpadd.bts=mn.mn2_newgpadd.bts.concat(mnb.mn2_newgpadd_var);mn.mn2_newgpadd.bt=
[];mn.mn2_newgpadd.set=[];mn.mn2_newgpadd.cb=[];mn.mn2_newgpadd.btd=[];if(0!=ap.game.v.pls)for(h=f;h<g;h++)ap.addPlayer(h+1),mn.mn2_newgpadd.bts.push(mnb.mn2_newgpadd_bts[0].slice()),mn.mn2_newgpadd.bt.push(h-f+2),mn.mn2_newgpadd.set.push(1),mn.mn2_newgpadd.cb.push(function(a){mnNewgpAdd(a)}),mn.mn2_newgpadd.btd.push(e[2*h]+a),mn.mn2_newgpadd.btd.push(e[2*h+1]+b)},roundEndUpdate:function(a,b){if(1==ap.game.v.ratingsv){for(var c=1;c<a+1;c++)ap.rate[c].money=ap.game.v.money[c].s;m3d.lib.storageAdd("poker3bags",
JSON.stringify(ap.rate));0!=ap.sn.logged?ap.httpSendSave(function(){b()}):b()}},gameEndUpdate:function(a,b,c){if(1==ap.game.v.ratingsv){ap.rate[a].wins++;for(a=1;a<b+1;a++)ap.rate[a].games++;ap.resetMoney();ap.roundEndUpdate(b,c)}},decideWin:function(){for(var a=0,b=1,c=1;c<ap.game.v.pls+1;c++)10>ap.game.v.money[c].s?ap.game.v.pdrop[c]=1:(a++,b=c);if(2>a)ap.gameEndUpdate(b,ap.game.v.pls,function(){ap.game.v.gameN=0;setTimeout(function(){ap.mnStart0()},1E3)});else if(10>ap.game.v.money[1].s){if(1==
ap.game.v.ratingsv){for(c=1;c<a+1;c++)ap.rate[c].games++;ap.resetMoney();ap.roundEndUpdate(ap.game.v.pls,function(){ap.game.v.gameN=0;setTimeout(function(){ap.mnStart0()},1E3)})}}else ap.roundEndUpdate(ap.game.v.pls,function(){})},purchase:function(){m3d.ui.mnSetCustomM("payment",ap.purchaseCustom);0==m3dconf.setup.sn.sn?ap.btSiteCl(m3dconf.setup.linkp):(m3d.ui.mnOff(["mn2_dbig_yp"]),m3d.ui.mnOn(["payment","paymentvar"]),ap.ref())},purchaseCustom:function(){apctx.drawImage(ap.mnbk.cardst,47,1364,
514,34,mn.mn2_dbig_yp.xpos+mn.mn2_dbig_yp.w2-257,mn.mn2_dbig_yp.ypos+27+48-36,514,34)},purchaseCustomWait:function(){m3d.lib.Tex2Canvas(apctx,lng.pay[1],"italic 16px Arial",22,"#DDDDDD",mn.mn2_dbig_yp.xpos+mn.mn2_dbig_yp.w2-257,mn.mn2_dbig_yp.ypos+27+48-36+165,514,0,"center","top")},purchaseClose:function(){m3d.ui.mnOn(["mn2_dbig_yp"]);m3d.ui.mnOff(["payment","paymentvar"]);ap.ref()},gamePayments:function(a){1==m3dcache.v.fullScreen&&mnGmenuCl(1);mn.paymentvar.btd[2*a-1]-=30;m3d.ui.mnOn(["mn2_inf"]);
m3d.ui.mnBlock(["payment","paymentvar"]);ap.ref();if(2==m3dconf.setup.sn.sn)VK.addCallback("onOrderSuccess",function(a){gVar.orderstatus="";OrderSuccessHtml("ok")}),VK.addCallback("onOrderFail",function(){gVar.orderstatus="";OrderSuccessHtml("fail")}),VK.addCallback("onOrderCancel",function(){gVar.orderstatus="";OrderSuccessHtml("cancel")}),VK.callMethod("showOrderBox",{type:"item",item:a.toString()});else if(3==m3dconf.setup.sn.sn){var b=Date.now()+"_"+ap.sn.userID;FB.ui({method:"pay",action:"purchaseitem",
request_id:b,quantity:1,product:"https://m3d.me/game/3bags/d/goods"+a+".html"},function(a){ap.gamePaymentsWait()})}else 4==m3dconf.setup.sn.sn?setTimeout(function(){ap.gamePaymentsWait()},1E3):0==m3dconf.setup.sn.sn&&setTimeout(function(){ap.gamePaymentsWait()},1E3)},gamePaymentsWait:function(){m3d.ui.mnOff(["mn2_inf"]);m3d.ui.mnUnBlock(["payment","paymentvar"]);m3d.ui.mnOff(["paymentvar"]);mn.paymentvar.btd=mnb.paymentvar_btd_0.slice();m3d.ui.mnSetCustomM("payment",ap.purchaseCustomWait);ap.ref()},
gamePaymentsFin:function(){m3d.ui.mnOff(["mn2_inf"]);m3d.ui.mnUnBlock(["payment","paymentvar"]);m3d.ui.mnOn(["paymentvar"]);mn.paymentvar.btd=mnb.paymentvar_btd_0.slice();m3d.ui.mnSetCustomM("payment",ap.purchaseCustom);ap.ref()},mnStartTop:function(){ap.menuMainBlock();m3d.ui.mnOn(["mn2_rec"]);ap.ref();0<m3dconf.setup.sn.sn&&ap.httpGetRecords(function(){})},mnRecClose:function(){ap.menuMainUnBlock();m3d.ui.mnOff(["mn2_rec"]);ap.ref()},mnRecLt:function(){},mnRecRt:function(){},mnRecCustom:function(){for(var a=
mn.mn2_rec.xpos,b=mn.mn2_rec.ypos,c=apctx,e=100,f=0,g=0;g<ap.game.rec.length;g++){4<g&&(e=400,f=-450);c.drawImage(ap.mnbk.cardsm,363,608,84,84,a+e,b+80+f+90*g,64,64);""!=ap.game.rec[g][4]&&c.drawImage(ap.game.rec[g][4],a+e+5,b+80+f+90*g+5,54,54);if(""!=ap.game.rec[g][5]){c.font="bold 16px Arial";c.fillStyle="#DFDFBF";var h=ap.game.rec[g][5],l=Math.floor(c.measureText(h).width);140<l&&(l=140);c.fillText(h,a+e+78,b+80+f+90*g+19,l)}c.font="normal 14px Arial";c.fillStyle="#DFDFBF";h=lng.loc[19]+" "+ap.game.rec[g][3];
c.fillText(h,a+e+78,b+80+f+90*g+44);h=lng.loc[20]+" "+ap.game.rec[g][2];c.fillText(h,a+e+78,b+80+f+90*g+58);c.font="bold 22px Arial";c.fillStyle="#DFDFBF";h=(g+1).toString();l=Math.floor(c.measureText(h).width);c.fillText(h,a+e-10-l,b+80+f+90*g+40)}},httpGetRecords:function(a){var b=ap.game.recpg;1==ap.game.recpgChanged&&(ap.game.recpgChanged=!1,ap.game.rec=[],m3d.http.send("POST",ap.sn.pathData,"a=~d~listrec|"+b+"&vi="+ap.sn.userID+"&ho=if&sn="+ap.sn.logged+"&ak="+ap.sn.signedRequest,[["Content-Type",
"application/x-www-form-urlencoded; charset=utf-8"]],function(b){var e=b.responseText.split("~d~");for(b=0;b<e.length;b++)e[b]=e[b].split("~el~");if("!ok!"==e[0][0]&&"listrec"==e[0][1])for(b=3;b<e[0].length;b++)""!=e[0][b]&&ap.game.rec.push(e[0][b].split("|"));for(b=0;b<ap.game.rec.length;b++)ap.game.rec[b].push("Player");if(1==m3dconf.setup.sn.sn)a();else if(2==m3dconf.setup.sn.sn)a();else if(3==m3dconf.setup.sn.sn){e="";for(b=0;b<ap.game.rec.length;b++)e+=ap.game.rec[b][0],b!=ap.game.rec.length-
1&&(e+=",");FB.api("/?ids="+e+"&fields=id,name,picture.height(100).width(100)",function(b){for(var c in b)for(var e=0;e<ap.game.rec.length;e++)ap.game.rec[e][0]==c&&(ap.game.rec[e][4]=new Image,ap.game.rec[e][4].onload=function(){1==mn.mn2_rec.on&&ap.ref()},ap.game.rec[e][4].src=b[c].picture.data.url,ap.game.rec[e][5]=b[c].name);a()})}else 4==m3dconf.setup.sn.sn&&a();ap.ref()}))}};var loc_list=[];loc="3bags";var curDistrict=0;
function mnNewg(a){mn.mn2_onl.block=!1;mn.mn2_dbig_yc.set[0]=1;ap.setMaxPls();ap.game.v.online.oid=-1;ap.game.v.me=0;1==a?(3==mn.mn2_newg.set[1]&&(mn.mn2_newg.set[0]=3,mn.mn2_newg.set[1]=1),0==ap.game.v.mp?(mn.mn2_dbig_yc.set[0]=4,mn.mn2_newgp.bt=[],mn.mn2_newgpadd.bt=[],m3d.ui.mnSetCustomM("mn2_newgp",mnNewgpNoMPCustom),mn.mn2_onl.block=!0,ap.ref()):(ap.newGamePlayersMenuClear(),ap.game.v.pls=0,ap.newGamePlayersMenuCreate(),mn.mn2_onl.block=!0,ap.onlSw("on"),gameChOnline())):2==a?(ap.game.v.me=1,
ap.resetPlayerNames(),1==ap.game.v.mp&&gameChOnlineStop(),3==mn.mn2_newg.set[0]&&(mn.mn2_newg.set[0]=1,mn.mn2_newg.set[1]=3),0==ap.game.v.mp&&(mn.mn2_onl.block=!0,ap.onlSw("off")),ap.newGamePlayersMenuCreate(),ap.ref()):1==ap.game.v.mp&&gameChOnlineStop()}
function mnNewgCustom(){var a=mn.mn2_newg.xpos+1,b=mn.mn2_newg.ypos;if(0<ap.game.v.gameN&6>ap.game.v.gameN){var c=[[0,0],[0,912],[0,936],[0,960],[276,912],[276,936]];apctx.drawImage(ap.mnbk.cardst,c[ap.game.v.gameN][0],c[ap.game.v.gameN][1],270,26,a+mn.mn2_newg.w2-135,b+24,270,26)}}function mnNewgWaitMode(){mn.mn2_newg.on=!1;mn.mn2_onl.on=!1}
function mnNewgpAddTo(a){var b=m3d.ui.pCl[a][6]-1,c=0,e=0,f=0,g=ap.game.v.online.gi;a=parseInt(ap.game.v.online.ar[3][g]);for(var h=0;h<a;h++)f=ap.game.v.online.ar[6+h][g],"0"==f&&(e++,e==b&&(c=h+1,ap.game.v.online.oid=ap.game.v.online.ar[0][g]));ap.game.v.me=c;b=ap.game.v.money[1].t.toString();for(h=2;h<a+1;h++)b+="."+ap.game.v.money[h].t.toString();servcall=[["new",0,0,11,1,ap.game.v.gameN,ap.game.v.online.oid,ap.game.v.me,b]];ap.game.v.serv="online";ap.newGamePlayersMenuClear();ap.game.v.pls=0;
ap.newGamePlayersMenuCreate();ap.menuNewgBlock();mn.mn2_inf.on=!0;ap.ref()}function mnNewgpAdd(a){ap.game.v.pls++;ap.game.v.pls>ap.game.v.maxpls&&(ap.game.v.pls=ap.game.v.maxpls);ap.newGamePlayersMenuCreate();ap.ref()}
function mnNewgp(a){a=m3d.ui.pCl[a][6]-1;0==a%2?(ap.game.v.pls--,2>ap.game.v.pls&&(ap.game.v.pls=2),ap.newGamePlayersMenuCreate(),ap.ref()):1==ap.game.v.set.onl&&(a=Math.floor(a/2)+1,3==ap.game.v.money[a].t?ap.game.v.money[a].t=2:2==ap.game.v.money[a].t&&(ap.game.v.money[a].t=3),ap.setPlayerNames());ap.ref()}function mnNewgpCommonCustom(){}
function mnNewgpCustom(){mnNewgpCommonCustom();var a=ap.game.v.pos.pf,b=mn.mn2_newg.xpos,c=mn.mn2_newg.ypos,b=b+205,c=c+34,e=0,f="";apctx.font="normal 12px Arial";apctx.fillStyle="#00FF00";apctx.strokeStyle="#333333";for(var g=0;g<ap.game.v.pls;g++)e=a,1==ap.game.v.money[g+1].t?(apctx.drawImage(ap.mnbk.cardsm,428,526,56,56,b+e[2*g],c+e[2*g+1],56,56),apctx.drawImage(ap.mnbk.cardsm,666,658,56,56,b+e[2*g],c+e[2*g+1],56,56),f=playerName[g+1],tw=Math.floor(apctx.measureText(f).width/2),apctx.fillText(f,
b+e[2*g]+28-tw,c+e[2*g+1]+68-16)):2==ap.game.v.money[g+1].t?(apctx.drawImage(ap.mnbk.cardsm,428,526,56,56,b+e[2*g],c+e[2*g+1],56,56),apctx.drawImage(ap.mnbk.cardsm,666,658,56,56,b+e[2*g],c+e[2*g+1],56,56),f=playerName[g+1],tw=Math.floor(apctx.measureText(f).width/2),apctx.fillText(f,b+e[2*g]+28-tw,c+e[2*g+1]+68-16)):3==ap.game.v.money[g+1].t&&(apctx.drawImage(ap.mnbk.cardsm,428,526,56,56,b+e[2*g],c+e[2*g+1],56,56),apctx.drawImage(ap.mnbk.cardsm,666,600,56,56,b+e[2*g],c+e[2*g+1],56,56),f=playerName[g+
1],tw=Math.floor(apctx.measureText(f).width/2),apctx.fillText(f,b+e[2*g]+28-tw,c+e[2*g+1]+68-16));if(3!=mn.mn2_newg.set[0])1==ap.game.v.set.onl?apctx.drawImage(ap.mnbk.cardst,6,1230,300,20,b+25+62,c+29+26,300,20):apctx.drawImage(ap.mnbk.cardst,6,1256,300,20,b+25+66,c+26,300,20);else if(apctx.drawImage(ap.mnbk.cardst,6,1204,300,20,b+25,c+29,300,20),0==mn.mn2_inf.on)if(0<ap.game.v.online.ar[0].length){for(var h=parseInt(ap.game.v.online.ar[3][0]),l=0,f=0,e=a[ap.game.v.maxpls],g=0;g<h;g++)f=parseInt(ap.game.v.online.ar[6+
g][0]),0>f?(apctx.drawImage(ap.mnbk.cardsm,428,526,56,56,b+e[2*g],c+e[2*g+1],56,56),apctx.drawImage(ap.mnbk.cardsm,666,600,56,56,b+e[2*g],c+e[2*g+1],56,56),f=playerName[g+1],tw=Math.floor(apctx.measureText(f).width/2),apctx.fillText(f,b+e[2*g]+28-tw,c+e[2*g+1]+68)):0<f?(apctx.drawImage(ap.mnbk.cardsm,428,526,56,56,b+e[2*g],c+e[2*g+1],56,56),apctx.drawImage(ap.mnbk.cardsm,666,658,56,56,b+e[2*g],c+e[2*g+1],56,56),f=playerName[g+1],tw=Math.floor(apctx.measureText(f).width/2),apctx.fillText(f,b+e[2*g]+
28-tw,c+e[2*g+1]+68)):(f=playerName[g+1],tw=Math.floor(apctx.measureText(f).width/2),apctx.fillText(f,b+e[2*g]+28-tw,c+e[2*g+1]+68),l++);f=lng.loc[17]+" "+l.toString();m3d.lib.Tex2Canvas(apctx,f,"italic 12px Arial",18,"#DDBBBB",b+175-130,c+227,260,0,"center","top")}else f=lng.loc[15],m3d.lib.Tex2Canvas(apctx,f,"italic 12px Arial",18,"#DDBBBB",b+175-130,c+113,260,0,"left","top");0!=ap.game.v.pls&&(f=lng.loc[14]+" "+ap.game.v.pls.toString(),m3d.lib.Tex2Canvas(apctx,f,"italic 12px Arial",18,"#DDBBBB",
b+175-130-180,c+227+70,260,0,"center","top"))}function mnNewgpNoMPCustom(){var a=mn.mn2_newg.xpos,b=mn.mn2_newg.ypos;mnNewgpCommonCustom();m3d.lib.Tex2Canvas(apctx,lng.loc[13],"italic 14px Arial",18,"#DDBBBB",a+205+175-130+65,b+38+119+30,260,0,"center","top")}function mnNewgEnterGame(){3!=mn.mn2_newg.set[0]&&(1==ap.game.v.set.onl?mnNewgOnline():mnNewgEnterGame2())}
function mnNewgEnterGame2(){1==ap.game.v.mp&&gameChOnlineStop();m3dcache.v.mouse=0;ap.themeLoopOff();m3d.audio.playa(ap.aud.click2);ap.blackMake(function(){m3dcache.v.mouse=1;m3d.ui.mnOff("cash mn2_start mn2_soc1 mn2_soc2 mn2_start_help mn2_start_top mn2_start_open lang".split(" "));ap.mnNewgClose();m3d.core.onWindowResize(0);mn.gmenu0.bt=[2,3,4];ap.ref();ap.drawLogo();m3dcache.v.mouse=0;ap.blackClear(function(){});var a=ap.game.v.gameToStart;ap.game.v.gameN=ap.game.v.gameToStart;m3dcache.v.mouse=
1;1==a?setTimeout(function(){ap.menuSetPosMyLocation();mn.player1.on=!1;ap.game.v.gameMP="std2";start3Bags()},10):2==a?setTimeout(function(){ap.menuSetPosMyLocation();mn.player1.on=!1;ap.game.v.gameMP="std2";startDurak()},10):3==a?setTimeout(function(){ap.menuSetPosMyLocation();mn.player1.on=!1;ap.game.v.gameMP="poker";startPoker()},10):4==a?setTimeout(function(){ap.menuSetPosMyLocation();mn.player1.on=!1;ap.game.v.gameMP="std2";startCzDurak()},10):5==a&&setTimeout(function(){ap.menuSetPosMyLocation();
mn.player1.on=!1;ap.game.v.gameMP="std2";start3Sticks()},10)})}function mnGameBtCustom(){}function mnGmenuSmallCl(a){0<apVar.mouse&&(apVar.blockinfo=!0,m3d.ui.mnBlock(["cash","cashs","mn2_start","mn2_start2"]),m3d.ui.mnOn(["gmenu"]),ap.ref(),m3d.audio.playa(ap.aud.click2))}
function mnGmenuCl(a){1==a?0==m3dcache.v.fullScreen?(m3dcache.v.fullScreen=1,m3d.resize.mnMainFullScreen()):(m3dcache.v.fullScreen=0,m3d.resize.mnMainFullScreenExit()):2==a?ap.aspectStart():3==a?(m3dcache.setup.aspect.scale+=.1,1E3<m3dcache.setup.aspect.scale&&(m3dcache.setup.aspect.scale=1E3),m3d.resize.onWindowResizeScale(!0)):4==a?(m3dcache.setup.aspect.scale-=.1,.1>m3dcache.setup.aspect.scale&&(m3dcache.setup.aspect.scale=.1),m3d.resize.onWindowResizeScale(!0)):5==a?mnGameRules():6==a?mnGame():
7==a?(ap.game.v.score=0,m3d.ui.mnOff(["gmenu","mn2_game","mn2_game_cross"]),ap.mnStart0()):8==a&&(apVar.blockinfo=!1,m3d.ui.mnUnBlock(["cash","cashs","mn2_start","mn2_start2"]),m3d.ui.mnOff(["gmenu","mn2_game","mn2_game_cross"]),ap.ref())}function mnGame(){mn.mn2_game.bt=[2,3,4,5];m3d.ui.mnSetCustomM("mn2_game",mnGameCustom);apVar.blockinfo=!0;m3d.ui.mnBlock(["cash","cashs"]);m3d.ui.mnOn(["mn2_game","mn2_game_cross"]);m3d.ui.mnOff(["gmenu"]);ap.ref();m3d.audio.playa(ap.aud.click2)}
function mnGameCustom(){apctx.drawImage(ap.mnbk.cardst,274,622,266,23,mn.mn2_game.xpos+mn.mn2_game.w2-133,mn.mn2_game.ypos+382,266,23)}function mnGameBTop(a,b,c){if(1==b&&0==ap.game.v.set.sound){a=m3d.ui.pCl[c][0];var e=m3d.ui.pCl[c][1];apctx.drawImage(ap.mnbk.cardst,729,6,46,46,a+5,e+5,46,46)}4==b&&0==ap.game.v.set.animCards&&(a=m3d.ui.pCl[c][0],e=m3d.ui.pCl[c][1],apctx.drawImage(ap.mnbk.cardst,729,6,46,46,a+5,e+5,46,46))}
function mnGameI(a){1==a?(1==ap.game.v.set.sound?(ap.game.v.set.sound=!1,m3d.audio.setAudio=0):(ap.game.v.set.sound=!0,m3d.audio.setAudio=1),ap.ref()):2==a?(ap.game.v.score=0,ap.game.v.money[1].s=0,m3dcache.v.mouse=0,ap.decideWin()):3==a?mnGameRules():4==a&&(ap.game.v.set.animCards=1==ap.game.v.set.animCards?!1:!0,ap.ref())}
function mnGameCustomAbout(){apctx.drawImage(ap.mnbk.ml,203,156,300,16,mn.mn2_game.xpos+mn.mn2_game.w2-150,mn.mn2_game.ypos-2+21,300,16);m3d.lib.Tex2Canvas(apctx,lng.about[1],"normal 12px Arial",20,"#DDBBBB",mn.mn2_game.xpos+30,mn.mn2_game.ypos+65,mn.mn2_game.w-60,0,"left","top")}
function mnGameRules(){var a=document.getElementById("gamerules");document.getElementById("gamerulest").innerHTML=lng.rules[ap.game.v.gameN];a.style.display="block";document.getElementById("gamerulesin").scrollTop=0;ap.ref();setTimeout(function(){m3d.audio.playa(ap.aud.click2)},0)}function mnGameCustomRules(){}function mnRulesClose(){var a=document.getElementById("gamerules");document.getElementById("gamerulest").innerHTML="";a.style.display="none";mnGameClose()}
function mnGameClose(){apVar.blockinfo=!1;m3d.ui.mnUnBlock(["cash","cashs"]);m3d.ui.mnOff(["mn2_game","mn2_game_cross","gmenu"]);m3d.ui.mnUnBlock(["cash","cashs","mn2_start","mn2_start2"]);ap.ref()}function newDeck(){for(var a=[],b=1;5>b;b++)for(var c=ap.game.v.deck[0];c<ap.game.v.deck[1]+1;c++)a.push([c,b,-1]);return a=ap.shuffle(a)}function newDeck52(){for(var a=[],b=1;5>b;b++)for(var c=ap.game.v.deck52[0];c<ap.game.v.deck52[1]+1;c++)a.push([c,b,-1]);return a=ap.shuffle(a)}
function showCardsAnim(a,b,c){showCardsD={plr:a,n:player[a].length,dt:b,i:0,cb:c};showCardsAnim2()}function showCardsAnim2(){showCardsD.i<showCardsD.n?(m3d.ui.refBt(showCardsD.i,1,1,!1,!0),showCardsD.i++,setTimeout(function(){showCardsAnim2()},showCardsD.dt)):""!=showCardsD.cb&&showCardsD.cb()}function showCardsAnimSet(a,b,c,e){showCardsD={plr:a,n:player[a].length,dt:c,i:0,cb:e,setar:b};showCardsAnimSet2()}
function showCardsAnimSet2(){showCardsD.i<showCardsD.n?(showCardsD.setar[showCardsD.i]=5,m3d.ui.refBt(showCardsD.i,1,1,!1,!0),showCardsD.i++,setTimeout(function(){showCardsAnimSet2()},showCardsD.dt)):""!=showCardsD.cb&&showCardsD.cb()}function giveCards(a,b,c){for(c=0;c<b;c++)player[a].push(ap.game.deck[ap.game.deck.length-1]),ap.game.deck.pop(1)}
function moveObj2D(a,b,c,e,f,g,h,l,k,p,q,n,m){1==ap.game.v.set.animCards?(moveObj2DD={im:a,ox:b,oy:c,w:e,h:f,v:n,cb:m,dt:0,p:[],x:0,x0:0,y:0,y0:0,xi:1,yi:1,xi2:0,yi2:0,ti:0,ti1:0,ti2:0,t0:0,sx:0,sy:0,s:0,constx:0,consty:0,i:1,n:0,ready:!0,a:0,ai:0,dabs:1,constda:1,r1:l,r2:q,r:l,rflag:!0},l==q&&(moveObj2DD.rflag=!1),moveObj2DD.p=[[g,h,l],[k,p,q]],moveObj2DD.n=moveObj2DD.p.length-1,moveObj2DD.dt=0,moveObj2D_next()):m()}
function moveObj2D_next(){moveObj2DD.ti=0;moveObj2DD.sx=moveObj2DD.p[moveObj2DD.i][0]-moveObj2DD.p[moveObj2DD.i-1][0];moveObj2DD.sy=moveObj2DD.p[moveObj2DD.i][1]-moveObj2DD.p[moveObj2DD.i-1][1];moveObj2DD.x0=moveObj2DD.p[moveObj2DD.i-1][0];moveObj2DD.y0=moveObj2DD.p[moveObj2DD.i-1][1];moveObj2DD.x=moveObj2DD.p[moveObj2DD.i][0];moveObj2DD.y=moveObj2DD.p[moveObj2DD.i][1];moveObj2DD.s=Math.sqrt(moveObj2DD.sx*moveObj2DD.sx+moveObj2DD.sy*moveObj2DD.sy);moveObj2DD.constx=moveObj2DD.v*moveObj2DD.sx/moveObj2DD.s;
moveObj2DD.consty=moveObj2DD.v*moveObj2DD.sy/moveObj2DD.s;moveObj2DD.t0=Date.now()/100;moveObj2DD.xi=moveObj2DD.constx*moveObj2DD.ti+moveObj2DD.x0;moveObj2DD.yi=moveObj2DD.consty*moveObj2DD.ti+moveObj2DD.y0;moveObj2D2()}
function moveObj2D2(){0==moveObj2DD.rflag?clearObj2D(moveObj2DD.xi,moveObj2DD.yi,0):clearObj2DR(moveObj2DD.xi,moveObj2DD.yi,moveObj2DD.r);moveObj2DD.ti1=Date.now();moveObj2DD.ti=moveObj2DD.ti1/100-moveObj2DD.t0;moveObj2DD.xi=moveObj2DD.constx*moveObj2DD.ti+moveObj2DD.x0;moveObj2DD.yi=moveObj2DD.consty*moveObj2DD.ti+moveObj2DD.y0;0>moveObj2DD.sx&moveObj2DD.xi>moveObj2DD.p[moveObj2DD.i][0]||0<moveObj2DD.sx&moveObj2DD.xi<moveObj2DD.p[moveObj2DD.i][0]||0>moveObj2DD.sy&moveObj2DD.yi>moveObj2DD.p[moveObj2DD.i][1]||
0<moveObj2DD.sy&moveObj2DD.yi<moveObj2DD.p[moveObj2DD.i][1]?(1==moveObj2DD.rflag&&(moveObj2DD.r=(moveObj2DD.r2-moveObj2DD.r1)*Math.abs(moveObj2DD.xi-moveObj2DD.x0)/Math.abs(moveObj2DD.sx)+moveObj2DD.r1),0==moveObj2DD.rflag?posObj2D(moveObj2DD.xi,moveObj2DD.yi,0):posObj2DR(moveObj2DD.xi,moveObj2DD.yi,moveObj2DD.r),setTimeout(function(){moveObj2D2()},moveObj2DD.dt)):moveObj2DD.i<moveObj2DD.n?(moveObj2DD.i++,moveObj2D_next()):""!=moveObj2DD.cb&&moveObj2DD.cb()}
function posObj2D(a,b,c){apctx.drawImage(moveObj2DD.im,moveObj2DD.ox,moveObj2DD.oy,moveObj2DD.w,moveObj2DD.h,a,b,moveObj2DD.w,moveObj2DD.h)}function clearObj2D(a,b,c){apctx.clearRect(a-1,b-1,moveObj2DD.w+2,moveObj2DD.h+2)}function posObj2DR(a,b,c){a+=50;b+=70;apctx.save();apctx.translate(a,b);apctx.rotate(c);apctx.drawImage(moveObj2DD.im,moveObj2DD.ox,moveObj2DD.oy,moveObj2DD.w,moveObj2DD.h,-50,-70,moveObj2DD.w,moveObj2DD.h);apctx.restore()}
function clearObj2DR(a,b,c){a+=50;b+=70;apctx.save();apctx.translate(a,b);apctx.rotate(c);apctx.clearRect(-55,-75,110,150);apctx.restore()}
function moveCard(a,b,c,e,f,g,h,l,k,p,q){1==ap.game.v.set.animCards?(moveCardsD={plr:a,plrf:a,face:b,crd:c,v:p,cb:q,dt:0,p:[],x:0,x0:0,y:0,y0:0,xi:1,yi:1,xi2:0,yi2:0,ti:0,ti1:0,ti2:0,t0:0,sx:0,sy:0,s:0,constx:0,consty:0,i:1,n:0,ready:!0,a:0,ai:0,dabs:1,constda:1,r1:g,r2:k,r:g,rflag:!0},0!=b&&(moveCardsD.plrf=b),1==ap.game.v.wa&&(moveCardsD.plrf=0),g==k&&(moveCardsD.rflag=!1),moveCardsD.p=[[e,f,g],[h,l,k]],moveCardsD.n=moveCardsD.p.length-1,moveCardsD.dt=0,moveCard_next()):q()}
function moveCard_next(){moveCardsD.ti=0;moveCardsD.sx=moveCardsD.p[moveCardsD.i][0]-moveCardsD.p[moveCardsD.i-1][0];moveCardsD.sy=moveCardsD.p[moveCardsD.i][1]-moveCardsD.p[moveCardsD.i-1][1];moveCardsD.x0=moveCardsD.p[moveCardsD.i-1][0];moveCardsD.y0=moveCardsD.p[moveCardsD.i-1][1];moveCardsD.x=moveCardsD.p[moveCardsD.i][0];moveCardsD.y=moveCardsD.p[moveCardsD.i][1];moveCardsD.s=Math.sqrt(moveCardsD.sx*moveCardsD.sx+moveCardsD.sy*moveCardsD.sy);moveCardsD.constx=moveCardsD.v*moveCardsD.sx/moveCardsD.s;
moveCardsD.consty=moveCardsD.v*moveCardsD.sy/moveCardsD.s;moveCardsD.t0=Date.now()/100;moveCardsD.xi=moveCardsD.constx*moveCardsD.ti+moveCardsD.x0;moveCardsD.yi=moveCardsD.consty*moveCardsD.ti+moveCardsD.y0;moveCard2()}
function moveCard2(){0==moveCardsD.rflag?clearCard(moveCardsD.xi,moveCardsD.yi,0):clearCardR(moveCardsD.xi,moveCardsD.yi,moveCardsD.r);moveCardsD.ti1=Date.now();moveCardsD.ti=moveCardsD.ti1/100-moveCardsD.t0;moveCardsD.xi=moveCardsD.constx*moveCardsD.ti+moveCardsD.x0;moveCardsD.yi=moveCardsD.consty*moveCardsD.ti+moveCardsD.y0;0>moveCardsD.sx&moveCardsD.xi>moveCardsD.p[moveCardsD.i][0]||0<moveCardsD.sx&moveCardsD.xi<moveCardsD.p[moveCardsD.i][0]||0>moveCardsD.sy&moveCardsD.yi>moveCardsD.p[moveCardsD.i][1]||
0<moveCardsD.sy&moveCardsD.yi<moveCardsD.p[moveCardsD.i][1]?(1==moveCardsD.rflag&&(moveCardsD.r=(moveCardsD.r2-moveCardsD.r1)*Math.abs(moveCardsD.xi-moveCardsD.x0)/Math.abs(moveCardsD.sx)+moveCardsD.r1),1==moveCardsD.plrf?0==moveCardsD.rflag?posCard(moveCardsD.crd,moveCardsD.xi,moveCardsD.yi,0):posCardR(apctx,moveCardsD.crd,moveCardsD.xi,moveCardsD.yi,moveCardsD.r):0==moveCardsD.rflag?posCardBack(moveCardsD.xi,moveCardsD.yi,0):posCardBackR(moveCardsD.xi,moveCardsD.yi,moveCardsD.r),setTimeout(function(){moveCard2()},
moveCardsD.dt)):moveCardsD.i<moveCardsD.n?(moveCardsD.i++,moveCard_next()):""!=moveCardsD.cb&&moveCardsD.cb()}function posCard(a,b,c,e){a=getCardCoords(a);apctx.drawImage(ap.mnbk.cards,a[0],a[1],100,140,b,c,100,140)}function posCardBack(a,b,c){apctx.drawImage(ap.mnbk.cards,400,560,100,140,a,b,100,140)}function clearCard(a,b,c){apctx.clearRect(a-1,b-1,102,142)}
function posCardR(a,b,c,e,f){b=getCardCoords(b);c+=50;e+=70;a.save();a.translate(c,e);a.rotate(f);a.drawImage(ap.mnbk.cards,b[0],b[1],100,140,-50,-70,100,140);a.restore()}function posCardBackR(a,b,c){a+=50;b+=70;apctx.save();apctx.translate(a,b);apctx.rotate(c);apctx.drawImage(ap.mnbk.cards,400,560,100,140,-50,-70,100,140);apctx.restore()}function clearCardR(a,b,c){a+=50;b+=70;apctx.save();apctx.translate(a,b);apctx.rotate(c);apctx.clearRect(-55,-75,110,150);apctx.restore()}
function giveCardsAnim(a,b,c,e,f,g){giveCardsD={plr:a,n:b,v:c,dt:e,i:0,fdisplay:f,cb:g};a>ap.game.v.pls?""!=giveCardsD.cb&&giveCardsD.cb():giveCardsAnim2()}
function giveCardsAnim2(){if(giveCardsD.i<giveCardsD.n){m3d.audio.stopa(ap.aud.card0);m3d.audio.playa(ap.aud.card0);player[giveCardsD.plr].push(ap.game.deck[ap.game.deck.length-1]);ap.game.deck.pop(1);giveCardsD.fdisplay();var a=player[giveCardsD.plr].length-1,b=player[giveCardsD.plr][a],c="player"+giveCardsD.plr,e=mn.cash.xpos+52+53,f=mn.cash.ypos+152+28,g=mn[c].btd[2*a]+mn[c].xpos,a=mn[c].btd[2*a+1]+mn[c].ypos;5>ap.game.deck.length&&ap.ref();moveCard(giveCardsD.plr,0,b,e,f,0,g,a,0,giveCardsD.v,
function(){giveCardsD.i++;ap.ref();setTimeout(function(){giveCardsAnim2()},giveCardsD.dt)})}else ap.ref(),""!=giveCardsD.cb&&giveCardsD.cb()}function giveCardsTable(a,b,c,e){giveCardsD={plr:a,n:b,i:0,v:c,cb:e};mn.table.bts=[];mn.table.bts=mn.table.bts.concat(mnb.player_var);mn.table.bt=[];giveCardsTable2()}function addCardsTable(a,b,c,e){giveCardsD={plr:a,n:b,i:0,v:c,cb:e};giveCardsD.i=mn.table.bt.length;giveCardsD.n=giveCardsD.i+b;giveCardsTable2()}
function giveCardsTable2(){giveCardsD.i<giveCardsD.n?(drawDeck1Right(),setTimeout(function(){player[giveCardsD.plr].push(ap.game.deck[ap.game.deck.length-1]);ap.game.deck.pop(1);ap.ref();var a=100*(player[0][giveCardsD.i][0]-2),b=140*(player[0][giveCardsD.i][1]-1);mn.table.bts.push([a,b,a,b]);mn.table.bt.push(giveCardsD.i+2);var c=giveCardsD.i,a=mn.cash.xpos+52+10+53,b=mn.cash.ypos+152+10+28,e=mn.table.btd[2*c]+mn.table.xpos,c=mn.table.btd[2*c+1]+mn.table.ypos,f=1*Math.PI;m3d.audio.stopa(ap.aud.card1);
m3d.audio.playa(ap.aud.card1);moveCard(0,0,[1,1],a,b,0,e,c,f,giveCardsD.v,function(){giveCardsD.i++;ap.ref();setTimeout(function(){giveCardsTable2()},10)})},200)):(ap.ref(),""!=giveCardsD.cb&&giveCardsD.cb())}
function giveCardsTableCash(a,b,c){giveCardsTableCashD={n:e,v:b,cb:c};var e=player[0].length-0;a=playerCash[playerCash.length-1];c=mn.cash.xpos+504+28-7*ap.game.v.parCash-80+53;var f=mn.cash.ypos+38+40+28,g=Math.PI/2,h=mn.table.btd[2*e]+mn.table.xpos,e=mn.table.btd[2*e+1]+mn.table.ypos;player[0].push(playerCash[playerCash.length-1]);playerCash.pop(1);var l=player[0].length-1,k=100*(player[0][l][0]-2),p=140*(player[0][l][1]-1);mn.table.bts.push([k,p,k,p]);mn.table.bt.push(l+2);moveCard(1,0,a,c,f,g,
h,e,0,b,function(){m3d.audio.stopa(ap.aud.card1);m3d.audio.playa(ap.aud.card1);giveCardsTableCashD.cb()})}function removeCardsTable(a,b,c){b>player[0].length&&(b=player[0].length);giveCardsD={plr:a,n:b,i:player[a].length-1,cb:c};ap.game.v.selCard=0;ap.ref();removeCardsTable2()}
function removeCardsTable2(){if(-1<giveCardsD.i){0==ap.game.v.set.animCards&&drawTable1Right(giveCardsD.i);ap.ref();var a=giveCardsD.i,b=mn.table.btd[2*a]+mn.table.xpos,c=mn.table.btd[2*a+1]+mn.table.ypos,e=mn.cash.xpos+mn.cash.w-100,f=mn.table.btd[2*a+1]+mn.table.ypos,a=25;1==ap.game.v.set.animCards&&(a=0);setTimeout(function(){mn.table.bt.pop(1);ap.ref();moveCard(1,0,player[0][giveCardsD.i],b,c,0,e,f,0,300,function(){giveCardsD.i--;ap.ref();setTimeout(function(){removeCardsTable2()},50)})},a)}else mn.table.bts=
[],mn.table.bts=mn.table.bts.concat(mnb.player_var),mn.table.bt=[],mn.table.btd=mnb.table_btd.slice(),ap.ref(),""!=giveCardsD.cb&&giveCardsD.cb()}
function takeCardFromTable(a,b,c,e,f){takeCardsD={plr:a,cardt:b,cardp:c,cardpCopy:[],tableCardN:0,selCardN:0,par:e,cb:f};apVar.mouse=0;c="player"+a;e=ap.game.v.selCard-1;a=mn[c].btd[2*e]+mn[c].xpos;c=mn[c].btd[2*e+1]+mn[c].ypos;e=mn.table.btd[2*b]+mn.table.xpos+5;f=mn.table.btd[2*b+1]+mn.table.ypos+10;takeCardsD.cardpCopy=player[takeCardsD.plr][takeCardsD.cardp];player[takeCardsD.plr].splice(takeCardsD.cardp,1);takeCardsD.tableCardN=b+1;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);takeCardsD.selCardN=
ap.game.v.selCard;ap.game.v.selCard=0;ap.ref();moveCard(takeCardsD.plr,0,takeCardsD.cardpCopy,a,c,0,e,f,0,250,function(){ap.game.v.tableCard=takeCardsD.tableCardN;ap.game.v.selCard=takeCardsD.selCardN;ap.ref();m3d.audio.stopa(ap.aud.card1);m3d.audio.playa(ap.aud.card1);setTimeout(function(){mn.table.set[ap.game.v.tableCard-1]=4;ap.game.v.tableCard=-1;ap.ref();var a="player"+takeCardsD.plr,b=takeCardsD.tableCardN-1,c=mn.table.btd[2*b]+mn.table.xpos+5,b=mn.table.btd[2*b+1]+mn.table.ypos+10,e=mn[a].w2+
mn[a].xpos-50,a=mn[a].ypos+mn[a].btd[1];moveCard(1,0,takeCardsD.cardpCopy,c,b,0,e,a,0,250,function(){var a=600;1==ap.game.v.set.animCards&&(a=0);setTimeout(function(){mn.table.set[takeCardsD.cardt]=6;ap.ref();var a="player"+takeCardsD.plr,b=takeCardsD.tableCardN-1,c=mn.table.btd[2*b]+mn.table.xpos+0,b=mn.table.btd[2*b+1]+mn.table.ypos+0,e=mn[a].w2+mn[a].xpos-50,a=mn[a].ypos+mn[a].btd[1];moveCard(1,0,player[0][takeCardsD.tableCardN-1],c,b,0,e,a,0,250,function(){setTimeout(function(){player[takeCardsD.plr].push(takeCardsD.cardpCopy);
apVar.mouse=1;ap.ref();ap.game.v.tableCard=0;""!=takeCardsD.cb&&takeCardsD.cb(takeCardsD.par)},100)})},a)})},300)})}
function exchangeCardOnTable(a,b,c,e,f){takeCardsD={plr:a,cardt:b,cardp:c,cardpCopy:[],cardpTableCopy:[],tableCardN:0,selCardN:0,par:e,cb:f};apVar.mouse=0;c="player"+a;e=ap.game.v.selCard-1;a=mn[c].btd[2*e]+mn[c].xpos;c=mn[c].btd[2*e+1]+mn[c].ypos;e=mn.table.btd[2*b]+mn.table.xpos+5;f=mn.table.btd[2*b+1]+mn.table.ypos+10;takeCardsD.cardpCopy=player[takeCardsD.plr][takeCardsD.cardp];player[takeCardsD.plr].splice(takeCardsD.cardp,1);takeCardsD.tableCardN=b+1;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,
0,10);takeCardsD.selCardN=ap.game.v.selCard;ap.game.v.selCard=0;ap.ref();moveCard(takeCardsD.plr,0,takeCardsD.cardpCopy,a,c,0,e,f,0,200,function(){ap.game.v.tableCard=takeCardsD.tableCardN;ap.game.v.selCard=takeCardsD.selCardN;takeCardsD.cardpTableCopy=player[0][takeCardsD.tableCardN-1].slice();player[0][takeCardsD.tableCardN-1]=takeCardsD.cardpCopy.slice();var a=100*(player[0][takeCardsD.tableCardN-1][0]-2),b=140*(player[0][takeCardsD.tableCardN-1][1]-1);mn.table.bts[takeCardsD.tableCardN-1+2]=[a,
b,a,b];ap.ref();m3d.audio.stopa(ap.aud.card1);m3d.audio.playa(ap.aud.card1);setTimeout(function(){ap.game.v.tableCard=-1;ap.ref();var a=600;1==ap.game.v.set.animCards&&(a=200);setTimeout(function(){ap.ref();var a="player"+takeCardsD.plr,b=takeCardsD.tableCardN-1,c=mn.table.btd[2*b]+mn.table.xpos+0,b=mn.table.btd[2*b+1]+mn.table.ypos+0,e=mn[a].w2+mn[a].xpos-50,a=mn[a].ypos+mn[a].btd[1];moveCard(1,0,takeCardsD.cardpTableCopy,c,b,0,e,a,0,80,function(){setTimeout(function(){player[takeCardsD.plr].push(takeCardsD.cardpTableCopy);
apVar.mouse=1;ap.ref();ap.game.v.tableCard=0;""!=takeCardsD.cb&&takeCardsD.cb(takeCardsD.par)},100)})},a)},300)})}
function removeCardsFromTableWithCard(a,b,c,e,f){removeCardsD={plr:a,cardt:b,cardp:c,cardpCopy:[],tableCardN:0,selCardN:0,par:e,cb:f};apVar.mouse=0;e="player"+a;f=ap.game.v.selCard-1;c=mn[e].btd[2*f]+mn[e].xpos;e=mn[e].btd[2*f+1]+mn[e].ypos;f=mn.table.btd[2*b]+mn.table.xpos+5;var g=mn.table.btd[2*b+1]+mn.table.ypos+10;removeCardsD.cardpCopy=player[removeCardsD.plr][removeCardsD.cardp];player[removeCardsD.plr].splice(removeCardsD.cardp,1);ap.game.v.tableCard=b+1;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,
0,10);removeCardsD.tableCardN=b+1;removeCardsD.selCardN=ap.game.v.selCard;ap.game.v.selCard=0;ap.ref();moveCard(removeCardsD.plr,0,removeCardsD.cardpCopy,c,e,0,f,g,0,250,function(){ap.game.v.tableCard=removeCardsD.tableCardN;ap.game.v.selCard=removeCardsD.selCardN;ap.ref();m3d.audio.stopa(ap.aud.card1);m3d.audio.playa(ap.aud.card1);setTimeout(function(){ap.game.v.tableCard=-1;ap.ref();var b=600;1==a&&(b=0);setTimeout(function(){apVar.mouse=1;ap.ref();ap.game.v.tableCard=0;""!=removeCardsD.cb&&removeCardsD.cb(removeCardsD.par)},
b)},800)})}
function coverCardOnTableWithCard(a,b,c,e,f){coverCardsD={plr:a,cardt:b,cardp:c,cardpCopy:[],tableCardN:0,selCardN:0,par:e,cb:f};apVar.mouse=0;a="player"+a;e=c-0;ap.game.v.selCard=e;c=mn[a].btd[2*e]+mn[a].xpos;a=mn[a].btd[2*e+1]+mn[a].ypos;e=0;if(-1==b){f=getNewPosTable();var g=f.x,h=f.y}else g=mn.table.btd[2*b]+mn.table.xpos+15,h=mn.table.btd[2*b+1]+mn.table.ypos+10,e=0;coverCardsD.cardpCopy=player[coverCardsD.plr][coverCardsD.cardp];player[coverCardsD.plr].splice(coverCardsD.cardp,1);ap.game.v.tableCard=
b+1;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);coverCardsD.tableCardN=b+1;coverCardsD.selCardN=ap.game.v.selCard;ap.game.v.selCard=0;ap.ref();moveCard(coverCardsD.plr,1,coverCardsD.cardpCopy,c,a,0,g,h,e,250,function(){ap.game.v.tableCard=coverCardsD.tableCardN;ap.game.v.selCard=coverCardsD.selCardN;m3d.audio.stopa(ap.aud.card1);m3d.audio.playa(ap.aud.card1);setTimeout(function(){ap.game.v.tableCard=-1;player[0].push(coverCardsD.cardpCopy);mn.table.bt.push(mn.table.bt.length+2);mn.table.cb.push(function(){});
mn.table.btd.push(g-mn.table.xpos);mn.table.btd.push(h-mn.table.ypos);mn.table.set.push(5);var a=getCardCoords(coverCardsD.cardpCopy);mn.table.bts.push(a);apVar.mouse=1;ap.ref();ap.game.v.tableCard=0;""!=coverCardsD.cb&&coverCardsD.cb(coverCardsD.par)},0)})}
function coverLastCardOnTableWithCard(a,b,c,e){coverCardsD={plr:a,cardp:b,cardpCopy:[],tableCardN:0,selCardN:0,par:c,cb:e};apVar.mouse=0;a="player"+a;c=b-0;ap.game.v.selCard=c;b=mn[a].btd[2*c]+mn[a].xpos;a=mn[a].btd[2*c+1]+mn[a].ypos;c=getNewPosTable();var f=c.x,g=c.y;coverCardsD.cardpCopy=player[coverCardsD.plr][coverCardsD.cardp];player[coverCardsD.plr].splice(coverCardsD.cardp,1);ap.game.v.tableCard=0;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);coverCardsD.tableCardN=0;coverCardsD.selCardN=
ap.game.v.selCard;ap.game.v.selCard=0;ap.ref();moveCard(coverCardsD.plr,1,coverCardsD.cardpCopy,b,a,0,f,g,0,250,function(){ap.game.v.tableCard=coverCardsD.tableCardN;ap.game.v.selCard=coverCardsD.selCardN;m3d.audio.stopa(ap.aud.card1);m3d.audio.playa(ap.aud.card1);setTimeout(function(){ap.game.v.tableCard=-1;player[0].push(coverCardsD.cardpCopy);mn.table.bt.push(mn.table.bt.length+2);mn.table.cb.push(function(){});mn.table.btd.push(f-mn.table.xpos);mn.table.btd.push(g-mn.table.ypos);mn.table.set.push(5);
var a=getCardCoords(coverCardsD.cardpCopy);mn.table.bts.push(a);apVar.mouse=1;ap.ref();ap.game.v.tableCard=0;""!=coverCardsD.cb&&coverCardsD.cb(coverCardsD.par)},0)})}function clearTable(){mn.table.bts=[];mn.table.bts=mn.table.bts.concat(mnb.player_var);mn.table.bt=[];player[0]=[]}function drawTable1Right(a){var b=mn.table.btd[2*a];mn.table.btd[2*a]=b+20}function giveCardsCash(a){for(var b=0;b<a;b++)playerCash.push(ap.game.deck[ap.game.deck.length-1]),ap.game.deck.pop(1)}
function drawDeck1Right(){1<ap.game.deck.length&&m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,400,560,100,140,mn.cash.xpos+52+10+53,mn.cash.ypos+152-4+33,100,140)}function getCardCoords(a){var b=100*(a[0]-2);a=140*(a[1]-1);return[b,a,b,a]}
function checkPlayerTable(a){playerTable[a]=[[],[],[],[],[]];playerTableDrop[a]=[[],[],[],[],[]];for(var b=0;b<player[a].length;b++){player[a][b][2]=[];player[a][b][3]=[];for(var c=0;c<player[0].length;c++)player[0][c][1]!=player[a][b][1]?1==player[0][c][0]-player[a][b][0]&&(playerTable[a][c].push(b),player[a][b][2].push(c)):player[0][c][0]<player[a][b][0]&&(playerTableDrop[a][c].push(b),player[a][b][3].push(c))}}
function setMenuPlayerCards(a,b,c,e,f,g,h,l){var k=0,p=0,q=0,n=0,m=0,t=0,m=0,m=!1,r="player"+a;0==a&&(r="table");p=player[a].length;n=100*p+(p-1)*c;k=100+c;n>b&&(n=b,k=(n-100)/(p-1));2>p&&(k=n=100);q=mn[r].w2-Math.floor(n/2);mn[r].bt=[];mn[r].set=[];mn[r].btd=[];mn[r].cb=[];mn[r].bts=[];mn[r].bts=mn[r].bts.concat(mnb.player_var);mn[r].btr=[];for(b=0;b<p;b++)0!=a&1!=a?mn[r].set.push(5):mn[r].set.push(1),mn[r].bt.push(b+2),mn[r].cb.push(l),m=b,mn[r].btd.push(k*m+q+e),mn[r].btd.push(f),m=!1,0!=ap.game.v.wa||
0!=a&&1!=a&&1!=ap.game.v.endlv||(m=!0),1==ap.game.v.endlv&&(m=!0),1==m?(m=100*(player[a][b][0]-2),t=140*(player[a][b][1]-1)):(m=400,t=560),mn[r].bts.push([m,t,m,t]);0!=g&&setCardCirclePoints(a,q,f,n-100,g,h)}
function getNewPosTable(){var a={x:0,y:0},b=2*player[0].length;0<b?(a.x=mn.table.btd[b-2]+mn.table.xpos-66+110,a.y=mn.table.btd[b-1]+mn.table.ypos):(a.x=mn.table.xpos+mn.table.w2-66+20,a.y=mn.table.ypos+mn.table.h2-75);a.x>mn.table.xpos+mn.table.w-110&&(a.x=mn.table.xpos+mn.table.w-110);return a}
function setMenuPlayerCards2(a,b,c,e,f,g,h){c-=4;var l=0;f=0;g=!1;var k=0,p=0,q=0,n=0,k=p=k=l=q=0,m="player"+a;0==a&&(m="table");f=player[a].length;l=0;0<player[a].length/2-Math.floor(player[a].length/2)&&(l=1);n=Math.floor(player[a].length/2)+l;"givemore"==ap.game.v.state.a2&&(n=player[a].length+0);l=10;q=100*n+(n-1)*l;l=100+l;q>b&&(q=b,l=(q-100)/(n-1));2>n&&(l=q=100);n=mn[m].w2-Math.floor(q/2);66<b-q&&(n-=66);mn[m].bt=[];mn[m].set=[];mn[m].btd=[];mn[m].cb=[];mn[m].bts=[];mn[m].bts=mn[m].bts.concat(mnb.player_var);
mn[m].btr=[];for(b=q=0;b<f;b++)0!=a&1!=a?mn[m].set.push(5):mn[m].set.push(1),mn[m].bt.push(b+2),mn[m].cb.push(h),k=q,k=l*k+n+c,p=e+2,"givemore"!=ap.game.v.state.a2?1==g?(q++,k+=15,p+=10,g=!1):g=!0:q++,mn[m].btd.push(k),mn[m].btd.push(p),1==a?(k=400,p=560):(k=100*(player[a][b][0]-2),p=140*(player[a][b][1]-1)),mn[m].bts.push([k,p,k,p])}
function setMenuPlayerCards4(a,b,c,e,f,g,h){var l=b=0,k=0,k=l=f=c=0;g="player"+a;0==a&&(g="table");b=player[a].length;var p=player[a].length-3;0>p&&(p=0);f=mn[g].w2-Math.floor(0);mn[g].bt=[];mn[g].set=[];mn[g].btd=[];mn[g].cb=[];mn[g].bts=[];mn[g].bts=mn[g].bts.concat(mnb.player_var);mn[g].btr=[];c=0;for(var q=p;q<b;q++)0!=a&1!=a?mn[g].set.push(5):mn[g].set.push(1),mn[g].bt.push(q+2-p),mn[g].cb.push(h),l=3*(q-p)+f-46-4,k=2*(q-p)+e+4,c++,mn[g].btd.push(l),mn[g].btd.push(k),face=!1,0==ap.game.v.wa&&
1==a&&(face=!0),1==face?(l=400,k=560):(l=100*(player[a][q][0]-2),k=140*(player[a][q][1]-1)),mn[g].bts.push([l,k,l,k])}
function setCardCirclePoints(a,b,c,e,f,g){var h=0,l=h=0,k=0,p=0,q=b=0,n="player"+a;0==a&&(n="table");b=player[a].length;if(1<b){a=Math.sqrt(f*f+e*e/4);h=.5*(a+e+a);h=a*e*a/(4*Math.sqrt(h*(h-a)*(h-e)*(h-a)));k=Math.asin(1-f/h);mn[n].btr=[];1<b?(p=(Math.PI-2*k)/(b-1),am=b-1):(p=0,am=b);a=mn[n].btd[0];for(var m=0;m<b;m++)l=k+p*m+g,hy=h*Math.sin(l)-h*Math.cos(g)+f,hx=-(h*Math.cos(l))-h*Math.sin(g),q=m,mn[n].btd[2*(q+1)-2]=Math.floor(hx+a+e/2),mn[n].btd[2*(q+1)-1]=Math.floor(c-hy),mn[n].btr.push(l+0)}}
function doBet(a,b){ap.game.v.bet[a]+=b;return betExchange(b)}function betExchange(a){for(var b=[1,5,10,25,50,100,500,1E3,5E3,25E3],c=[],e=0,e=0,f=b.length-1;0<=f;f--)if(0<a){e=a%b[f];e=Math.floor((a-e)/b[f]);a-=e*b[f];for(var g=0;g<e;g++)c.push(b[f])}return c}function betChipSpos(a){return{n1:[0,610],n5:[90,610],n10:[180,610],n25:[270,610],n50:[0,700],n100:[90,700],n500:[180,700],n1000:[270,700],n5000:[0,790],n25000:[90,610],d:[180,790]}["n"+a]}
function betChipPos(a){a=[[50,10],[70,20],[20,20],[100,10],[30,0],[0,20],[80,0],[10,0],[95,20],[5,10]][a];a[0]-=45;a[1]-=30;return a}
function drawBet(a,b){if(1==ap.game.v.fchip){var c=[],e=[],f=10;f>ap.game.v.betar.length&&(f=ap.game.v.betar.length);var g=ap.game.v.betar.length-f,h=ap.game.v.betari-f+1;0>h&&(h=f+h);for(var l=0;l<f;l++)c=betChipSpos(ap.game.v.betar[l+g]),e=betChipPos(h),m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,c[0],c[1],90,90,a+e[0],b+e[1],90,90),h++,9<h&&(h=0);c="0";1==ap.game.v.men&&(c=ap.game.v.bet[0].toString().tofinance());c=lng.loc[18]+" "+c;m3d.ui.layers.canvbk.ctx.font="normal 16px Arial";m3d.ui.layers.canvbk.ctx.fillStyle=
"#00FF00";1!=ap.game.v.gameN&&m3d.ui.layers.canvbk.ctx.fillText(c,a+156,b+37-3)}}function drawAssets2(a,b,c){m3d.ui.layers.canvbk.ctx.font="bold 16px Arial";m3d.ui.layers.canvbk.ctx.fillStyle="#DFDFBF";a=ap.game.v.money[a].s.toString().tofinance();var e=Math.floor(m3d.ui.layers.canvbk.ctx.measureText(a).width/2);m3d.ui.layers.canvbk.ctx.fillText(a,b-e,c,2*e)}
function getNextPlayer(a){for(var b=a,c=0,e=!1;0==e;)b++,b>ap.game.v.pls&&(b=1),0==ap.game.v.pdrop[b]&&(e=!0),10>ap.game.v.money[b].s&&(e=!1),c++,100<c&&(e=!0,b=a);b==a&&(b=-1);return b}function getNextPlayerDe(a){for(var b=a,c=0,e=!1;0==e;)b++,b>ap.game.v.pls&&(b=1),e=!0,10>ap.game.v.money[b].s&&(e=!1),c++,100<c&&(e=!0,b=a);b==a&&(b=-1);return b}
function getPrevPlayer(a){for(var b=a,c=0,e=!1;0==e;)b--,1>b&&(b=ap.game.v.pls),0==ap.game.v.pdrop[b]&&(e=!0),10>ap.game.v.money[b].s&&(e=!1),c++,100<c&&(e=!0,b=a);b==a&&(b=-1);return b}function doBets(a,b,c){doBetsD={ar:a,fst:b,cb:c,n:a.length,i:0,arord:[]};--b;for(c=0;c<a.length;c++)doBetsD.arord.push(b),b++,b>a.length-1&&(b=0);setTimeout(function(){doBets1()},0)}
function doBets1(){if(doBetsD.i<doBetsD.n)if(0==doBetsD.ar[doBetsD.arord[doBetsD.i]])doBets2();else{var a=doBetsD.arord[doBetsD.i]+1,b=doBet(a,doBetsD.ar[a-1]);ap.game.v.money[a].s-=doBetsD.ar[a-1];setTimeout(function(){setTimeout(function(){moveChip(doBetsD.arord[doBetsD.i]+1,100,1,b,function(){ap.game.v.bet[0]+=doBetsD.ar[doBetsD.arord[doBetsD.i]];ap.game.v.fchip=!0;ap.ref();doBets2()})},100)},100)}else ap.ref(),doBetsD.cb()}function doBets2(){doBetsD.i++;doBets1()}
function posChip(a,b,c,e){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,e[0],e[1],90,90,a,b,90,90)}function clearChip(a,b,c){m3d.ui.layers.canvbk.ctx.clearRect(a-2,b-2,94,94)}function moveChips(a,b,c,e){1==ap.game.v.set.animCards?(moveChipsD={plrs:a,v:b,cb:e,i:0,n:0},moveChipsD.n=a.length,moveChips2()):e()}
function moveChips2(){moveChipsD.i<moveChipsD.n?moveChip(moveChipsD.plrs[moveChipsD.i],moveChipsD.v,moveChipsD.dir,[],function(){moveChipsD.i++;moveChips2()}):""!=moveChipsD.cb&&moveChipsD.cb()}
function moveChip(a,b,c,e,f){if(1==ap.game.v.set.animCards){moveChipD={plr:a,v:b,cb:f,dt:0,p:[],x:0,x0:0,y:0,y0:0,xi:1,yi:1,xi2:0,yi2:0,ti:0,ti1:0,ti2:0,t0:0,sx:0,sy:0,s:0,constx:0,consty:0,i:1,n:0,ready:!0,a:0,ai:0,dabs:1,constda:1};var g=ap.game.v.betari;if(0<e.length)for(moveChipD.ar=e,moveChipD.fpar=[],b=0;b<e.length;b++)g++,9<g&&(g=0),moveChipD.fpar.push(betChipPos(g));else 1==c&&(g++,9<g&&(g=0)),e.push(ap.game.v.betar[ap.game.v.betari]),moveChipD.ar=[betChipSpos(ap.game.v.betar[ap.game.v.betar.length-
1])],moveChipD.fpar=[betChipPos(ap.game.v.betari)];var h;arp=[];for(b=0;b<e.length;b++){h=moveChipD.fpar[b];g=mn.cash.xpos+mn.cash.w2-30-5+h[0]-10;h=mn.cash.ypos+84-5-3+h[1]+15;var l=playerChipPos(a);1==c?arp.push([[l.x,l.y,0],[g,h,0]]):arp.push([[g,h,0],[l.x,l.y,0]])}moveChipD.n=arp.length-1;for(b=moveChipD.dt=0;b<arp.length;b++){var k=!1;b==arp.length-1&&(k=!0);a=arp[b][0][0];g=arp[b][1][0];l=arp[b][0][1];h=arp[b][1][1];k={stream:0,integ:100,w:90,h:90,dir:c,cb:f,fcb:k,nom:e[b],spos:betChipSpos(e[b])};
m3d.lib.anim.add("moveChip",0,200,"and",k,[{lim1:100*a,lim2:100*g,sstart:100*a,sfin:100*g,t:0},{lim1:100*l,lim2:100*h,sstart:100*l,sfin:100*h,t:0}],function(){moveChipAnim(this)},function(){var a=this;1==a.userpar.dir&&(ap.game.v.betari++,9<ap.game.v.betari&&(ap.game.v.betari=0),ap.game.v.betar.push(a.userpar.nom));setTimeout(function(){1==a.userpar.fcb&&(m3d.lib.anim.anims[0]=[],m3dcache.v.mouse=1,m3d.ui.layers.canvbk.ctx.clearRect(0,0,m3dcache.v.vw,m3dcache.v.vh),ap.ref(),contr.liveFlagAnim=!1,
apcontrolsRenderStart(),a.userpar.cb())},50);m3d.ui.layers.canvbk.ctx.clearRect(0,0,m3dcache.v.vw,m3dcache.v.vh);ap.ref();m3d.audio.stopa(ap.aud.chip1);m3d.audio.playa(ap.aud.chip1)})}m3dcache.v.mouse=1;contr.controlsProcFlag=!1;m3d.lib.anim.play();contr.liveFlagAnim=!1;apcontrolsRenderStart();contr.liveFlagAnim=!0;apcontrolsRenderStart()}else f()}
function moveChipAnim(a){var b=a.par[0].state,c=a.par[0].state_old;if(b!=c){var e=a.userpar.integ,b=b/e,f=a.par[1].state/e,g=a.userpar.spos,h=apctx;h.clearRect(c/e,a.par[1].state_old/e,a.userpar.w,a.userpar.h);h.drawImage(ap.mnbk.cardsm,g[0],g[1],90,90,b,f,90,90)}}
function setCashButtonAs(a){mn.cash.bts=[];mn.cash.bts=mn.cash.bts.concat(mnb.cash_var);"cash"==a?mn.cash.bts.push(mnb.cash_bts[0].slice()):"no"==a?mn.cash.bts.push(mnb.cash_bts[1].slice()):"cont"==a?mn.cash.bts.push(mnb.cash_bts[2].slice()):"take"==a?mn.cash.bts.push(mnb.cash_bts[3].slice()):"drop"==a?mn.cash.bts.push(mnb.cash_bts[4].slice()):"open"==a&&mn.cash.bts.push(mnb.cash_bts[5].slice())}
function setCashsButtonsAs(a){mn.cashs.bts=[];mn.cashs.bts=mn.cashs.bts.concat(mnb.cashs_var);mn.cashs.btd=[];"wcall"==a?(mn.cashs.bts.push(mnb.cashs_bts[0].slice()),mn.cashs.bts.push(mnb.cashs_bts[1].slice()),mn.cashs.bts.push(mnb.cashs_bts[2].slice()),mn.cashs.btd=mnb.cashs_btd[0],mn.cashs.bt=[2,3,4],m3d.ui.mnSetCb("cashs",1,function(){mnPokerPreflop(1)}),m3d.ui.mnSetCb("cashs",2,function(){mnPokerPreflop(2)}),m3d.ui.mnSetCb("cashs",3,function(){mnPokerPreflop(3)}),mn.cashs.btop=mnCashsBTopPreflop):
"wcheck"==a?(mn.cashs.bts.push(mnb.cashs_bts[0].slice()),mn.cashs.bts.push(mnb.cashs_bts[1].slice()),mn.cashs.bts.push(mnb.cashs_bts[3].slice()),mn.cashs.btd=mnb.cashs_btd[0],mn.cashs.bt=[2,3,4],m3d.ui.mnSetCb("cashs",1,function(){mnPokerPreflop(1)}),m3d.ui.mnSetCb("cashs",2,function(){mnPokerPreflop(2)}),m3d.ui.mnSetCb("cashs",3,function(){mnPokerPreflop(4)}),mn.cashs.btop=mnCashsBTopPreflop):"endlv"==a&&(mn.cashs.bts.push(mnb.cashs_bts[5].slice()),mn.cashs.bts.push(mnb.cashs_bts[6].slice()),mn.cashs.btd=
mnb.cashs_btd[1],mn.cashs.bt=[2,3],m3d.ui.mnSetCb("cashs",1,function(){mnCashContPoker()}),m3d.ui.mnSetCb("cashs",2,function(){ap.mnStart0()}),mn.cashs.btop=mnCashsBTopEndLv)}
menuSetPosMyLocationGame3Bags=function(){mn.table.sxpos=mn.cash.sxpos;mn.table.sypos=mn.cash.sypos;mn.player1.sxpos=mn.cash.sxpos;mn.player1.sypos=mn.cash.sypos;mn.player2.sxpos=mn.cash.sxpos;mn.player2.sypos=mn.cash.sypos;mn.table.ctx=m3d.ui.layers.canvbk.ctx;mn.player1.ctx=m3d.ui.layers.canvbk.ctx;mn.player2.ctx=m3d.ui.layers.canvbk.ctx;setMenuPlayerCardsN(0,0,10)};
function menuInitMyLocation3Bags(){ap.menuSetPosMyLocationGame=menuSetPosMyLocationGame3Bags;ap.menuSetPosMyLocationGame();m3d.ui.mnSetCb("cash",1,function(){mnCash()});m3d.ui.mnSetCustomM("cash",mnCashCustom);setCashButtonAs("cash");mn.player1.bbot=mnPlayer1Bot;mn.player2.bbot=mnPlayer2Bot;mn.player99.bbot=mnPlayer1Bot;m3d.ui.mnSetCustomM("player1",mnPlayer1CustomStart);mn.player1.btop=mnPlayerBTop3BagsP1;mn.player2.btop=mnPlayerBTop3BagsP2;mn.table.bbot=mnTableBot;mn.table.btop=mnTableTop;m3d.ui.mnSetCustomM("table",
mnTableCustom);m3d.ui.mnSetCb("table",1,function(){mnTable(1)});m3d.ui.mnSetCb("table",2,function(){mnTable(2)});m3d.ui.mnSetCb("table",3,function(){mnTable(3)});m3d.ui.mnSetCb("table",4,function(){mnTable(4)})}function mnPlayerBTop3BagsP1(a,b,c){mnPlayerBTop3Bags(a,b,c,1)}function mnPlayerBTop3BagsP2(a,b,c){mnPlayerBTop3Bags(a,b,c,2)}
function mnPlayerBTop3Bags(a,b,c,e){if(1==b){a=m3d.ui.pCl[c][0];c=m3d.ui.pCl[c][1];for(var f=b=0;f<ap.game.v.winnerCards[e].length;f++)b=getCardCoords(ap.game.v.winnerCards[e][f]),m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,b[0],b[1],100,140,a+10*f+-150,c-5*f+74,50,70);b=0;b=ap.game.v.winnerCards[e].length;0<b&&m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,220+40*b-40,554,40,50,a+(10*b-10+5)+-150,c+(5*-b+15)+74,40,50)}}
function start3Bags(){ap.game.v.endlv=!1;ap.game.v.ord=1;ap.game.v.mv=1;apVar.mouse=0;ap.game.v.pos.poker=ap.game.v.pos.poker_var[ap.game.v.pls];5>ap.game.v.money[2].s&&(ap.game.v.money[2].s=5);ap.menuInitMyLocation();menuInitMyLocation3Bags();ap.game.deck=newDeck();ap.excludeWinFromDeck();ap.gameNewPlayer();m3d.ui.mnOn(["gmenu0","table","player1","player2","cash"]);mn.cash.block=!0;mn.cash.bt=[2];ap.game.v.fchip=!1;ap.game.v.money[1].t=1;ap.game.v.money[2].t=3;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,
0,10);m3d.core.onWindowResize(0);ap.ref();1==ap.game.v.men?0!=ap.game.v.bet[0]?(ap.game.v.fchip=!0,start3Bags2()):doBets([5,5],ap.game.v.de,function(){start3Bags2()}):(ap.game.v.fchip=!0,start3Bags2())}
function start3Bags2(){giveCardsAnim(1,5,200,40,function(){setMenuPlayerCardsN(1,0,10)},function(){giveCardsAnim(2,5,200,40,function(){setMenuPlayerCards(2,550,0,0,-72,10,0,function(){});setMenuPlayerCardsN(2,0,10)},function(){setTimeout(function(){player[1].sort(ap.sortByi1_i0);setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);ap.game.v.tstatus=m3d.lib.nullFunc;ap.ref();removeCardsTable(0,4,function(){giveCardsCash(5);giveCardsTable(0,4,250,function(){mn.cash.block=!1;ap.game.v.tstatus=ap.tstatus.yourmove;
ap.ref();apVar.mouse=1;checkPlayerTable(1)})})},0)})})}function drawDeck(a,b){var c=mn.cash.xpos,e=mn.cash.ypos,f=ap.game.deck.length,g=0;0<f&&(g=1);1<f&&(g=2);2<f&&(g=3);if(0<f)for(m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,c+52-5-2*(g-1)+a+53,e+152-2*(g-1)+b+28,105,145),f=0;f<g;f++)m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,400,560,100,140,c+52-2*f+a+53,e+152-2*f+28,100,140+b)}
function mnTable(a){if(0<apVar.mouse){--a;var b="none";0!=m3d.lib.in_arr_n(player[ap.game.v.ord][ap.game.v.selCard-1][2],a).length?b="take":0!=m3d.lib.in_arr_n(player[ap.game.v.ord][ap.game.v.selCard-1][3],a).length&&(b="drop");"take"==b?(apVar.mouse=0,mn.table.set=[5,5,5,5],ap.game.v.tact=m3d.lib.nullFunc,mn.cash.block=!0,takeCardFromTable(ap.game.v.ord,a,ap.game.v.selCard-1,{cardt:a},function(a){apVar.mouse=0;ap.game.v.selCard=0;var b=a.cardt;player[ap.game.v.ord].push(player[0][b]);player[ap.game.v.ord].sort(ap.sortByi1_i0);
setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);ap.ref();setTimeout(function(){drawDeck1Right();var a=300;1==ap.game.v.set.animCards&&(a=0);setTimeout(function(){if(0<ap.game.deck.length){ap.ref();player[0][b]=ap.game.deck[ap.game.deck.length-1].slice();ap.game.deck.pop(1);var a=getCardCoords(player[0][b]);mn.table.bts[b+2]=a;moveCard(0,0,[1,1],mn.cash.xpos+52+5+53,mn.cash.ypos+152+5+28,0,mn.table.btd[2*b]+mn.table.xpos,mn.table.btd[2*b+1]+mn.table.ypos,2*Math.PI,100,function(){m3d.audio.stopa(ap.aud.card1);
m3d.audio.playa(ap.aud.card1);mn.table.set=[5,5,5,5];checkPlayerTable(1);checkPlayerTable(2);mn.cash.block=!1;apVar.mouse=1;goNext()})}else player[0].splice(b,1),mn.table.bts.splice(b+2,1),mn.table.bt.pop(1),mn.table.set=[5,5,5,5],checkPlayerTable(1),checkPlayerTable(2),mn.cash.block=!1,apVar.mouse=1,goNext()},a)},400)})):"drop"==b&&(apVar.mouse=0,mn.table.set=[5,5,5,5],ap.game.v.tact=m3d.lib.nullFunc,mn.cash.block=!0,removeCardsFromTableWithCard(ap.game.v.ord,a,ap.game.v.selCard-1,{cardt:a},function(a){apVar.mouse=
0;ap.game.v.selCard=0;player[ap.game.v.ord].sort(ap.sortByi1_i0);setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);ap.ref();removeCardsTable(0,4,function(){player[0]=[];var a=4;a>ap.game.deck.length&&(a=ap.game.deck.length);giveCardsTable(0,a,150,function(){checkPlayerTable(1);checkPlayerTable(2);mn.cash.block=!1;apVar.mouse=1;ap.ref();2==ap.game.v.ord&&aiTurn()})})}))}}
function mnTableBot(a,b,c,e,f){6!=mn[a].set[b-1]&&m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)}
function mnTableTop(a,b,c){if(0!=ap.game.v.selCard){a=m3d.ui.pCl[c][6]-2;var e=m3d.ui.pCl[c][0];c=m3d.ui.pCl[c][1];if(0!=m3d.lib.in_arr_n(playerTable[ap.game.v.ord][a],ap.game.v.selCard-1).length)if(0==ap.game.v.tableCard)m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,454,600,100,140,e+5,c+10,100,140);else if(ap.game.v.tableCard==b){var f=getCardCoords([takeCardsD.cardpCopy[0],takeCardsD.cardpCopy[1]]),g=f[0],f=f[1];m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,g,f,100,140,e+5,c+10,100,140)}0!=
m3d.lib.in_arr_n(playerTableDrop[ap.game.v.ord][a],ap.game.v.selCard-1).length&&(0==ap.game.v.tableCard?m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,560,600,100,140,e+5,c+10,100,140):ap.game.v.tableCard==b&&(f=getCardCoords([removeCardsD.cardpCopy[0],removeCardsD.cardpCopy[1]]),g=f[0],f=f[1],m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,g,f,100,140,e+5,c+10,100,140)))}}function mnTableCustom(){}
function aiTurn(){ap.game.v.tstatus=ap.tstatus.aimove;var a=0,b=0,c=-1,e=a=-1,f=-1,f=0;apVar.mouse=1;ap.game.v.selCard=0;var g=[[1,0],[2,0],[3,0],[4,0]],h=[[],[],[],[]],l=[[],[],[],[]];checkPlayerTable(2);for(a=0;a<player[2].length;a++){player[2][a][0]>g[player[2][a][1]-1][1]&&(g[player[2][a][1]-1][1]=player[2][a][0]);if(0<player[2][a][2].length)for(var k=0;k<player[2][a][2].length;k++)h[player[2][a][2][k]].push(a);if(0<player[2][a][3].length)for(k=0;k<player[2][a][3].length;k++)l[player[2][a][3][k]].push(a)}g.sort(ap.sortByi1);
for(a=0;4>a;){f=g[a][0];for(k=0;k<h.length;k++)0<h[k].length&&(b=player[0][k][1],b==f&&(c=k,a=h[k][0],ap.game.v.selCard=a+1,a=4));a++}if(0!=ap.game.v.selCard)apVar.mouse=1,mnTable(c+1);else{for(k=0;4>k;){if(0<l[k].length&&(b=player[0][k][0],!(11<b))){e=k;f=l[k][0];dropcard=player[2][l[k][0]][0];for(c=0;c<l[k].length;c++)player[2][l[k][c]][0]<dropcard&&(f=l[k][c],dropcard=player[2][l[k][c]][0]);11<dropcard||(ap.game.v.selCard=f+1,k=4)}k++}0!=ap.game.v.selCard?(apVar.mouse=1,mnTable(e+1)):(apVar.mouse=
1,mnCash())}}function goNext(){ap.game.v.ord++;2<ap.game.v.ord&&(ap.game.v.ord=1);mn.cash.block=!1;ap.game.v.tstatus=1==ap.game.v.ord?ap.tstatus.yourmove:ap.tstatus.aimove;ap.ref();2==ap.game.v.ord&&(mn.cash.block=!0,apVar.mouse=0,setTimeout(function(){apVar.mouse=1;aiTurn()},800))}
function mnCash(){0<apVar.mouse&&(ap.game.v.tstatus=ap.tstatus.cashopen,ap.ref(),mn.cash.block=!0,removeCardsTable(0,4,function(){m3d.ui.mnSetCustomM("cash",mnCashCustomOpen);ap.game.v.parCash=5;mnCashOpen(function(){mnPlayer1Cb=mnPlayer1CashOpen;mn.table.btop=function(){};var a=player[1].length;mn.player1.cb=[];for(var b=0;b<a;b++)mn.player1.cb.push(mnPlayer1Cb);mn.cash.block=!1;setCashButtonAs("no");m3d.ui.mnSetCb("cash",1,function(){mnCashNo()});ap.game.v.tstatus=ap.tstatus.cashopencard;ap.ref();
apVar.mouse=1})}))}function mnCashOpen(a){mnCashOpenD={cb:a};clearTable();mn.table.btd=mnb.table_cash_btd.slice();ap.game.deck=[];playerCash.sort(ap.sortByi1_i0);a=[[1,0],[2,0],[3,0],[4,0]];for(var b=0;b<playerCash.length;b++)a[playerCash[b][1]-1][1]++;a.sort(ap.sortByi1);mn.cash.data={};mn.cash.data.win=[a[3][0]];a[2][1]==a[3][1]&&mn.cash.data.win.push(a[2][0]);mnCashOpen2()}
function mnCashOpen2(){0<ap.game.v.parCash?(ap.game.v.parCash--,ap.ref(),m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,454,746,140,100,mn.cash.xpos+504+28-7*ap.game.v.parCash-80+53,mn.cash.ypos+38+40+28,140,100),setTimeout(function(){ap.ref();var a=50;1==ap.game.v.set.animCards&&(a=0);setTimeout(function(){giveCardsTableCash(1,200,function(){ap.ref();setTimeout(function(){mnCashOpen2()},50)})},a)},50)):""!=mnCashOpenD.cb&&mnCashOpenD.cb()}
function mnCashCustom(){var a=mn.cash.xpos,b=mn.cash.ypos;m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,218,451,168,100,a+504+53-29,b+38+28,168,100);m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardst,170,38,150,38,a+498+53-29,b+68+28,150,38);mnCashCustomCommon(a,b)}
function mnCashCustomOpen(){var a=mn.cash.xpos,b=mn.cash.ypos;if(0!=ap.game.v.parCash)for(var c=0;c<ap.game.v.parCash;c++)m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,454,746,140,100,a+504+28-7*c+53-29,b+38+28,140,100);else{m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardst,324,38,150,38,a+525+53-29,b+42+28,150,38);for(var e=mn.cash.data.win.length,f=a+565-35*(e-1),g=0,c=0;c<e;c++)g=70*mn.cash.data.win[c]+394-70,m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,g,450,70,70,70*c+f+53-29,b+76+28,
70,70)}mnCashCustomCommon(a,b)}function mnCashCustomEnd(){mnCashCustomCommon(mn.cash.xpos,mn.cash.ypos)}
function mnCashCustomCommon(a,b){for(var c=ap.game.v.pos.poker.av,e=1;e<ap.game.v.pls+1;e++){var f="player"+e,g=mn[f].sxpos+mn[f].w2,h=mn[f].sypos;if(0==mn[f].bt.length)ap["mnPlayer"+e+"Bot0Games"]("",1,0,g+c[e][0],h+c[e][1])}drawDeck(0,0);a=mn.cash.xpos+mn.cash.w2-35-10-10;drawBet(a,b+84+28-20);a=mn.cash.xpos+mn.cash.w2-132;ap.game.v.tstatus(a-150,b+58-6+53);ap.game.v.tact(a,b+76+28);a=m3dcache.v.vw2-m3dcache.setup.aspect.w/2+.5;b=m3dcache.v.vh2-m3dcache.setup.aspect.h/2+.5;m3d.ui.layers.canvbk.ctx.strokeStyle=
"#333333";m3d.ui.layers.canvbk.ctx.strokeRect(a,b,m3dcache.setup.aspect.w-1,m3dcache.setup.aspect.h-1)}
function mnPlayer1(a){if(0<apVar.mouse){a=m3d.ui.pCl[a][6]-1;mn.cash.block=!1;ap.game.v.tact=m3d.lib.nullFunc;mn.table.set=[5,5,5,5];if(ap.game.v.selCard==a){if(0!=player[1][ap.game.v.selCard-1][2].length||0!=player[1][ap.game.v.selCard-1][3].length)mn.player1.btd[2*(ap.game.v.selCard-1)+1]=ap.game.v.selCardSaveY;ap.game.v.selCard=0}else 0==ap.game.v.selCard||0==player[1][ap.game.v.selCard-1][2].length&&0==player[1][ap.game.v.selCard-1][3].length||(mn.player1.btd[2*(ap.game.v.selCard-1)+1]=ap.game.v.selCardSaveY),
0!=player[1][a-1][2].length&&(ap.game.v.tact=ap.tact.take,mn.table.set=[1,1,1,1],mn.cash.block=!0,ap.game.v.selCardSaveY=mn.player1.btd[2*(a-1)+1],mn.player1.btd[2*(a-1)+1]-=10),0!=player[1][a-1][3].length&&(ap.game.v.tact==ap.tact.take?ap.game.v.tact=ap.tact.takedrop:(ap.game.v.tact=ap.tact.drop,ap.game.v.selCardSaveY=mn.player1.btd[2*(a-1)+1],mn.player1.btd[2*(a-1)+1]-=10),mn.table.set=[1,1,1,1],mn.cash.block=!0),ap.game.v.selCard=a;ap.ref()}}
function mnPlayer1CustomStartBk(a){if(1==mn.mn2_start.on||1==a)a=apctx.createLinearGradient(m3dcache.v.vw2-360,0,m3dcache.v.vw2+360,m3dcache.v.vh),a.addColorStop(0,"#003300"),a.addColorStop(.07,"#006600"),a.addColorStop(.1,"#003300"),a.addColorStop(.3,"#000000"),a.addColorStop(.7,"#000000"),a.addColorStop(.9,"#003300"),a.addColorStop(.93,"#006600"),a.addColorStop(1,"#003300"),apctx.fillStyle=a,apctx.fillRect(0,0,m3dcache.v.vw,m3dcache.v.vh),a=apctx.createRadialGradient(m3dcache.v.vw2,m3dcache.v.vh2,
10,m3dcache.v.vw2,m3dcache.v.vh2,300),a.addColorStop(0,"#000000"),a.addColorStop(1,"#003300"),m3d.ui.layers.canvbk.ctx.globalAlpha=1,apctx.drawImage(ap.mnbk.cardsm,0,880,350,320,mn.mn2_dbig_yp.xpos+mn.mn2_dbig_yp.w2-175,mn.mn2_dbig_yp.ypos+mn.mn2_dbig_yp.h2-160-20,350,320),ap.drawV()}function mnPlayer1CustomStart(){mnPlayer1CustomStartBk(!1);ap.drawV()}function mnPlayer1Bot(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)}
function mnPlayer2Bot(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)}function mnPlayer2Top(a,b,c,e){}
function mnPlayer1CashOpen(a){if(0<apVar.mouse){var b=!1;a=m3d.ui.pCl[a][6]-1;ap.game.v.tact=m3d.lib.nullFunc;mn.table.set=[5,5,5,5,5,5];if(ap.game.v.selCard==a){for(var b=!1,c=0;c<mn.cash.data.win.length;c++)mn.cash.data.win[c]==player[1][ap.game.v.selCard-1][1]&&(b=!0);1==b&&(mn.player1.btd[2*(ap.game.v.selCard-1)+1]=ap.game.v.selCardSaveY);ap.game.v.selCard=0;ap.game.v.selCardCash=0}else{if(0!=ap.game.v.selCard){b=!1;for(c=0;c<mn.cash.data.win.length;c++)mn.cash.data.win[c]==player[1][ap.game.v.selCard-
1][1]&&(b=!0);1==b&&(mn.player1.btd[2*(ap.game.v.selCard-1)+1]=ap.game.v.selCardSaveY)}b=!1;for(c=0;c<mn.cash.data.win.length;c++)mn.cash.data.win[c]==player[1][a-1][1]&&(b=!0);1==b&&(ap.game.v.selCardSaveY=mn.player1.btd[2*(a-1)+1],mn.player1.btd[2*(a-1)+1]-=10,ap.game.v.selCard=0,mnPlayer1Cb=mnPlayer1CashOpenDone,mnPlayer1CashOpenAnim());ap.game.v.selCard=a}ap.ref()}}function mnPlayer1CashOpenDone(a){}
function mnPlayer1CashOpenAnim(){mn.cash.block=!0;ap.game.v.cashOpened=1;for(var a=apVar.mouse=0;a<mn.player1.set.length;a++)mn.player1.set[a]=5;setTimeout(function(){ap.game.v.selCardCash=ap.game.v.selCard;mn.player99.bts=[];mn.player99.bts=mn.player99.bts.concat(mnb.player_var);mn.player99.bt=[];mn.player99.btd=[];mn.player99.set=[];mn.player99.btr=[];0!=ap.game.v.selCard&&(mn.player99.bts.push(mn.player1.bts[ap.game.v.selCard-1+2].slice()),mn.player99.btd.push(478),mn.player99.btd.push(200),mn.player99.btr.push(.8),
mn.player99.bt.push(2),mn.player99.set.push(5));for(var a=0,c=[0,0],e=0;e<mn.cash.data.win.length;e++)for(var f=0;f<player[2].length;f++)mn.cash.data.win[e]==player[2][f][1]&&player[2][f][0]>c[0]&&(c=player[2][f],a=f+1);0<a&&(e=getCardCoords(player[2][a-1]),mn.player99.bts.push(e),mn.player99.btd.push(238),mn.player99.btd.push(100),mn.player99.btr.push(-.8),mn.player99.bt.push(mn.player99.bt.length+2),mn.player99.set.push(5));ap.game.v.cashOpenCards=[0,[0,0],[0,0]];0!=ap.game.v.selCard&&(ap.game.v.cashOpenCards[1]=
[player[1][ap.game.v.selCard-1][0],player[1][ap.game.v.selCard-1][1]],player[1].splice(ap.game.v.selCard-1,1));0<a&&(ap.game.v.cashOpenCards[2]=[c[0],c[1]],player[2].splice(a-1,1));setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);mn.player99.on=!0;mn.cash.block=!1;setCashButtonAs("cont");m3d.ui.mnSetCb("cash",1,function(){mnCashCont()});apVar.mouse=1;gameWinner()},100)}function mnCashNo(){ap.game.v.selCard=0;mnPlayer1Cb=mnPlayer1CashOpenDone;ap.ref();mnPlayer1CashOpenAnim()}
function gameWinner(){ap.game.v.cashOpenCards[1][0]>ap.game.v.cashOpenCards[2][0]?(ap.game.v.winner[1]++,ap.game.v.tstatus=ap.tstatus.cashtakeyou):ap.game.v.cashOpenCards[1][0]<ap.game.v.cashOpenCards[2][0]?(ap.game.v.winner[2]++,ap.game.v.tstatus=ap.tstatus.cashtakes):ap.game.v.tstatus=ap.tstatus.cashtakesno;for(var a=1;a<ap.game.v.winner.length;a++)2<ap.game.v.winner[a]&&(ap.game.v.winner[0]=a);0!=ap.game.v.winner[0]&&(ap.game.v.mouse=1,m3d.ui.mnSetCb("cash",1,function(){gameWinnerEnd()}),ap.ref());
ap.ref()}function mnCashScore(){ap.game.v.cashOpenCards[1][0]>ap.game.v.cashOpenCards[2][0]?ap.game.v.winnerCards[1].push(ap.game.v.cashOpenCards[1].slice()):ap.game.v.cashOpenCards[1][0]<ap.game.v.cashOpenCards[2][0]&&ap.game.v.winnerCards[2].push(ap.game.v.cashOpenCards[2].slice())}function mnCashCont(){apVar.mouse=0;mn.cash.block=!0;mn.player99.on=!1;mnCashScore();ap.ref();setTimeout(function(){apVar.mouse=1;mn.cash.block=!1;start3Bags()},500)}
function gameWinnerEnd(){mnCashScore();m3d.ui.mnSetCb("cash",1,function(){ap.mnStart0()});m3d.ui.mnSetCustomM("cash",mnCashCustomEnd);mn.table.on=!1;mn.player99.on=!1;ap.game.v.tstatus=ap.tstatus.gameover;ap.game.v.mouse=0;ap.game.v.fchip=!1;ap.ref();moveChip(ap.game.v.winner[0],100,2,[],function(){ap.game.v.mouse=1;ap.game.v.money[ap.game.v.winner[0]].s+=ap.game.v.bet[0];ap.ref()})}
function startDurak(){ap.game.v.endlv=!1;ap.game.v.ord=1;ap.game.v.mv=1;apVar.mouse=0;ap.game.v.pos.poker=ap.game.v.pos.poker_var[ap.game.v.pls];5>ap.game.v.money[2].s&&(ap.game.v.money[2].s=5);ap.menuInitMyLocation();menuInitMyLocationDurak();ap.game.deck=newDeck();gameNewPlayerDurak();m3d.ui.mnOn(["gmenu0","table","player1","player2","cash"]);mn.cash.block=!0;mn.cash.bt=[2];ap.game.v.fchip=!1;ap.game.v.money[1].t=1;ap.game.v.money[2].t=3;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);m3d.core.onWindowResize(0);
ap.ref();1==ap.game.v.men?0!=ap.game.v.bet[0]?(ap.game.v.fchip=!0,startDurak2()):doBets([5,5],ap.game.v.de,function(){startDurak2()}):(ap.game.v.fchip=!0,startDurak2())}
function startDurak2(){giveCardsAnim(1,6,200,40,function(){setMenuPlayerCardsN(1,0,10)},function(){ap.game.v.state.koz=ap.game.deck[0];player[1].sort(ap.sortByi0k);giveCardsAnim(2,6,200,40,function(){setMenuPlayerCardsN(2,0,10)},function(){setTimeout(function(){durakCor();setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);ap.game.v.tstatus=m3d.lib.nullFunc;ap.ref();checkPlayerTableDurak(1);checkPlayerTableDurak(2);ap.game.v.tstatus=ap.tstatus.yourmove;ap.ref();apVar.mouse=1},0)})})}
function durakCor(){}function gameNewPlayerDurak(){ap.gameNewPlayerCommon();player=[[],[],[]];playerName=["",lng.loc[2],lng.loc[3]];playerTable=[[],[],[]];playerTableDrop=[[],[],[]];mnPlayer1Cb=mnPlayer1Durak;mn.cash.bt=[2];mn.table.bt=[];mn.table.cb=[];mn.table.btd=[];mn.table.set=[];mn.table.bts=[];mn.table.bts=mn.table.bts.concat(mnb.player_var)}
menuSetPosMyLocationGameDurak=function(){mn.table.sxpos=mn.cash.sxpos;mn.table.sypos=mn.cash.sypos;mn.player1.sxpos=mn.cash.sxpos;mn.player1.sypos=mn.cash.sypos;mn.player2.sxpos=mn.cash.sxpos;mn.player2.sypos=mn.cash.sypos;setMenuPlayerCardsN(0,0,10)};
function menuInitMyLocationDurak(){ap.menuSetPosMyLocationGame=menuSetPosMyLocationGameDurak;ap.menuSetPosMyLocationGame();m3d.ui.mnSetCustomM("cash",mnCashCustomDurak);m3d.ui.mnSetCb("cash",1,function(){mnCashDurakDrop()});setCashButtonAs("drop");mn.cash.block=!1;mn.player1.bbot=mnPlayer1BotDurak;mn.player2.bbot=mnPlayer2BotDurak;mn.player99.bbot=mnPlayer1BotDurak;m3d.ui.mnSetCustomM("player1",mnPlayer1CustomStart);mn.table.bbot=mnTableBotDurak}
function drawDeckDurak(){var a=mn.cash.xpos,b=mn.cash.ypos,c=ap.game.deck.length;0<c&&posCardR(m3d.ui.layers.canvbk.ctx,ap.game.deck[0],a+52+20+53,b+147+28,Math.PI/2);d=0;1<c&&(d=1);2<c&&(d=2);3<c&&(d=3);if(1<c)for(m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,a+52-5-2*(d-1)+53,b+147-2*(d-1)+28,105,145),c=0;c<d;c++)m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,400,560,100,140,a+52-2*c+53,b+147-2*c+28,100,140)}function mnPlayer1BotDurak(a,b,c,e,f){}
function mnPlayer2BotDurak(a,b,c,e,f){}function mnPlayer2TopDurak(a,b,c,e){}function mnTableDurak(a){}function mnTableBotDurak(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)}function mnCashCustomDurak(){mnCashCustomCommonDurak(mn.cash.xpos,mn.cash.ypos)}
function mnCashCustomCommonDurak(a,b){for(var c=ap.game.v.pos.poker.av,e=1;e<ap.game.v.pls+1;e++){var f="player"+e,g=mn[f].sxpos+mn[f].w2,h=mn[f].sypos;if(0==mn[f].bt.length)ap["mnPlayer"+e+"Bot0Games"]("",1,0,g+c[e][0],h+c[e][1])}drawDeckDurak();a=mn.cash.xpos+mn.cash.w2-35-10;drawBet(a,b+84+28-20);a=mn.cash.xpos+mn.cash.w2-132;ap.game.v.tstatus(a-150,b+58-6+53);ap.game.v.tact(a,b+76+28);a=m3dcache.v.vw2-m3dcache.setup.aspect.w/2+.5;b=m3dcache.v.vh2-m3dcache.setup.aspect.h/2+.5;m3d.ui.layers.canvbk.ctx.strokeStyle=
"#333333";m3d.ui.layers.canvbk.ctx.strokeRect(a,b,m3dcache.setup.aspect.w-1,m3dcache.setup.aspect.h-1)}function takeCardsFromTable(a,b,c,e){takeCardsD={i:player[0].length-1,plr:a,cardt:0,cardpCopy:[],tableCardN:0,selCardN:0,par:b,cb:e,ordfn:c};takeCardsFromTable2()}
function takeCardsFromTable2(){var a="player"+takeCardsD.plr,b=takeCardsD.i,c=mn.table.btd[2*b]+mn.table.xpos+0,b=mn.table.btd[2*b+1]+mn.table.ypos+0,e=mn[a].w2+mn[a].xpos-50,a=mn[a].ypos+mn[a].btd[1];takeCardsD.cardpCopy=player[0][takeCardsD.i];player[0].splice(takeCardsD.i,1);2==takeCardsD.ordfn?setMenuPlayerCards2(0,480,70,175,0,0,function(){}):4==takeCardsD.ordfn&&setMenuPlayerCards4(0,480,70,175,0,0,function(){});ap.ref();moveCard(takeCardsD.plr,1,takeCardsD.cardpCopy,c,b,0,e,a,0,200,function(){setTimeout(function(){player[takeCardsD.plr].push(takeCardsD.cardpCopy);
setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);ap.ref();takeCardsD.i--;0>takeCardsD.i?(ap.game.v.state.a="go",""!=takeCardsD.cb&&takeCardsD.cb(takeCardsD.par)):takeCardsFromTable2()},0)})}function mnCashDurakCont(){}
function mnTakeCardsDurak(a){var b={cb:a};a=6-player[ap.game.v.mv].length;a>ap.game.deck.length&&(a=ap.game.deck.length);giveCardsAnim(ap.game.v.mv,a,200,40,function(){1==ap.game.v.mv?setMenuPlayerCardsN(1,0,10):setMenuPlayerCardsN(2,0,10)},function(){var a=6-player[3-ap.game.v.mv].length;a>ap.game.deck.length&&(a=ap.game.deck.length);giveCardsAnim(3-ap.game.v.mv,a,200,40,function(){1==3-ap.game.v.mv?setMenuPlayerCardsN(1,0,10):setMenuPlayerCardsN(2,0,10)},function(){b.cb()})})}
function mnCashDurakDrop(){0<apVar.mouse&&(apVar.mouse=0,mn.cash.block=!0,ap.ref(),removeCardsTable(0,12,function(){mn.table.btd=[];mnTakeCardsDurak(function(){player[1].sort(ap.sortByi0k);player[0]=[];setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);ap.ref();apVar.mouse=1;ap.game.v.state.a="go";goNextDurak(!0)})}))}function mnCashDurakTake0(){mnPlayer1Durak(0)}
function mnCashDurakTake(){0<player[0].length&&(apVar.mouse=0,takeCardsFromTable(ap.game.v.ord,{},2,function(){mnTakeCardsDurak(function(){player[1].sort(ap.sortByi0k);setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);ap.ref();apVar.mouse=1;goNextDurak(!1)})}))}
function mnPlayer1DurakAddCan(a,b){for(var c=[[1,0],[2,0],[3,0],[4,0]],e=[],f=0;f<player[a].length;f++){player[a][f][0]>c[player[a][f][1]-1][1]&&(c[player[a][f][1]-1][1]=player[a][f][0]);for(var g=0;g<player[0].length;g++)player[0][g][0]==player[a][f][0]&&(player[a][f][1]!=ap.game.v.state.koz[1]||player[a][f][1]==ap.game.v.state.koz[1]&11>player[a][f][0]||player[a][f][1]==ap.game.v.state.koz[1]&1==b)&&e.push(f)}return e}
function checkPlayerTableDurak(a){playerTable[a]=[[],[],[],[],[],[],[],[],[],[],[],[],[]];playerTableDrop[a]=[[],[],[],[],[],[],[],[],[],[],[],[]];for(var b=0;b<player[a].length;b++){player[a][b][2]=[];player[a][b][3]=[];var c=player[0].length-1;-1<c&&(player[0][c][1]==player[a][b][1]?player[0][c][0]<player[a][b][0]&&(playerTableDrop[a][c].push(b),player[a][b][3].push(c)):player[a][b][1]==ap.game.v.state.koz[1]&&(playerTableDrop[a][c].push(b),player[a][b][3].push(c)));for(c=0;c<player[0].length;c++)player[0][c][0]==
player[a][b][0]&&player[a][b][2].push(c)}}
function mnPlayer1Durak(a){var b=-1;if(0<apVar.mouse&0==ap.game.v.winner[0]){var c=m3d.ui.pCl[a][6]-1,e=a=!1,f=player[0].length-1;if("givemore"==ap.game.v.state.a2){checkPlayerTableDurak(ap.game.v.mv);var g=mnPlayer1DurakAddCan(ap.game.v.mv,!0);11<player[0].length&&(g=[]);if(0!=g.length){mn.cash.block=!1;setCashButtonAs("cont");for(f=0;f<player[0].length;f++);c=g[0]+1;ap.game.v.state.a2="givemore";b=-1;ap.game.v.ord==ap.game.v.mv?e=!0:(ap.game.v.ord=ap.game.v.mv,e=!1,2==ap.game.v.mv&&(e=!0),ap.ref())}else a=
!0,ap.game.v.state.a2="",ap.game.v.state.a="take"}else if(-1!=f)if(ap.game.v.mv==ap.game.v.ord)1>player[3-ap.game.v.ord].length?(ap.game.v.state.a="beatoff",mnCashDurakDrop()):1==ap.game.v.ord?(checkPlayerTableDurak(ap.game.v.ord),0!=player[ap.game.v.ord][c-1][2].length&&(ap.game.v.state.a="add",e=!0)):(checkPlayerTableDurak(ap.game.v.ord),g=mnPlayer1DurakAddCan(ap.game.v.ord,!1),0!=g.length?(c=g[0]+1,ap.game.v.state.a="add",e=!0):(ap.game.v.state.a="beatoff",mnCashDurakDrop()));else if(1==ap.game.v.ord)checkPlayerTableDurak(ap.game.v.ord),
0!=player[ap.game.v.ord][c-1][3].length&&(b=f,ap.game.v.state.a="beat",e=!0);else{if("givemore"!=ap.game.v.state.a2){checkPlayerTableDurak(ap.game.v.ord);g=[[],[],[],[],[],[],[],[],[],[],[],[]];for(f=0;f<player[ap.game.v.ord].length;f++)if(0<player[ap.game.v.ord][f][3].length)for(var h=0;h<player[ap.game.v.ord][f][3].length;h++)g[player[ap.game.v.ord][f][3][h]].push(f);f=player[0].length-1;if(0<g[f].length){var b=f,e=g[f][0],h=player[ap.game.v.ord][g[f][0]][0],l=player[ap.game.v.ord][g[f][0]][1];
l==ap.game.v.state.koz[1]&&(h+=100);for(var k=[],p=k=l=0;p<g[f].length;p++)k=player[ap.game.v.ord][g[f][p]],l=k[0],k=k[1],k==ap.game.v.state.koz[1]&&(l+=100),l<h&&(e=g[f][p],h=player[ap.game.v.ord][g[f][p]][0],l=player[ap.game.v.ord][g[f][p]][1],l==ap.game.v.state.koz[1]&&(h+=100));ap.game.v.selCard=e+1;c=e+1;ap.game.v.state.a="beat";e=!0}else checkPlayerTableDurak(ap.game.v.mv),g=mnPlayer1DurakAddCan(ap.game.v.mv,!0),0!=g.length?(mn.cash.block=!1,ap.game.v.state.a2="givemore",b=-1,ap.game.v.ord=
ap.game.v.mv,m3d.ui.mnSetCb("cash",1,function(){ap.game.v.ord=3-ap.game.v.mv;ap.game.v.state.a2="";mnCashDurakTake()}),setCashButtonAs("cont"),ap.game.v.tact=ap.tact.add,ap.ref()):(a=!0,ap.game.v.state.a="take")}}else{if(1==ap.game.v.ord)ap.game.v.state.a="go";else{for(f=h=e=g=0;f<player[ap.game.v.ord].length;f++)e=player[ap.game.v.ord][h][0],player[ap.game.v.ord][h][1]==ap.game.v.state.koz[1]&&(e+=100),g=player[ap.game.v.ord][f][0],player[ap.game.v.ord][f][1]==ap.game.v.state.koz[1]&&(g+=100),g<
e&&(h=f);apVar.mouse=1;ap.game.v.state.a="go";c=h+1}e=!0}1==a&&(ap.game.v.state.a2="",mnCashDurakTake());1==e&&(mn.cash.block=!0,ap.game.v.tact=m3d.lib.nullFunc,apVar.mouse=0,"givemore"==ap.game.v.state.a2?coverCardOnTableWithCard(ap.game.v.ord,-1,c-1,{card:c},function(a){ap.game.v.selCard=c;setMenuPlayerCards2(0,480,70,175,0,0,function(){});setMenuPlayerCardsN(1,0,10);ap.game.v.selCard=c;apVar.mouse=1;goNextDurak(!1)}):coverCardOnTableWithCard(ap.game.v.ord,b,c-1,{card:c},function(a){apVar.mouse=
0;ap.game.v.selCard=0;1==ap.game.v.mv?(ap.game.v.state.a="add",m3d.ui.mnSetCb("cash",1,function(){mnCashDurakDrop()}),setCashButtonAs("drop")):(ap.game.v.state.a="beat",m3d.ui.mnSetCb("cash",1,function(){ap.game.v.ord=3-ap.game.v.mv;ap.game.v.state.a2="givemore";mnCashDurakTake0()}),setCashButtonAs("take"));setMenuPlayerCards2(0,480,70,175,0,0,function(){});setMenuPlayerCardsN(1,0,10);ap.game.v.selCard=c;apVar.mouse=1;goNextDurak(!1)}))}}
function checkEmptyDurak(){var a=!1;0==player[ap.game.v.mv].length&0==ap.game.deck.length&&(ap.game.v.ord=ap.game.v.mv,a=!0);0==player[3-ap.game.v.mv].length&0==ap.game.deck.length&&(ap.game.v.ord=3-ap.game.v.mv,a=!0);return a}
function goNextDurak(a){ap.game.v.tact=m3d.lib.nullFunc;1==checkEmptyDurak()?gameWinnerDurak():(ap.game.v.ord++,2<ap.game.v.ord&&(ap.game.v.ord=1),1==a&&(ap.game.v.mv++,2<ap.game.v.mv&&(ap.game.v.mv=1),ap.game.v.ord=ap.game.v.mv),ap.game.v.tstatus=1==ap.game.v.mv?ap.tstatus.yourmove:ap.tstatus.aimove,2==ap.game.v.ord?(apVar.mouse=0,mn.cash.block=!0,ap.ref(),setTimeout(function(){apVar.mouse=1;"givemore"==ap.game.v.state.a2&&(ap.game.v.tact=ap.tact.add);mnPlayer1Durak(0)},100)):(apVar.mouse=1,mn.cash.block=
0==player[0].length?!0:!1,"givemore"==ap.game.v.state.a2&&mnPlayer1Durak(0),ap.ref()))}function gameWinnerDurak(){ap.game.v.winner[0]=ap.game.v.ord;"givemore"==ap.game.v.state.a2?takeCardsFromTable(3-ap.game.v.ord,{},2,function(){gameWinnerDurak2()}):0==player[0].length%2?removeCardsTable(0,12,function(){mn.table.btd=[];gameWinnerDurak2()}):takeCardsFromTable(3-ap.game.v.ord,{},2,function(){gameWinnerDurak2()})}
function gameWinnerDurak2(){ap.game.v.tstatus=ap.tstatus.gameover;mn.cash.block=!1;setCashButtonAs("cont");m3d.ui.mnSetCb("cash",1,function(){ap.mnStart0()});mn.table.on=!1;mn.player99.on=!1;ap.game.v.mouse=0;ap.game.v.fchip=!1;ap.ref();moveChip(ap.game.v.winner[0],100,2,[],function(){ap.game.v.mouse=1;ap.game.v.money[ap.game.v.winner[0]].s+=ap.game.v.bet[0];ap.ref()})}
function setMenuPlayerCardsN(a,b,c){if("undefined"!=typeof ap.game.v.pos.poker.av)for(var e=ap.game.v.pos.poker.av,f=450,g={},h=1;h<ap.game.v.pls+1;h++)if(a==h||0==a)f=450,g=function(){},1==h&&(f=660,g=mnPlayer1Cb),setMenuPlayerCards(h,f,b,e[h][0],e[h][1],c,0,g)}
function startPoker(){ap.game.v.pos.poker=ap.game.v.pos.poker_var[ap.game.v.pls];ap.game.v.endlv=!1;ap.game.v.ord=1;ap.game.v.mv=1;apVar.mouse=0;ap.menuInitMyLocation();gameNewPlayerPoker();menuInitMyLocationPoker();ap.game.deck=newDeck52();mn.table.set=[5,5,5,5,5];mn.table.btd=mnb.table_cash_btd.slice();m3d.ui.mnOn("gmenu0 table player1 player2 player3 player4 player5 player6 player7 player8 player9 player10 cash".split(" "));mn.cash.block=!0;ap.game.v.fchip=!1;1==ap.game.v.wa&&(ap.game.v.money[1].t=
3);setMenuPlayerCardsN(0,-50,2);setCashsButtonsAs("wcall");mn.cashs.on=!0;mn.mn2_his.on=!1;mn.cashs.block=!0;m3d.core.onWindowResize(0);ap.ref();if(1==ap.game.v.men){var a=[0,0,0,0,0,0,0,0,0,0];setRolesPoker();a[ap.game.v.smallblind-1]=5;a[ap.game.v.blind-1]=10;ap.game.v.mv=ap.game.v.startmove;ap.game.v.ord=ap.game.v.mv;ap.game.v.thistory[ap.game.v.smallblind]="smallblind";ap.game.v.thistory2[ap.game.v.smallblind]="5";ap.game.v.thistory[ap.game.v.blind]="blind";ap.game.v.thistory2[ap.game.v.blind]=
"10";doBets(a,ap.game.v.smallblind,function(){startPoker2()})}else startPoker2()}
menuSetPosMyLocationGamePoker=function(){mn.table.sxpos=mn.cash.sxpos;mn.table.sypos=mn.cash.sypos;mn.player1.sxpos=mn.cash.sxpos;mn.player1.sypos=mn.cash.sypos;mn.player2.sxpos=mn.cash.sxpos;mn.player2.sypos=mn.cash.sypos;mn.player3.sxpos=mn.cash.sxpos;mn.player3.sypos=mn.cash.sypos;mn.player4.sxpos=mn.cash.sxpos;mn.player4.sypos=mn.cash.sypos;mn.player5.sxpos=mn.cash.sxpos;mn.player5.sypos=mn.cash.sypos;mn.player6.sxpos=mn.cash.sxpos;mn.player6.sypos=mn.cash.sypos;mn.player7.sxpos=mn.cash.sxpos;
mn.player7.sypos=mn.cash.sypos;mn.player8.sxpos=mn.cash.sxpos;mn.player8.sypos=mn.cash.sypos;mn.player9.sxpos=mn.cash.sxpos;mn.player9.sypos=mn.cash.sypos;mn.player10.sxpos=mn.cash.sxpos;mn.player10.sypos=mn.cash.sypos;mn.table.ctx=m3d.ui.layers.canvbk.ctx;mn.player1.ctx=m3d.ui.layers.canvbk.ctx;mn.player2.ctx=m3d.ui.layers.canvbk.ctx;mn.player3.ctx=m3d.ui.layers.canvbk.ctx;mn.player4.ctx=m3d.ui.layers.canvbk.ctx;mn.player5.ctx=m3d.ui.layers.canvbk.ctx;mn.player6.ctx=m3d.ui.layers.canvbk.ctx;mn.player7.ctx=
m3d.ui.layers.canvbk.ctx;mn.player8.ctx=m3d.ui.layers.canvbk.ctx;mn.player9.ctx=m3d.ui.layers.canvbk.ctx;mn.player10.ctx=m3d.ui.layers.canvbk.ctx;setMenuPlayerCardsN(0,-50,2)};
function menuInitMyLocationPoker(){ap.menuSetPosMyLocationGame=menuSetPosMyLocationGamePoker;ap.menuSetPosMyLocationGame();m3d.ui.mnSetCb("cash",1,function(){mnCashPoker()});m3d.ui.mnSetCustomM("cash",mnCashCustomPoker);setCashButtonAs("open");m3d.ui.mnSetCustomM("player1",mnPlayer1CustomStart);ap.mnPlayerBot0GamesCustom=mnPlayerBot0GamesCustomPoker;mn.table.bbot=mnTableBotPoker;mn.table.btop=mnTableTopPoker;m3d.ui.mnSetCustomM("table",mnTableCustomPoker);m3d.ui.mnSetCb("table",1,function(){mnTablePoker(1)});
m3d.ui.mnSetCb("table",2,function(){mnTablePoker(2)});m3d.ui.mnSetCb("table",3,function(){mnTablePoker(3)});m3d.ui.mnSetCb("table",4,function(){mnTablePoker(4)});m3d.ui.mnSetCb("table",5,function(){mnTablePoker(5)})}function gameNewPlayerPokerNames(){playerName=["",lng.loc[16],lng.loc[3]+" 1",lng.loc[3]+" 2",lng.loc[3]+" 3",lng.loc[3]+" 4",lng.loc[3]+" 5",lng.loc[3]+" 6",lng.loc[3]+" 7",lng.loc[3]+" 8",lng.loc[3]+" 9",lng.loc[3]+" 10"];1==ap.game.v.wa&&(playerName[1]=lng.loc[3]+" 0")}
function gameNewPlayerPoker(){ap.gameNewPlayerCommon();player=[[],[],[],[],[],[],[],[],[],[],[]];playerTable=[[],[],[],[],[],[],[],[],[],[],[]];mnPlayer1Cb=mnPlayer1Poker;mn.cash.bt=[];mn.table.bt=[];mn.table.cb=[];mn.table.btd=[];mn.table.set=[];mn.table.bts=[];mn.table.bts=mn.table.bts.concat(mnb.player_var);ap.game.v.bet=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.betar=[];ap.game.v.betari=-1;ap.game.v.state.hand=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.pdrop=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.ktotal=[0,0,0,0,0,
0,0,0,0,0,0];ap.game.v.ktotalready=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.kmax=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.kmaxready=[0,0,0,0,0,0,0,0,0,0,0]}function checkPlayerTablePoker(a){}function setRolesPoker(){ap.game.v.smallblind=getNextPlayer(ap.game.v.de);ap.game.v.blind=getNextPlayer(ap.game.v.smallblind);ap.game.v.startmove=getNextPlayer(ap.game.v.blind);ap.game.v.endmove=ap.game.v.blind}
function giveCardsAnimPlayers(a,b){for(var c=[],e=0,f=0;f<a.am.length;f++)c.push(0),e+=a.am[f];a.cnt=c;a.pl=0;a.cb=b;a.total=e;a.totaln=0;giveCardsAnimPlayers2(a)}
function giveCardsAnimPlayers2(a){a.totaln>a.total-1?a.cb():0<a.am[a.pl]?giveCardsAnim(a.pl+1,1,a.v[a.pl],a.dt[a.pl],function(){setMenuPlayerCardsN(a.pl+1,a.dw[a.pl],a.dup[a.pl])},function(){a.cnt[a.pl]++;a.totaln++;a.pl++;a.pl>a.am.length-1&&(a.pl=0);giveCardsAnimPlayers2(a)}):(a.pl++,a.pl>a.am.length-1&&(a.pl=0),giveCardsAnimPlayers2(a))}
function startPoker2(){for(var a={am:[2,2,2,2,2,2,2,2,2,2],v:[120,120,200,200,200,200,200,200,200,200],dt:[40,40,40,40,40,40,40,40,40,40],dw:[-50,-50,-50,-50,-50,-50,-50,-50,-50,-50],dup:[2,2,2,2,2,2,2,2,2,2]},b=0;b<ap.game.v.pls;b++)10>ap.game.v.money[b+1].s&&(a.am[b]=0);giveCardsAnimPlayers(a,function(){mn.mn2_his.on=!0;setTimeout(function(){setMenuPlayerCardsN(0,-50,2);ap.game.v.tstatus=m3d.lib.nullFunc;ap.game.v.tstatus=ap.tstatus.opmove;ap.ref();removeCardsTable(0,2,function(){mn.table.btd=mnb.table_1_5_btd.slice();
ap.game.v.mode="preflop";checkPlayerTablePoker(1);checkCombs();mn.cashs.set[1]=1;2<ap.game.v.money[ap.game.v.mv].t?(mn.cashs.block=!0,aiTurnPoker(),apVar.mouse=0):0==ap.game.v.wa?(mn.cashs.block=!1,ap.ref(),apVar.mouse=1):(mn.cashs.block=!0,aiTurnPoker(),apVar.mouse=0)})},0)})}function mnPlayerBot0GamesCustomPoker(a,b,c,e,f,g,h){1==b&&ap.game.v.de==h&&g.drawImage(ap.mnbk.cardsm,180,790,90,90,e-30,f+30+30,90,90)}function mnPlayer1Poker(a){mnGameKomb()}
function mnPlayer1CustomStartPoker(){ap.drawV()}function mnTablePoker(a){}function mnTableBotPoker(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)}
function mnTableTopPoker(a,b,c){if(0!=ap.game.v.selCard){a=m3d.ui.pCl[c][0];var e=m3d.ui.pCl[c][1];0!=m3d.lib.in_arr_n(playerTable[ap.game.v.ord][m3d.ui.pCl[c][6]-2],ap.game.v.selCard-1).length&&(0==ap.game.v.tableCard?m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,730,4,100,140,a+5,e+10,100,140):ap.game.v.tableCard==b&&(b=getCardCoords([takeCardsD.cardpCopy[0],takeCardsD.cardpCopy[1]]),m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,b[0],b[1],100,140,a+5,e+10,100,140)))}}
function mnTableCustomPoker(){}function mnCashPoker(){gameWinnerPoker()}function mnCashCustomPoker(){mnCashCustomCommonPoker(mn.cash.xpos,mn.cash.sypos)}function mnCashCustomEndPoker(){var a=mn.cash.xpos,b=mn.cash.sypos;mnCashCustomCommonPoker(a,b);m3d.lib.Tex2Canvas(m3d.ui.layers.canvbk.ctx,lng.loc[9]+" "+ap.game.v.money[ap.game.v.me].s.toString(),"italic 12px Arial",18,"#FFFFCC",a+mn.cash.w2-150,b+380,300,0,"center","top")}
function curComb(){var a=[[277,881],[277,851],[277,821],[277,791],[277,761],[3,881],[3,851],[3,821],[3,791],[3,761]],b=ap.game.v.kmaxready[ap.game.v.me-1+1];if(0!=b){var a=a[b],c=m3d.ui.getBtPos("player"+ap.game.v.me,1),b=c.x,c=c.y;m3d.ui.layers.canvbk.ctx.globalAlpha=.9;m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardst,a[0],a[1],270,28,b-15,c+128,180,18);m3d.ui.layers.canvbk.ctx.globalAlpha=1}}
function mnHisCustomEndPoker(){for(var a=[[277,881],[277,851],[277,821],[277,791],[277,761],[3,881],[3,851],[3,821],[3,791],[3,761]],b=0,c=0,e=0,f=0,g=0,h=!1,l,k,p=0;p<ap.game.v.pls;p++){b=a[ap.game.v.winner[p+1]];c=m3d.ui.getBtPos("player"+(p+1),1);f=c.x-113;g=c.y+38;h=!1;0!=m3d.lib.in_arr_n(ap.game.v.pwin,p+1).length&&(h=!0);1==h&&(m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,0,0,280,280,f+1,g-104+72,280,140),m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,580,330,73,56,f+8,g-51,73,56));
m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,368,1055,282,72,f,g,282,72);for(var c=9-ap.game.v.winner[p+1],e=0,q=f-16,n=0;5>n;n++)0<ap.game.v.k[p][9-c].length?(k=ap.game.v.k[p][9-c][e].k[n],l=getCardCoords(k),-2==k[2]?m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,400,560,100,100,49*n+36+q,g+10,46,46):(m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,l[0],l[1],100,100,49*n+36+q,g+10,46,46),0>k[2]&&m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,730,428,50,50,49*n+36+q,g+10,46,46))):m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,
400,560,100,100,49*n+36+q,g+10,46,46);m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardst,b[0],b[1],270,28,f+6,g+39,270,28);0==h&&m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,372,1136,276,66,f+3,g+2,276,66);-1==ap.game.v.winnercheck[p+1]&&m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardst,548,632,264,22,f+3+6,g+2+53,264,22)}}
function history(a,b,c){if(0<player[a].length){b={smallblind:[838,566],blind:[958,566],call:[838,586],raise:[958,586],fold:[838,606],check:[958,606],bet:[958,626]}[ap.game.v.thistory[a]];c=ap.game.v.thistory2[a];var e=playerChipPos(a);e.x+=97;e.y-=18;m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,584,264,132,62,e.x,e.y,132,62);var f=0;if("fold"==ap.game.v.thistory[a]||"check"==ap.game.v.thistory[a]||"bet"==ap.game.v.thistory[a])f=7;m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardst,b[0],b[1],120,
20,e.x+6,e.y+16+f,120,20);m3d.ui.layers.canvbk.ctx.font="bold 14px Arial";m3d.ui.layers.canvbk.ctx.fillStyle="#000000";tw=Math.floor(m3d.ui.layers.canvbk.ctx.measureText(c).width/2);m3d.ui.layers.canvbk.ctx.fillText(c,e.x+66-tw,e.y+47)}}function mnHisCustomPoker(){for(var a=mn.cash.xpos,b=mn.cash.ypos,c=0;c<ap.game.v.pls;c++)""!=ap.game.v.thistory[c+1]&&history(c+1,a,b);curComb()}
function playerChipPos(a){var b={x:0,y:0},c="player"+a,e=mn[c].sxpos+mn[c].w2,f=mn[c].sypos,g=ap.game.v.pos.poker.av;0==mn[c].bt.length?"undefined"!=typeof g[a]&&(b.x=e+g[a][0]-44-45,b.y=f+g[a][1]+52):(b.x=mn[c].sxpos-44-45+mn[c].btd[0],b.y=mn[c].sypos+52+mn[c].btd[1]);return b}function mnPlayer2TopPoker(a,b,c,e){}
function mnCashCustomCommonPoker(a,b){for(var c=m3d.ui.layers.canvbk.ctx,e=ap.game.v.pos.poker.av,f=1;f<ap.game.v.pls+1;f++){var g="player"+f,h=mn[g].sxpos+mn[g].w2,l=mn[g].sypos;if(0==mn[g].bt.length)ap["mnPlayer"+f+"Bot0Games"]("",1,0,h+e[f][0],l+e[f][1])}c.globalAlpha=.25;c.strokeStyle="#FFFFFF";for(f=0;5>f;f++)c.drawImage(ap.mnbk.cardsm,730,150,112,152,a+mnb.table_1_5_btd[2*f]-2-4,b+mnb.table_1_5_btd[2*f+1]-2-4,112,152);c.globalAlpha=1;drawDeck(-15,0);a=mn.cash.xpos+mn.cash.w2-35-10;drawBet(a,
b+84+28-20);a=mn.cash.xpos+mn.cash.w2-132;ap.game.v.tstatus(a-150,b+58-6+53);ap.game.v.tact(a,b+76+28);a=m3dcache.v.vw2-m3dcache.setup.aspect.w/2+.5;b=m3dcache.v.vh2-m3dcache.setup.aspect.h/2+.5;c.strokeStyle="#333333";m3d.ui.layers.canvbk.ctx.strokeRect(a,b,m3dcache.setup.aspect.w-1,m3dcache.setup.aspect.h-1)}function mnGameKomb(){0<apVar.mouse&&3==ap.game.v.gameN&&(apVar.blockinfo=!0,mn.mn2_k.on=!0,mn.cash.block=!0,mn.cashs.block=!0,mn.gmenu0.block=!0,mn.player1.set=[5,5],ap.ref())}
function mnGameKombClose(){apVar.blockinfo=!1;mn.mn2_k.on=!1;mn.cash.block=!1;mn.cashs.block=!1;mn.gmenu0.block=!1;mn.player1.set=[1,1];ap.ref()}
function mnGameKombCustom(){var a=ap.game.v.me-1,b=mn.mn2_k.xpos+58,c=mn.mn2_k.ypos+67,e=0,f=0,g={};apctx.drawImage(ap.mnbk.cardst,274,650,264,24,mn.mn2_k.xpos+mn.mn2_k.w2-132,mn.mn2_k.ypos+31,264,24);for(var h=0;10>h;h++){4<h&&(e=313,f=-450);for(var l=0;5>l;l++)0<ap.game.v.k[a][9-h].length?(crd=ap.game.v.k[a][9-h][0].k[l],g=getCardCoords(crd),-2==crd[2]?apctx.drawImage(ap.mnbk.cards,400,560,100,140,52*l+b+10+e,90*h+c+f,50,70):(apctx.drawImage(ap.mnbk.cards,g[0],g[1],100,140,52*l+b+10+e,90*h+c+f,
50,70),0>crd[2]&&apctx.drawImage(ap.mnbk.cardsm,730,428,50,70,52*l+b+10+e,90*h+c+f,50,70))):apctx.drawImage(ap.mnbk.cards,400,560,100,140,52*l+b+10+e,90*h+c+f,50,70);apctx.drawImage(ap.mnbk.cardst,792,50*h+2,280,50,b+e,90*h+c+36+f,280,50);0<ap.game.v.k[a][9-h].length&&0==ap.game.v.k[a][9-h][0].ks&&apctx.drawImage(ap.mnbk.cardsm,602,804,22,22,b+e+246,90*h+c+36+f+14,22,22)}m3d.lib.Tex2Canvas(apctx,ap.game.v.ktotalready[a+1].toString()+" ("+ap.game.v.ktotal[a+1].toString()+")","normal 12px Arial",18,
"#FFFFCC",b+280,c+470,300,0,"right","top")}function checkCombs(){ap.game.v.k=[];ap.game.v.ks=[];for(var a={},b=0;b<ap.game.v.pls;b++)a=checkComb(b+1),ap.game.v.k.push(a)}
function checkComb(a){var b=[[],[],[],[],[],[],[],[],[],[]];if(!(10>ap.game.v.money[a].s)){for(var c=player[0].length,e=player[a].slice(),f=0;f<e.length;f++)e[f][2]=f;for(var g=player[0].slice(),f=0;f<g.length;f++)g[f][2]=100+f;e=e.concat(g);e.sort(ap.sortByi0);for(var g=0,h=[],l=[],k=[],p=[],l=[],l=[],q=0,k=!0,n=0,m=0,t=n=n=n=n=h=0,p=[],f=0;f<e.length;f++){h=-1;for(m=0;m<p.length;m++)p[m][0][0]==e[f][0]&&(h=m);-1==h?p.push([e[f]]):p[h].push(e[f])}openkm=[];for(f=0;f<e.length;f++){h=-1;for(m=0;m<
openkm.length;m++)openkm[m][0][1]==e[f][1]&&(h=m);-1==h?openkm.push([e[f]]):openkm[h].push(e[f])}for(m=14;5<m;m--)for(n=1;5>n;n++)for(k=!0,h=[],f=m,g=5-c;1==k;)l=ap.in_arr_card(e,[f,n]),0<l.length?h.push([f,n,e[l[0]][2]]):0<g?(h.push([f,n,-1]),g--):k=!1,5==h.length&&(14!=m&&(q=8,b[q].push({k:h.slice(),ks:5-c-g})),14==m&&(q=9,b[q].push({k:h.slice(),ks:5-c-g}))),f--,f<m-5+1&&(k=!1);q=7;for(f=16;2<=f;f--)if(h=[],g=5-c,l=ap.in_arr_card0(e,[f,0]),n=4-l.length,n<=5-c){for(n=1;5>n;n++)l=ap.in_arr_card(e,
[f,n]),0==l.length?(h.push([f,n,-1]),g--):h.push([f,n,e[l[0]][2]]);if(5>h.length)for(n=5-h.length,m=0;m<n;m++)h.push([14,4,-2]);b[q].push({k:h.slice(),ks:5-c-g})}q=6;for(f=p.length-1;0<=f;f--){g=5-c;l=[];h=p[f].length;2<h&&(h=2);g-=2-h;if(0<=g){for(m=0;m<h;m++)l.push(p[f][m]);for(m=0;m<2-h;m++){t=0;for(n=1;5>n;n++){mnew2=n;for(var r=0;r<l.length;r++)l[r][1]==n&&(mnew2=0);0!=mnew2&&(t=mnew2)}0!=t&&l.push([p[f][0][0],t,-1])}}for(var u=p.length-1;0<=u;u--)if(u!=f){x3=g;k=[];h=p[u].length;3<h&&(h=3);
x3-=3-h;if(0<=x3){for(m=0;m<h;m++)k.push(p[u][m]);for(m=0;m<3-h;m++){t=0;for(n=1;5>n;n++){mnew2=n;for(r=0;r<k.length;r++)k[r][1]==n&&(mnew2=0);0!=mnew2&&(t=mnew2)}0!=t&&k.push([p[u][0][0],t,-1])}}if(4<l.length+k.length){h=l.concat(k);for(r=n=0;r<h.length;r++)-1==h[r][2]&&n++;b[q].push({k:h.slice(),ks:n})}}}q=5;for(f=0;f<openkm.length;f++){g=5-c;h=[];n=openkm[f][0][1];for(m=0;m<openkm[f].length;m++)h.push(openkm[f][m]);for(m=14;-1<m;m--)l=ap.in_arr_card(openkm[f],[m,n]),0==l.length&&0<g&&5>h.length&&
(h.push([m,n,-1]),g--);4<h.length&&(h.sort(ap.sortByi0_back),b[q].push({k:h.slice(),ks:5-c-g}))}q=4;u=[14,2,3,4,5,6,7,8,9,10,11,12,13,14];for(m=13;-1<m;m--)for(k=!0,h=[],f=m,g=5-c;1==k;)n=u[f],l=ap.in_arr_card0(e,[n,0]),0<l.length?h.push([n,e[l[0]][1],e[l[0]][2]]):0<g?(h.push([n,1,-1]),g--):k=!1,5==h.length&&b[q].push({k:h.slice(),ks:5-c-g}),f--,f<m-5+1&&(k=!1);q=3;for(u=p.length-1;0<=u;u--){x3=5-c;k=[];h=p[u].length;3<h&&(h=3);x3-=3-h;if(0<=x3){for(m=0;m<h;m++)k.push(p[u][m]);for(m=0;m<3-h;m++){t=
0;for(n=1;5>n;n++){mnew2=n;for(r=0;r<k.length;r++)k[r][1]==n&&(mnew2=0);0!=mnew2&&(t=mnew2)}0!=t&&k.push([p[u][0][0],t,-1])}}if(3==k.length){n=5-k.length;for(m=0;m<n;m++)k.push([14,4,-2]);for(r=n=0;r<k.length;r++)-1==k[r][2]&&n++;b[q].push({k:k.slice(),ks:n})}}q=2;for(f=p.length-1;0<=f;f--){g=5-c;l=[];h=p[f].length;2<h&&(h=2);g-=2-h;if(0<=g){for(m=0;m<h;m++)l.push(p[f][m]);for(m=0;m<2-h;m++){t=0;for(n=1;5>n;n++){mnew2=n;for(r=0;r<l.length;r++)l[r][1]==n&&(mnew2=0);0!=mnew2&&(t=mnew2)}0!=t&&l.push([p[f][0][0],
t,-1])}}for(u=p.length-1;0<=u;u--)if(u!=f){x3=g;k=[];h=p[u].length;2<h&&(h=2);x3-=2-h;if(0<=x3){for(m=0;m<h;m++)k.push(p[u][m]);for(m=0;m<2-h;m++){t=0;for(n=1;5>n;n++){mnew2=n;for(r=0;r<k.length;r++)k[r][1]==n&&(mnew2=0);0!=mnew2&&(t=mnew2)}0!=t&&k.push([p[u][0][0],t,-1])}}if(3<l.length+k.length){h=l.concat(k);n=5-h.length;for(m=0;m<n;m++)h.push([14,4,-2]);for(r=n=0;r<h.length;r++)-1==h[r][2]&&n++;b[q].push({k:h.slice(),ks:n})}}}q=1;for(u=p.length-1;0<=u;u--){x3=5-c;k=[];h=p[u].length;2<h&&(h=2);
x3-=2-h;if(0<=x3){for(m=0;m<h;m++)k.push(p[u][m]);for(m=0;m<2-h;m++){t=0;for(n=1;5>n;n++){mnew2=n;for(r=0;r<k.length;r++)k[r][1]==n&&(mnew2=0);0!=mnew2&&(t=mnew2)}0!=t&&k.push([p[u][0][0],t,-1])}}if(2==k.length){n=5-k.length;for(m=0;m<n;m++)k.push([14,4,-2]);for(r=n=0;r<k.length;r++)-1==k[r][2]&&n++;b[q].push({k:k.slice(),ks:n})}}q=0;k=player[a][0].slice();for(f=0;f<player[a].length;f++)player[a][f][0]>k[0]&&(k=player[a][f].slice());h=[];h.push(k);n=5-h.length;for(m=0;m<n;m++)h.push([14,4,-2]);n=
0;b[q].push({k:h.slice(),ks:n});for(f=0;f<b.length;f++)0<b[f].length&&b[f].sort(ap.sortByKS_max0);for(f=p=g=e=c=0;f<b.length;f++)c+=b[9-f].length,0<b[9-f].length&&(g<9-f&&(g=9-f),0==b[9-f][0].ks&&(e++,p<9-f&&(p=9-f)));ap.game.v.ktotal[a]=c;ap.game.v.ktotalready[a]=e;ap.game.v.kmax[a]=g;ap.game.v.kmaxready[a]=p}return b}
function mnCashsBTopPreflop(a,b,c){a=m3d.ui.pCl[c][0];c=m3d.ui.pCl[c][1];for(var e=0,f=1;f<ap.game.v.pls+1;f++)ap.game.v.bet[f]>e&&(e=ap.game.v.bet[f]);3==b?(b=0,b=e-ap.game.v.bet[ap.game.v.me],0<b&&(m3d.ui.layers.canvbk.ctx.globalAlpha=.75,b=b.toString(),m3d.ui.layers.canvbk.ctx.font="bold 14px Arial",m3d.ui.layers.canvbk.ctx.fillStyle="#DFDFBF",tw=Math.floor(m3d.ui.layers.canvbk.ctx.measureText(b).width),m3d.ui.layers.canvbk.ctx.fillText(b,a+116-tw,c+57),m3d.ui.layers.canvbk.ctx.globalAlpha=1)):
2==b&&4>ap.game.v.praise[ap.game.v.mv]&&(b="preflop"==ap.game.v.mode||"preflop2"==ap.game.v.mode||"flop"==ap.game.v.mode||"flop2"==ap.game.v.mode?e-ap.game.v.bet[ap.game.v.me]+10:e-ap.game.v.bet[ap.game.v.me]+20,0<b&&(m3d.ui.layers.canvbk.ctx.globalAlpha=.75,b=b.toString(),m3d.ui.layers.canvbk.ctx.font="bold 14px Arial",m3d.ui.layers.canvbk.ctx.fillStyle="#DFDFBF",tw=Math.floor(m3d.ui.layers.canvbk.ctx.measureText(b).width),m3d.ui.layers.canvbk.ctx.fillText(b,a+116-tw,c+57),m3d.ui.layers.canvbk.ctx.globalAlpha=
1))}function mnCashsBTopEndLv(a,b,c){}
function aiTurnPoker(){ap.game.v.thistory2[ap.game.v.mv]="";if("preflop"==ap.game.v.mode||"flop"==ap.game.v.mode||"tern"==ap.game.v.mode||"river"==ap.game.v.mode)ap.game.v.thistory[ap.game.v.mv]="call";else if("preflop2"==ap.game.v.mode||"flop2"==ap.game.v.mode||"tern2"==ap.game.v.mode||"river2"==ap.game.v.mode)ap.game.v.thistory[ap.game.v.mv]="check";for(var a=0,b=1;b<ap.game.v.pls+1;b++)ap.game.v.bet[b]>a&&(a=ap.game.v.bet[b]);var c=a-ap.game.v.bet[ap.game.v.mv],a=0,e=b=!1;if("preflop"==ap.game.v.mode||
"preflop2"==ap.game.v.mode)1>ap.game.v.praise[ap.game.v.mv]&&0<ap.game.v.kmaxready[ap.game.v.mv]&&(b=!0);else if("flop"==ap.game.v.mode||"flop2"==ap.game.v.mode)1>ap.game.v.praise[ap.game.v.mv]&4<ap.game.v.kmaxready[ap.game.v.mv]&&(b=!0),2>ap.game.v.praise[ap.game.v.mv]&6<ap.game.v.kmaxready[ap.game.v.mv]&&(b=!0),3>ap.game.v.praise[ap.game.v.mv]&7<ap.game.v.kmaxready[ap.game.v.mv]&&(b=!0),1<ap.game.v.pcall[ap.game.v.mv]&1>ap.game.v.kmaxready[ap.game.v.mv]&&2>ap.game.v.kmax[ap.game.v.mv]&&(b=!1,e=
!0);else if("tern"==ap.game.v.mode||"tern2"==ap.game.v.mode)2>ap.game.v.kmax[ap.game.v.mv]?e=!0:(1>ap.game.v.praise[ap.game.v.mv]&4<ap.game.v.kmaxready[ap.game.v.mv]&&(b=!0),2>ap.game.v.praise[ap.game.v.mv]&6<ap.game.v.kmaxready[ap.game.v.mv]&&(b=!0),3>ap.game.v.praise[ap.game.v.mv]&7<ap.game.v.kmaxready[ap.game.v.mv]&&(b=!0),1>ap.game.v.praise[ap.game.v.mv]&3<ap.game.v.kmax[ap.game.v.mv]&&(b=!0),1<ap.game.v.pcall[ap.game.v.mv]&2>ap.game.v.kmaxready[ap.game.v.mv]&&3>ap.game.v.kmax[ap.game.v.mv]&&
(b=!1,e=!0));else if("river"==ap.game.v.mode||"river2"==ap.game.v.mode)1>ap.game.v.kmaxready[ap.game.v.mv]?e=!0:(1>ap.game.v.praise[ap.game.v.mv]&2<ap.game.v.kmaxready[ap.game.v.mv]&&(b=!0),2>ap.game.v.praise[ap.game.v.mv]&3<ap.game.v.kmaxready[ap.game.v.mv]&&(b=!0),3>ap.game.v.praise[ap.game.v.mv]&4<ap.game.v.kmaxready[ap.game.v.mv]&&(b=!0),0<ap.game.v.pcall[ap.game.v.mv]&2>ap.game.v.kmaxready[ap.game.v.mv]&&(b=!1,e=!0));a=0;1==b&&(a="preflop"==ap.game.v.mode||"preflop2"==ap.game.v.mode||"flop"==
ap.game.v.mode||"flop2"==ap.game.v.mode?10:20);c+a>ap.game.v.money[ap.game.v.mv].s&&(b=!1);c>ap.game.v.money[ap.game.v.mv].s&&(e=!0,c=ap.game.v.money[ap.game.v.mv].s);1==e?(ap.game.v.pdrop[ap.game.v.mv]=1,ap.game.v.thistory[ap.game.v.mv]="fold",mn["player"+ap.game.v.mv.toString()].block=!0):1==b?(ap.game.v.praise[ap.game.v.mv]++,ap.game.v.thistory[ap.game.v.mv]="raise",c+=a):0<c&&ap.game.v.pcall[ap.game.v.mv]++;if("call"==ap.game.v.thistory[ap.game.v.mv]||"raise"==ap.game.v.thistory[ap.game.v.mv])ap.game.v.thistory2[ap.game.v.mv]=
c.toString();0==e?(a=playerChipPos(ap.game.v.mv),moveObj2D(ap.mnbk.cardsm,584,264,132,62,a.x+40,a.y-40,0,a.x+97,a.y-18,0,200,function(){ap.ref();var a=[0,0,0,0,0,0,0,0,0,0];a[ap.game.v.mv-1]=c;doBets(a,ap.game.v.mv,function(){goNextPoker(!0)})})):goNextPoker(!0)}function clearHistory(){ap.game.v.thistory="          ".split(" ");ap.game.v.thistory2="          ".split(" ")}function clearHistoryP(a){ap.game.v.thistory[a]="";ap.game.v.thistory2[a]=""}
function mnPokerPreflop(a){ap.infoCenterTimerStop();apVar.mouse=0;mn.cashs.block=!0;for(var b=0,c=1;c<ap.game.v.pls+1;c++)ap.game.v.bet[c]>b&&(b=ap.game.v.bet[c]);1==a?(clearHistory(),ap.game.v.pdrop[ap.game.v.mv]=1,ap.ref(),goNextPoker(!0)):2==a?4>ap.game.v.praise[ap.game.v.mv]&&(ap.game.v.praise[ap.game.v.mv]++,3<ap.game.v.praise[ap.game.v.mv]&&(mn.cashs.set[1]=4),a="preflop"==ap.game.v.mode||"preflop2"==ap.game.v.mode||"flop"==ap.game.v.mode||"flop2"==ap.game.v.mode?b-ap.game.v.bet[ap.game.v.mv]+
10:b-ap.game.v.bet[ap.game.v.mv]+20,b=[0,0,0,0,0,0,0,0,0,0],b[ap.game.v.mv-1]=a,clearHistory(),ap.ref(),doBets(b,ap.game.v.mv,function(){ap.ref();goNextPoker(!0)})):3==a?(a=b-ap.game.v.bet[ap.game.v.me],0<a&&(b=[0,0,0,0,0,0,0,0,0,0],b[ap.game.v.mv-1]=a,clearHistory(),ap.ref(),doBets(b,ap.game.v.mv,function(){ap.ref();goNextPoker(!0)}))):4==a&&(clearHistory(),ap.ref(),goNextPoker(!0))}
function goNextPoker(a){apVar.mouse=0;for(var b=ap.game.v.ord,c=ap.game.v.endmove,e=1;e<ap.game.v.pls+1;e++)10>ap.game.v.money[e].s&&(ap.game.v.pdrop[e]=1);e=!1;1==a&&(ap.game.v.ord=getNextPlayer(ap.game.v.ord),1>ap.game.v.ord?e=!0:(ap.game.v.mv=ap.game.v.ord,1==ap.game.v.pdrop[ap.game.v.endmove]&&(ap.game.v.endmove=getPrevPlayer(ap.game.v.ord)),b==ap.game.v.endmove&&0!=ap.game.v.pdrop[b]&&(ap.game.v.endmove=getPrevPlayer(ap.game.v.ord))));if(1==e)gameWinnerPoker();else{for(var f=0,g=a=!0,h=0,l=0,
e=1;e<ap.game.v.pls+1;e++)0==ap.game.v.pdrop[e]?(ap.game.v.bet[e]>l&&(l=ap.game.v.bet[e]),1==g&&(f=ap.game.v.bet[e],g=!1),f!=ap.game.v.bet[e]&&(a=!1)):h++;e=l-ap.game.v.bet[ap.game.v.mv];h==ap.game.v.pls&&(a=!0,b=c);0<e?("preflop2"==ap.game.v.mode&&(ap.game.v.mode="preflop",setCashsButtonsAs("wcall")),"flop2"==ap.game.v.mode&&(ap.game.v.mode="flop",setCashsButtonsAs("wcall")),"tern2"==ap.game.v.mode&&(ap.game.v.mode="tern",setCashsButtonsAs("wcall")),"river2"==ap.game.v.mode&&(ap.game.v.mode="river",
setCashsButtonsAs("wcall"))):("preflop"==ap.game.v.mode&&(ap.game.v.mode="preflop2",setCashsButtonsAs("wcheck")),"flop"==ap.game.v.mode&&(ap.game.v.mode="flop2",setCashsButtonsAs("wcheck")),"tern"==ap.game.v.mode&&(ap.game.v.mode="tern2",setCashsButtonsAs("wcheck")),"river"==ap.game.v.mode&&(ap.game.v.mode="river2",setCashsButtonsAs("wcheck")));if(1==a)if(b==c)if(ap.game.v.praise=[0,0,0,0,0,0,0,0,0,0,0],ap.game.v.pcall=[0,0,0,0,0,0,0,0,0,0,0],mn.cashs.set[1]=1,setRolesPoker(),"preflop"==ap.game.v.mode||
"preflop2"==ap.game.v.mode)"preflop"==ap.game.v.mode?ap.game.v.mode="flop":"preflop2"==ap.game.v.mode&&(ap.game.v.mode="flop2"),addCardsTable(0,3,250,function(){checkCombs();setTimeout(function(){goNextPoker2()},100)});else if("flop"==ap.game.v.mode||"flop2"==ap.game.v.mode)"flop"==ap.game.v.mode?ap.game.v.mode="tern":"flop2"==ap.game.v.mode&&(ap.game.v.mode="tern2"),addCardsTable(0,1,250,function(){checkCombs();setTimeout(function(){goNextPoker2()},100)});else if("tern"==ap.game.v.mode||"tern2"==
ap.game.v.mode)"tern"==ap.game.v.mode?ap.game.v.mode="river":"tern2"==ap.game.v.mode&&(ap.game.v.mode="river2"),addCardsTable(0,1,250,function(){checkCombs();setTimeout(function(){goNextPoker2()},100)});else{if("river"==ap.game.v.mode||"river2"==ap.game.v.mode)checkCombs(),setTimeout(function(){ap.game.v.tstatus=ap.tstatus.gameoverp;gameWinnerPoker()},100)}else goNextPoker2();else goNextPoker2()}}
function goNextPoker2(){ap.game.v.tstatus=1==ap.game.v.ord&0==ap.game.v.wa?ap.tstatus.yourmove:ap.tstatus.opmove;1==ap.game.v.ord?0==ap.game.v.wa?(mn.cashs.block=!1,apVar.mouse=1,ap.ref()):(mn.cashs.block=!0,apVar.mouse=0,clearHistoryP(ap.game.v.mv),ap.ref(),setTimeout(function(){aiTurnPoker()},200)):(mn.cashs.block=!0,apVar.mouse=0,clearHistoryP(ap.game.v.mv),ap.ref(),setTimeout(function(){aiTurnPoker()},200))}
function gameWinnerPoker(){apVar.mouse=0;ap.game.v.state.hand=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.state.n=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.winner=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.winnercheck=[0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];ap.game.v.winnersumcards=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.winnerkicker=[0,0,0,0,0,0,0,0,0,0,0];ap.game.v.endlv=!0;mn.cashs.block=!1;ap.game.v.fchip=!1;clearHistory();setCashsButtonsAs("endlv");m3d.ui.mnSetCustomM("cash",mnCashCustomEndPoker);ap.menuSetPos();ap.ref();for(var a=
0;a<ap.game.v.pls;a++)for(var b=0;b<ap.game.v.k[a].length;b++)if(0<ap.game.v.k[a][b].length&&(ap.game.v.winner[a+1]=b,0==ap.game.v.pdrop[a+1]&&(ap.game.v.winnercheck[a+1]=b),1==ap.game.v.fullv)){for(var c=0,e=0,f="",g=0;g<ap.game.v.k[a][b].length;g++){for(var f=ap.game.v.k[a][b][g].k,h=e=0;h<f.length;h++)-1<f[h][2]&&(e+=f[h][0]);e>c&&(c=e,kmini=g)}0!=kmini&&(g=JSON.parse(JSON.stringify(ap.game.v.k[a][b][0])),ap.game.v.k[a][b][0]=JSON.parse(JSON.stringify(ap.game.v.k[a][b][kmini])),ap.game.v.k[a][b][kmini]=
g);ap.game.v.winnersumcards[a+1]=c;c=!1;for(g=0;g<ap.game.v.k[a][b].length;g++){ap.game.v.k[a][b][g].kick2=[];f=ap.game.v.k[a][b][g].k;for(e=0;e<player[a+1].length;e++){c=!1;for(h=0;h<f.length;h++)-1<f[h][2]&&f[h][0]==player[a+1][e][0]&f[h][1]==player[a+1][e][1]&f[h][2]==player[a+1][e][2]&&(c=!0);0==c&&ap.game.v.k[a][b][g].kick2.push(player[a+1][e])}for(e=0;e<player[0].length;e++){c=!1;for(h=0;h<f.length;h++)-1<f[h][2]&&f[h][0]==player[0][e][0]&f[h][1]==player[0][e][1]&f[h][2]==player[0][e][2]&&(c=
!0);0==c&&ap.game.v.k[a][b][g].kick2.push(player[0][e])}ap.game.v.k[a][b][g].kick2.sort(ap.sortByi0_back)}}ap.game.v.winner[0]=0;ap.game.v.winnercheck[0]=0;h=-1;for(a=1;a<ap.game.v.winnercheck.length;a++)ap.game.v.winnercheck[a]>h&&(h=ap.game.v.winnercheck[a],ap.game.v.winnercheck[0]=a,ap.game.v.winner[0]=a);ap.game.v.moneywin=[];ap.game.v.pwin=[];pscore=[];for(a=1;a<ap.game.v.pls+1;a++)ap.game.v.winnercheck[a]==h&&ap.game.v.pwin.push(a);if(1==ap.game.v.fullv){h=0;b=[];for(a=0;a<ap.game.v.pwin.length;a++)ap.game.v.winnersumcards[ap.game.v.pwin[a]]>
h&&(h=ap.game.v.winnersumcards[ap.game.v.pwin[a]]);for(a=0;a<ap.game.v.pwin.length;a++)ap.game.v.winnersumcards[ap.game.v.pwin[a]]==h&&b.push(ap.game.v.pwin[a]);ap.game.v.pwin=b.slice();ap.game.v.winnerkicker=[0,0,0,0,0,0,0,0,0,0,0];b=0;b=[];c=[];g=[];if(1<ap.game.v.pwin.length){for(a=0;a<ap.game.v.pwin.length;a++)b=ap.game.v.winner[ap.game.v.pwin[a]],b=ap.game.v.k[ap.game.v.pwin[a]-1][b][0].kick2,g.push(b);c=!1;f=[];for(a=0;a<g[0].length;a++){h=0;c=[];for(b=0;b<g.length;b++)g[b][a][0]>h&&(h=g[b][a][0]);
for(b=0;b<g.length;b++)g[b][a][0]==h&&c.push(b);f.push(c)}if(0<g[0].length){h=[];c=[f[0]];for(a=1;a<f.length;a++){h=[];for(b=0;b<f[a].length;b++)for(g=0;g<c[a-1].length;g++)c[a-1][g]==f[a][b]&&h.push(f[a][b]);c.push(h.slice())}f=c.slice();h=[];for(a=0;a<f.length;a++)0<f[a].length&&(h=f[a]);b=[];for(a=0;a<h.length;a++)b.push(ap.game.v.pwin[h[a]]);ap.game.v.pwin=b.slice()}}}ap.game.v.winnerNames=playerName[ap.game.v.pwin[0]];for(a=1;a<ap.game.v.pwin.length;a++)ap.game.v.winnerNames+=", "+playerName[ap.game.v.pwin[a]];
m3d.ui.mnSetCustomM("mn2_his",mnHisCustomEndPoker);m3d.core.onWindowResize(0);ap.ref();setTimeout(function(){moveChips(ap.game.v.pwin,100,2,function(){for(var a=Math.floor(ap.game.v.bet[0]/ap.game.v.pwin.length),b=0;b<ap.game.v.pwin.length;b++)ap.game.v.moneywin.push(a),ap.game.v.money[ap.game.v.pwin[b]].s+=a;apVar.mouse=1;ap.ref();1==ap.game.v.wa&&(ap.gTimer.start=5,setTimeout(function(){mnCashContPoker()},4600));1==ap.game.v.onlinev&&ap.infoCenterTimer();ap.decideWin()})},400)}
function mnCashContPoker(){ap.infoCenterTimerStop();m3d.ui.mnSetCustomM("cash",mnCashCustomPoker);ap.game.v.tstatus=m3d.lib.nullFunc;apVar.mouse=0;mn.cash.block=!0;mn.player99.on=!1;getNextPlayerDe(ap.game.v.de);ap.ref();ap.game.v.de=getNextPlayerDe(ap.game.v.de);setTimeout(function(){apVar.mouse=1;mn.cash.block=!1;startPoker()},10)}
function startCzDurak(){ap.game.v.endlv=!1;ap.game.v.ord=1;ap.game.v.mv=1;apVar.mouse=0;ap.game.v.pos.poker=ap.game.v.pos.poker_var[ap.game.v.pls];ap.menuInitMyLocation();menuInitMyLocationCzDurak();ap.game.deck=newDeck();5>ap.game.v.money[2].s&&(ap.game.v.money[2].s=5);gameNewPlayerCzDurak();m3d.ui.mnOn(["gmenu0","table","player1","player2","cash"]);mn.cash.block=!0;mn.cash.bt=[2];ap.game.v.fchip=!1;ap.game.v.money[1].t=1;ap.game.v.money[2].t=3;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,
10);setMenuPlayerCardsN(0,0,10);m3d.core.onWindowResize(0);ap.ref();1==ap.game.v.men?0!=ap.game.v.bet[0]?(ap.game.v.fchip=!0,startCzDurak2()):doBets([5,5],ap.game.v.de,function(){startCzDurak2()}):(ap.game.v.fchip=!0,startCzDurak2())}
function startCzDurak2(){giveCardsAnim(1,5,200,40,function(){setMenuPlayerCardsN(1,0,10)},function(){player[1].sort(ap.sortByi0);giveCardsAnim(2,5,200,40,function(){setMenuPlayerCardsN(2,0,10)},function(){setTimeout(function(){CzDurakCor();setMenuPlayerCardsN(0,0,10);ap.game.v.tstatus=m3d.lib.nullFunc;ap.ref();checkPlayerTableCzDurak(1);checkPlayerTableCzDurak(2);ap.game.v.tstatus=ap.tstatus.yourmove;ap.ref();apVar.mouse=1},0)})})}function CzDurakCor(){}
function gameNewPlayerCzDurak(){ap.gameNewPlayerCommon();player=[[],[],[]];playerName=["",lng.loc[2],lng.loc[3]];playerTable=[[],[],[]];playerTableDrop=[[],[],[]];mnPlayer1Cb=mnPlayer1CzDurak;mn.cash.bt=[2];mn.table.bt=[];mn.table.cb=[];mn.table.btd=[];mn.table.set=[];mn.table.bts=[];mn.table.bts=mn.table.bts.concat(mnb.player_var);ap.game.v.state.hand=[0,0,0]}
menuSetPosMyLocationGameCzDurak=function(){mn.table.sxpos=mn.cash.sxpos;mn.table.sypos=mn.cash.sypos;mn.player1.sxpos=mn.cash.sxpos;mn.player1.sypos=mn.cash.sypos;mn.player2.sxpos=mn.cash.sxpos;mn.player2.sypos=mn.cash.sypos;mn.table.ctx=m3d.ui.layers.canvbk.ctx;mn.player1.ctx=m3d.ui.layers.canvbk.ctx;mn.player2.ctx=m3d.ui.layers.canvbk.ctx;setMenuPlayerCardsN(0,0,10)};
function menuInitMyLocationCzDurak(){ap.menuSetPosMyLocationGame=menuSetPosMyLocationGameCzDurak;ap.menuSetPosMyLocationGame();m3d.ui.mnSetCustomM("cash",mnCashCustomCzDurak);m3d.ui.mnSetCb("cash",1,function(){mnCashCzDurakTake()});setCashButtonAs("no");mn.cash.block=!1;mn.player1.bbot=mnPlayer1BotCzDurak;mn.player2.bbot=mnPlayer2BotCzDurak;mn.player99.bbot=mnPlayer1BotCzDurak;m3d.ui.mnSetCustomM("player1",mnPlayer1CustomStart);mn.table.bbot=mnTableBotCzDurak}
function drawDeckCzDurak(){var a=mn.cash.xpos,b=mn.cash.ypos,c=ap.game.deck.length,e=0;0<c&&(e=1);1<c&&(e=2);2<c&&(e=3);if(0<c)for(m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,a+52-5-2*(e-1)+53,b+152-2*(e-1)+28,105,145),c=0;c<e;c++)m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,400,560,100,140,a+52-2*c+53,b+152-2*c+28,100,140)}function mnPlayer1BotCzDurak(a,b,c,e,f){}function mnPlayer2BotCzDurak(a,b,c,e,f){}function mnPlayer2TopCzDurak(a,b,c,e){}function mnTableCzDurak(a){}
function mnTableBotCzDurak(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)}function mnCashCustomCzDurak(){mnCashCustomCommonCzDurak(mn.cash.xpos,mn.cash.ypos)}
function mnCashCustomOpenCzDurak(){var a=mn.cash.xpos,b=mn.cash.ypos;m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,456,1022,166,6,a+mn.cash.w2-83,b+211+28,166,6);m3d.lib.Tex2Canvas(m3d.ui.layers.canvbk.ctx,ap.game.v.state.score[2].toString(),"italic 18px Arial",20,"#CCCCAA",a+mn.cash.w2-100,b+202+28,200,0,"center","top");m3d.lib.Tex2Canvas(m3d.ui.layers.canvbk.ctx,ap.game.v.state.score[1].toString(),"italic 18px Arial",20,"#CCCCAA",a+mn.cash.w2-100,b+238+28,200,0,"center","top");mnCashCustomCommonCzDurak(a,
b)}
function mnCashCustomCommonCzDurak(a,b){for(var c=ap.game.v.pos.poker.av,e=1;e<ap.game.v.pls+1;e++){var f="player"+e,g=mn[f].sxpos+mn[f].w2,h=mn[f].sypos;if(0==mn[f].bt.length)ap["mnPlayer"+e+"Bot0Games"]("",1,0,g+c[e][0],h+c[e][1])}drawDeckCzDurak();a=mn.cash.xpos+mn.cash.w2-35-10;drawBet(a,b+84+28-20);a=mn.cash.xpos+mn.cash.w2-132;ap.game.v.tstatus(a-150,b+58-6+53);ap.game.v.tact(a,b+76+28);a=m3dcache.v.vw2-m3dcache.setup.aspect.w/2+.5;b=m3dcache.v.vh2-m3dcache.setup.aspect.h/2+.5;m3d.ui.layers.canvbk.ctx.strokeStyle="#333333";
m3d.ui.layers.canvbk.ctx.strokeRect(a,b,m3dcache.setup.aspect.w-1,m3dcache.setup.aspect.h-1)}function checkPlayerTableCzDurak(a){var b=[],c=[],e=!1,f=player[0].length-1;if(-1<f)for(var g=0;g<player[a].length;g++)player[a][g][3]=[],b=player[0][f],c=player[a][g],e=!1,b[1]==c[1]&&(e=!0),b[0]==c[0]&&(e=!0),12==b[0]&&b[1]==c[1]&&(e=!0),14==b[0]&&b[1]==c[1]&&(e=!0),12==c[0]&&(e=!0),1==e&&player[a][g][3].push(f)}function tryFlipDeck(a){a>ap.game.deck.length&&(a=ap.game.deck.length);return a}
function flipDeck(){if(3<player[0].length){for(var a=player[0].length-3,b=[],c=0;c<a;c++)b.push(player[0][c].slice());ap.game.deck=b.concat(ap.game.deck);player[0]=player[0].splice(a,player[0].length-a)}}
function mnPlayer1CzDurak(a){if(0<apVar.mouse&0==ap.game.v.winner[0]){var b=m3d.ui.pCl[a][6]-1,c=a=!1,e=player[0].length-1;if(-1!=e){checkPlayerTableCzDurak(ap.game.v.ord);for(var f=[],e=0;e<player[ap.game.v.ord].length;e++)if(0<player[ap.game.v.ord][e][3].length)for(var g=0;g<player[ap.game.v.ord][e][3].length;g++)f.push(e);if(1==ap.game.v.ord)e=player[0].length-1,0<f.length?(ap.game.v.state.a2="",0!=player[ap.game.v.ord][b-1][3].length&&(ap.game.v.state.a="beat",c=!0)):"givemore"==ap.game.v.state.a2?
(ap.game.v.state.a2="",a=!0,ap.game.v.state.a="take"):(ap.game.v.state.a2="givemore",setMenuPlayerCards4(0,480,70,175,0,0,function(){}),ap.ref(),apVar.mouse=0,f=1,f>ap.game.deck.length&&(f=tryFlipDeck(f)),giveCardsAnim(1,f,180,60,function(){setMenuPlayerCardsN(1,0,10)},function(){player[1].sort(ap.sortByi0);setMenuPlayerCardsN(1,0,10);checkTactCzDurak();ap.ref();apVar.mouse=1}));else{checkPlayerTableCzDurak(ap.game.v.ord);f=[];for(e=0;e<player[ap.game.v.ord].length;e++)if(0<player[ap.game.v.ord][e][3].length)for(g=
0;g<player[ap.game.v.ord][e][3].length;g++)f.push(e);e=player[0].length-1;if(0<f.length){ap.game.v.state.a2="";for(var e=f[0],c=player[ap.game.v.ord][f[0]][0],h=[],g=h=0;g<f.length;g++)h=player[ap.game.v.ord][f[g]],h=h[0],h<c&&(e=f[g],c=player[ap.game.v.ord][f[g]][0]);ap.game.v.selCard=e+1;b=e+1;ap.game.v.state.a="beat";c=!0}else"givemore"==ap.game.v.state.a2?(ap.game.v.state.a2="",a=!0,ap.game.v.state.a="take"):(apVar.mouse=0,ap.game.v.state.a2="givemore",setMenuPlayerCards4(0,480,70,175,0,0,function(){}),
ap.ref(),f=1,f>ap.game.deck.length&&(f=tryFlipDeck(f)),giveCardsAnim(2,f,80,40,function(){setMenuPlayerCards(2,550,0,0,-72,10,0,function(){})},function(){goNextCzDurak(!1,!1)}))}}else{if(1==ap.game.v.ord)ap.game.v.state.a="go";else{for(e=g=c=f=0;e<player[ap.game.v.ord].length;e++)c=player[ap.game.v.ord][g][0],f=player[ap.game.v.ord][e][0],f<c&&(g=e);apVar.mouse=1;ap.game.v.state.a="go";b=g+1}c=!0}1==a&&(ap.game.v.state.a2="",goNextCzDurak(!0,!0));1==c&&(mn.cash.block=!0,ap.game.v.tact=m3d.lib.nullFunc,
apVar.mouse=0,coverLastCardOnTableWithCard(ap.game.v.ord,b-1,{card:b},function(a){apVar.mouse=0;ap.game.v.selCard=0;ap.game.v.state.a="beat";m3d.ui.mnSetCb("cash",1,function(){mnCashCzDurakTake()});setCashButtonAs("no");setMenuPlayerCards4(0,480,70,175,0,0,function(){});setMenuPlayerCardsN(1,0,10);ap.ref();ap.game.v.selCard=b;a=-1;var c=player[0][player[0].length-1];6==c[0]&&(a=1);7==c[0]&&(a=2);14==c[0]&&(a=0);13==c[0]&2==c[1]&&(a=4);-1!=a?(a>ap.game.deck.length&&(a=tryFlipDeck(a)),giveCardsAnim(3-
ap.game.v.ord,a,100,40,function(){1==3-ap.game.v.ord?setMenuPlayerCardsN(1,0,10):setMenuPlayerCardsN(2,0,10)},function(){player[1].sort(ap.sortByi0);setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);ap.ref();apVar.mouse=1;var a=-1,b=player[0][player[0].length-1];if(6==b[0]||7==b[0]||14==b[0]||13==b[0]&2==b[1])a=0;-1!=a?goNextCzDurak(!1,!1):goNextCzDurak(!0,!0)})):(apVar.mouse=1,goNextCzDurak(!0,!0))}))}}
function goNextCzDurak(a,b){ap.game.v.tact=m3d.lib.nullFunc;0==player[ap.game.v.mv].length?gameWinnerCzDurak():0==player[3-ap.game.v.mv].length?gameWinnerCzDurak():(1==b&&(ap.game.v.ord++,2<ap.game.v.ord&&(ap.game.v.ord=1)),1==a&&(ap.game.v.mv++,2<ap.game.v.mv&&(ap.game.v.mv=1),ap.game.v.ord=ap.game.v.mv),ap.game.v.tstatus=1==ap.game.v.mv?ap.tstatus.yourmove:ap.tstatus.aimove,checkTactCzDurak(),flipDeck(),2==ap.game.v.ord?(apVar.mouse=0,mn.cash.block=!0,ap.ref(),setTimeout(function(){apVar.mouse=
1;mnPlayer1CzDurak(0)},100)):(apVar.mouse=1,mn.cash.block=0==player[0].length?!0:!1,"givemore"==ap.game.v.state.a2&&mnPlayer1CzDurak(0),ap.ref()))}function checkTactCzDurak(){checkPlayerTableCzDurak(ap.game.v.ord);for(var a=[],b=0;b<player[ap.game.v.ord].length;b++)if(0<player[ap.game.v.ord][b][3].length)for(var c=0;c<player[ap.game.v.ord][b][3].length;c++)a.push(b);ap.game.v.tact=0==a.length?ap.tact.cantdrop:m3d.lib.nullFunc}function mnCashCzDurakTake0(){mnPlayer1CzDurak(0)}
function mnCashCzDurakTake(){if("givemore"==ap.game.v.state.a2)apVar.mouse=0,ap.game.v.state.a2="",take=!0,ap.game.v.state.a="take",goNextCzDurak(!0,!0);else{apVar.mouse=0;ap.game.v.state.a2="givemore";setMenuPlayerCards4(0,480,70,175,0,0,function(){});ap.ref();var a=1;a>ap.game.deck.length&&(a=tryFlipDeck(a));giveCardsAnim(1,a,80,40,function(){setMenuPlayerCardsN(1,0,10)},function(){0<player[0].length?(apVar.mouse=0,player[1].sort(ap.sortByi0),setMenuPlayerCardsN(1,0,10),checkTactCzDurak(),ap.ref(),
apVar.mouse=1):mn.cash.block=!0})}}function checkPlayerArCzDurak(a){for(var b=[],c=[0,0,0,0,0,0,6,7,8,9,10,2,3,4,11],e=0,f=0;f<a.length;f++)b=a[f],e+=c[b[0]];return e}
function gameWinnerCzDurak(){ap.game.v.state.hand[1]=checkPlayerArCzDurak(player[1]);ap.game.v.state.hand[2]=checkPlayerArCzDurak(player[2]);ap.game.v.state.score[1]+=ap.game.v.state.hand[1];ap.game.v.state.score[2]+=ap.game.v.state.hand[2];ap.game.v.tstatus=ap.game.v.state.hand[2]>ap.game.v.state.hand[1]?ap.tstatus.rtakeyou:ap.game.v.state.hand[1]>ap.game.v.state.hand[2]?ap.tstatus.rtakes:ap.tstatus.rtakesno;mn.table.bt=[];99<ap.game.v.state.score[1]?ap.game.v.winner[0]=2:99<ap.game.v.state.score[2]&&
(ap.game.v.winner[0]=1);mn.cash.block=!1;ap.game.v.endlv=!0;apVar.mouse=1;setCashButtonAs("cont");0!=ap.game.v.winner[0]?m3d.ui.mnSetCb("cash",1,function(){gameWinnerCzDurakEnd()}):m3d.ui.mnSetCb("cash",1,function(){gameWinnerCzDurakCont()});mnPlayer1Cb=function(){};for(var a=0,a=mn.player1.set.length,b=0;b<a;b++)mn.player1.set[b]=5;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);m3d.ui.mnSetCustomM("cash",mnCashCustomOpenCzDurak);ap.ref()}
function gameWinnerCzDurakCont(){apVar.mouse=0;mn.cash.block=!0;mn.player99.on=!1;ap.ref();setTimeout(function(){apVar.mouse=1;mn.cash.block=!1;startCzDurak()},30)}
function gameWinnerCzDurakEnd(){m3d.ui.mnSetCustomM("cash",mnCashCustomCzDurak);ap.game.v.tstatus=ap.tstatus.gameover;mn.cash.block=!1;setCashButtonAs("cont");m3d.ui.mnSetCb("cash",1,function(){ap.mnStart0()});mn.table.on=!1;mn.player99.on=!1;ap.game.v.mouse=0;ap.game.v.fchip=!1;ap.ref();moveChip(ap.game.v.winner[0],100,2,[],function(){ap.game.v.mouse=1;ap.game.v.money[ap.game.v.winner[0]].s+=ap.game.v.bet[0];ap.ref()})}
menuSetPosMyLocationGame3Sticks=function(){mn.table.sxpos=mn.cash.sxpos;mn.table.sypos=mn.cash.sypos;mn.player1.sxpos=mn.cash.sxpos;mn.player1.sypos=mn.cash.sypos;mn.player2.sxpos=mn.cash.sxpos;mn.player2.sypos=mn.cash.sypos;mn.table.ctx=m3d.ui.layers.canvbk.ctx;mn.player1.ctx=m3d.ui.layers.canvbk.ctx;mn.player2.ctx=m3d.ui.layers.canvbk.ctx;setMenuPlayerCardsN(0,0,10)};
function menuInitMyLocation3Sticks(){ap.menuSetPosMyLocationGame=menuSetPosMyLocationGame3Sticks;ap.menuSetPosMyLocationGame();m3d.ui.mnSetCb("cash",1,function(){mnCash3Sticks()});m3d.ui.mnSetCustomM("cash",mnCashCustom3Sticks);setCashButtonAs("open");mn.player1.bbot=mnPlayer1Bot;mn.player2.bbot=mnPlayer2Bot;mn.player99.bbot=mnPlayer1Bot;m3d.ui.mnSetCustomM("player1",mnPlayer1CustomStart);mn.player1.btop=mnPlayerBTop3SticksP1;mn.player2.btop=mnPlayerBTop3SticksP2;mn.table.bbot=mnTableBot3Sticks;mn.table.btop=
mnTableTop3Sticks;m3d.ui.mnSetCustomM("table",mnTableCustom3Sticks);m3d.ui.mnSetCb("table",1,function(){mnTable3Sticks(1)});m3d.ui.mnSetCb("table",2,function(){mnTable3Sticks(2)});m3d.ui.mnSetCb("table",3,function(){mnTable3Sticks(3)})}
function gameNewPlayer3Sticks(){ap.gameNewPlayerCommon();player=[[],[],[]];playerName=["",lng.loc[2],lng.loc[3]];playerTable=[[],[],[]];mnPlayer1Cb=mnPlayer13Sticks;mn.cash.bt=[2];mn.table.bt=[];mn.table.cb=[];mn.table.btd=[];mn.table.set=[];mn.table.bts=[];mn.table.bts=mn.table.bts.concat(mnb.player_var);ap.game.v.state.hand=[0,0,0]}
function checkPlayerAr3Sticks(a){for(var b=[],c=[0,0,0,0,0],e=[0,0,0,0,0,0,6,7,8,9,10,10,10,10,11],f=0;f<a.length;f++)b=a[f],6==b[0]&4==b[1]?(c[1]+=11,c[2]+=11,c[3]+=11,c[4]+=11):c[b[1]]+=e[b[0]];b=c[1];if(14==a[0][0]&14==a[1][0]&14==a[2][0])b=33;else for(f=2;f<c.length;f++)c[f]>b&&(b=c[f]);return b}
function checkPlayerTable3Sticks(a){playerTable[a]=[[],[],[],[]];ap.game.v.state.hand[a]=checkPlayerAr3Sticks(player[a]);for(var b=0;b<player[a].length;b++){player[a][b][2]=[];for(var c=0;c<player[0].length;c++)playerTable[a][c].push(b),player[a][b][2].push(c)}}
function start3Sticks(){ap.game.v.endlv=!1;ap.game.v.ord=1;ap.game.v.mv=1;apVar.mouse=0;ap.game.v.pos.poker=ap.game.v.pos.poker_var[ap.game.v.pls];5>ap.game.v.money[2].s&&(ap.game.v.money[2].s=5);ap.menuInitMyLocation();gameNewPlayer3Sticks();menuInitMyLocation3Sticks();ap.game.deck=newDeck();mn.table.set=[5,5,5];m3d.ui.mnOn(["gmenu0","table","player1","player2","cash"]);mn.cash.block=!0;mn.cash.bt=[2];ap.game.v.fchip=!1;ap.game.v.money[1].t=1;ap.game.v.money[2].t=3;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,
0,10);m3d.core.onWindowResize(0);ap.ref();1==ap.game.v.men?0!=ap.game.v.bet[0]?(ap.game.v.fchip=!0,start3Sticks2()):doBets([5,5],ap.game.v.de,function(){start3Sticks2()}):(ap.game.v.fchip=!0,start3Sticks2())}
function start3Sticks2(){giveCardsAnim(1,3,200,40,function(){setMenuPlayerCardsN(1,0,10)},function(){giveCardsAnim(2,3,200,40,function(){setMenuPlayerCardsN(2,0,10)},function(){setTimeout(function(){setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(1,0,10);ap.game.v.tstatus=m3d.lib.nullFunc;ap.ref();removeCardsTable(0,3,function(){giveCardsTable(0,3,250,function(){mn.cash.block=!1;ap.game.v.tstatus=ap.tstatus.yourmove;checkPlayerTable3Sticks(1);ap.ref();apVar.mouse=1})})},0)})})}
function aiTurn3Sticks(){ap.game.v.tstatus=ap.tstatus.aimove;var a=0,b=-1,c=-1;apVar.mouse=1;ap.game.v.selCard=0;var e=[[1,0],[2,0],[3,0],[4,0]],f=[[],[],[],[]];checkPlayerTable3Sticks(2);for(a=0;a<player[2].length;a++)if(player[2][a][0]>e[player[2][a][1]-1][1]&&(e[player[2][a][1]-1][1]=player[2][a][0]),0<player[2][a][2].length)for(var g=0;g<player[2][a][2].length;g++)f[player[2][a][2][g]].push(a);e.sort(ap.sortByi1);for(var c=e=ap.game.v.selCard=0,h=[],c=[],g=player[2][0][0],a=f=0;a<player[2].length;a++)g>
player[2][a][0]&&(g=player[2][a][0],f=a);for(var g=player[0][0][0],l=0,a=0;a<player[0].length;a++)g<player[0][a][0]&&(g=player[0][a][0],l=a);var k=player[0].slice();k[0]=player[0][0].slice();k[1]=player[0][1].slice();k[2]=player[0][2].slice();k[0].push(0);k[1].push(1);k[2].push(2);k.sort(ap.sortByi0);for(a=0;a<k.length;a++){h=[];for(g=0;g<player[2].length;g++)g!=a&&h.push(player[2][g].slice());for(g=0;g<k.length;g++)c=h.slice(),c.push(k[g].slice()),c=checkPlayerAr3Sticks(c),c<e||(e=c,c=a,b=k[g][3],
ap.game.v.selCard=c+1)}ap.game.v.state.hand[2]>e&&20<ap.game.v.state.hand[2]&&(e=ap.game.v.state.hand[2],ap.game.v.selCard=0);16>e&&(b=l,ap.game.v.selCard=f+1);0!=ap.game.v.selCard?(apVar.mouse=1,mnTable3Sticks(b+1)):gameWinner3Sticks()}
function goNext3Sticks(a){30<ap.game.v.state.hand[1]||30<ap.game.v.state.hand[2]?gameWinner3Sticks():(apVar.mouse=0,1==a&&(ap.game.v.ord++,2<ap.game.v.ord&&(ap.game.v.ord=1)),ap.game.v.tstatus=1==ap.game.v.ord?ap.tstatus.yourmove:ap.tstatus.aimove,2==ap.game.v.ord?(mn.cash.block=!0,apVar.mouse=0,ap.ref(),setTimeout(function(){aiTurn3Sticks()},100)):1==ap.game.v.ord&&(mn.cash.block=!1,apVar.mouse=1,ap.ref()))}
function mnPlayer13Sticks(a){if(0<apVar.mouse&0==ap.game.v.endlv){a=m3d.ui.pCl[a][6]-1;ap.game.v.tact=m3d.lib.nullFunc;mn.table.set=[5,5,5];if(ap.game.v.selCard==a){if(0!=player[1][ap.game.v.selCard-1][2].length||0!=player[1][ap.game.v.selCard-1][3].length)mn.player1.btd[2*(ap.game.v.selCard-1)+1]=ap.game.v.selCardSaveY;ap.game.v.selCard=0}else 0==ap.game.v.selCard||0==player[1][ap.game.v.selCard-1][2].length&&0==player[1][ap.game.v.selCard-1][3].length||(mn.player1.btd[2*(ap.game.v.selCard-1)+1]=
ap.game.v.selCardSaveY),0!=player[1][a-1][2].length&&(ap.game.v.tact=ap.tact.change,mn.table.set=[1,1,1],mn.cash.block=!0,ap.game.v.selCardSaveY=mn.player1.btd[2*(a-1)+1],mn.player1.btd[2*(a-1)+1]-=10),ap.game.v.selCard=a;ap.ref()}}function mnPlayer1CustomStart3Sticks(){ap.drawV()}function mnPlayer1Bot3Sticks(a,b,c,e,f){}function mnPlayer2Bot3Sticks(a,b,c,e,f){}function mnPlayer2Top3Sticks(a,b,c,e){}
function mnTable3Sticks(a){if(0<apVar.mouse){--a;var b="none";0!=m3d.lib.in_arr_n(player[ap.game.v.ord][ap.game.v.selCard-1][2],a).length&&(b="take");"take"==b&&(apVar.mouse=0,mn.table.set=[5,5,5],ap.game.v.tact=m3d.lib.nullFunc,mn.cash.block=!0,ap.ref(),exchangeCardOnTable(ap.game.v.ord,a,ap.game.v.selCard-1,{cardt:a},function(a){apVar.mouse=0;ap.game.v.selCard=0;setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);ap.ref();setTimeout(function(){var a=300;1==ap.game.v.set.animCards&&(a=0);setTimeout(function(){checkPlayerTable3Sticks(1);
checkPlayerTable3Sticks(2);if(0<player[0].length){var a=player[0].slice();a.sort(ap.sortByi0);for(var b=!0,c=!0,e=!0,k=a[0][1],p=a[0][0],q=1;q<a.length;q++)a[q][1]!=k&&(b=!1),a[q][0]!=p&&(c=!1),1!=a[q][0]-a[q-1][0]&&(e=!1);1==b||1==c||1==e?removeCardsTable(0,player[0].length,function(){player[0]=[];var a=3;a>ap.game.deck.length&&(a=ap.game.deck.length);giveCardsTable(0,a,250,function(){goNext3Sticks(!1)})}):goNext3Sticks(!0)}else goNext3Sticks(!0)},a)},400)}))}}
function mnTableBot3Sticks(a,b,c,e,f){m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,1,450,105,145,e-5,f,105,145)}
function mnTableTop3Sticks(a,b,c){if(0!=ap.game.v.selCard){a=m3d.ui.pCl[c][0];var e=m3d.ui.pCl[c][1];0!=m3d.lib.in_arr_n(playerTable[ap.game.v.ord][m3d.ui.pCl[c][6]-2],ap.game.v.selCard-1).length&&(0==ap.game.v.tableCard?m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,730,4,100,140,a+5,e+10,100,140):ap.game.v.tableCard==b&&(b=getCardCoords([takeCardsD.cardpCopy[0],takeCardsD.cardpCopy[1]]),m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cards,b[0],b[1],100,140,a+5,e+10,100,140)))}}
function mnTableCustom3Sticks(){}function mnCash3Sticks(){gameWinner3Sticks()}function mnPlayerBTop3SticksP1(a,b,c){mnPlayerBTop3Sticks(a,b,c,1)}function mnPlayerBTop3SticksP2(a,b,c){mnPlayerBTop3Sticks(a,b,c,2)}
function mnPlayerBTop3Sticks(a,b,c,e){if(1==b){a=m3d.ui.pCl[c][0];c=m3d.ui.pCl[c][1];var f=0,f=1,g=0;for(b=1;b<ap.game.v.winner.length+1;b++)ap.game.v.winner[b]>g&&(g=ap.game.v.winner[b],f=b);if(f!=e)for(f=ap.game.v.winner[f],b=0;b<f;b++)m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,638,968,20,48,a+15*b-68,c+46,20,48)}}
function mnCashCustom3Sticks(){var a=mn.cash.xpos,b=mn.cash.ypos;m3d.lib.Tex2Canvas(m3d.ui.layers.canvbk.ctx,ap.game.v.state.hand[1].toString(),"bold 16px Arial",20,"#BBBB99",mn.mn2_game.xpos+420,mn.mn2_game.ypos+470,30,0,"center","top");mnCashCustomCommon3Sticks(a,b)}
function mnCashCustomOpen3Sticks(){var a=mn.cash.xpos,b=mn.cash.ypos;m3d.ui.layers.canvbk.ctx.drawImage(ap.mnbk.cardsm,456,1022,166,6,a+mn.cash.w2-83,b+211+28,166,6);m3d.lib.Tex2Canvas(m3d.ui.layers.canvbk.ctx,ap.game.v.state.hand[2].toString(),"italic 18px Arial",20,"#CCCCAA",a+mn.cash.w2-100,b+202+28,200,0,"center","top");m3d.lib.Tex2Canvas(m3d.ui.layers.canvbk.ctx,ap.game.v.state.hand[1].toString(),"italic 18px Arial",20,"#CCCCAA",a+mn.cash.w2-100,b+238+28,200,0,"center","top");mnCashCustomCommon3Sticks(a,
b)}function mnCashCustomEnd3Sticks(){mnCashCustomCommon3Sticks(mn.cash.xpos,mn.cash.ypos)}
function mnCashCustomCommon3Sticks(a,b){for(var c=ap.game.v.pos.poker.av,e=1;e<ap.game.v.pls+1;e++){var f="player"+e,g=mn[f].sxpos+mn[f].w2,h=mn[f].sypos;if(0==mn[f].bt.length)ap["mnPlayer"+e+"Bot0Games"]("",1,0,g+c[e][0],h+c[e][1])}drawDeck(0,0);a=mn.cash.xpos+mn.cash.w2-35-10;drawBet(a,b+84+28-20);a=mn.cash.xpos+mn.cash.w2-132;ap.game.v.tstatus(a-150,b+58-6+53);ap.game.v.tact(a,b+76+28);a=m3dcache.v.vw2-m3dcache.setup.aspect.w/2+.5;b=m3dcache.v.vh2-m3dcache.setup.aspect.h/2+.5;m3d.ui.layers.canvbk.ctx.strokeStyle=
"#333333";m3d.ui.layers.canvbk.ctx.strokeRect(a,b,m3dcache.setup.aspect.w-1,m3dcache.setup.aspect.h-1)}
function gameWinner3Sticks(){checkPlayerTable3Sticks(1);checkPlayerTable3Sticks(2);ap.game.v.state.hand[1]>ap.game.v.state.hand[2]?(ap.game.v.winner[1]++,ap.game.v.endlv=!0,ap.game.v.tstatus=ap.tstatus.rtakeyou):ap.game.v.state.hand[1]<ap.game.v.state.hand[2]?(ap.game.v.winner[2]++,ap.game.v.endlv=!0,ap.game.v.tstatus=ap.tstatus.rtakes):(ap.game.v.endlv=!0,ap.game.v.tstatus=ap.tstatus.rtakesno);mn.player99.on=!0;mn.cash.block=!1;mn.table.on=!1;setCashButtonAs("cont");m3d.ui.mnSetCb("cash",1,function(){mnCashCont3Sticks()});
for(var a=apVar.mouse=1;a<ap.game.v.winner.length;a++)2<ap.game.v.winner[a]&&(ap.game.v.winner[0]=a);0!=ap.game.v.winner[0]&&m3d.ui.mnSetCb("cash",1,function(){gameWinnerEnd3Sticks()});player[1].set=[5,5,5];setMenuPlayerCardsN(1,0,10);setMenuPlayerCardsN(2,0,10);m3d.ui.mnSetCustomM("cash",mnCashCustomOpen3Sticks);ap.ref()}function mnCashCont3Sticks(){apVar.mouse=0;mn.cash.block=!0;mn.player99.on=!1;ap.ref();setTimeout(function(){apVar.mouse=1;mn.cash.block=!1;start3Sticks()},10)}
function gameWinnerEnd3Sticks(){m3d.ui.mnSetCb("cash",1,function(){ap.mnStart0()});m3d.ui.mnSetCustomM("cash",mnCashCustomEnd3Sticks);mn.table.on=!1;mn.player99.on=!1;ap.game.v.tstatus=ap.tstatus.gameover;ap.game.v.mouse=0;ap.game.v.fchip=!1;ap.ref();moveChip(ap.game.v.winner[0],100,2,[],function(){ap.game.v.mouse=1;ap.game.v.money[ap.game.v.winner[0]].s+=ap.game.v.bet[0];ap.ref()})}function mnSoc2(a){ap.mnStartHelp()}function mnShop(a){ap.mnStartHelp()}
function btLangCl(){"ru"==m3dcache.v.lng?(m3dcache.v.lng="en",mnb.lang[2]=mnb.lang_var[2]):(m3dcache.v.lng="ru",mnb.lang[2]=mnb.lang_var[3]);ap.ref();document.getElementById("divrndrback").style.display="none";apVar.chlang=!0;(1==apVar.loadedall||1==apVar.init3Dstart&1==apVar.init3Dfail)&&btLangClGo()}
function btLangClGo(){m3d.ui.mnBlockAll();ap.ref();m3d.resize.mnMainFullScreenExit();ap.blackMake(function(){setTimeout(function(){location.replace(m3dconf.htmlname+"?lang="+m3dcache.v.lng)},200)})}"ext1"!=m3dcache.setup.apptype&&"ext1tri"!=m3dcache.setup.apptype||ap.loadLocationMyLocation();
